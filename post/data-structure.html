<!DOCTYPE html><html lang="en-US"><head><meta name="viewport" content="width=device-width"/><meta charSet="utf-8"/><script>!function(){try {var d=document.documentElement.classList;d.remove('light','dark');var e=localStorage.getItem('theme');if("system"===e||(!e&&true)){var t="(prefers-color-scheme: dark)",m=window.matchMedia(t);m.media!==t||m.matches?d.add('dark'):d.add('light')}else if(e) d.add(e)}catch(e){}}()</script><title>æ•°æ®ç»“æ„ç¬”è®° | Xu dongdong&#x27;s blog</title><meta name="description" content="A blog created with Next.js and Tailwind.css"/><meta property="og:type" content="website"/><meta name="og:title" property="og:title" content="æ•°æ®ç»“æ„ç¬”è®°"/><meta name="og:description" property="og:description" content="A blog created with Next.js and Tailwind.css"/><meta name="twitter:card" content="summary"/><meta name="twitter:title" content="æ•°æ®ç»“æ„ç¬”è®°"/><meta name="twitter:description" content="A blog created with Next.js and Tailwind.css"/><meta name="twitter:creator" content="https://twitter.com/WhyYouJames"/><link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png"/><link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png"/><link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png"/><link rel="manifest" href="/site.webmanifest"/><meta name="next-head-count" content="16"/><link rel="preload" href="/_next/static/css/f8d73a71d7937abe53e1.css" as="style"/><link rel="stylesheet" href="/_next/static/css/f8d73a71d7937abe53e1.css" data-n-g=""/><noscript data-n-css=""></noscript><link rel="preload" href="/_next/static/chunks/main-c6f966696d7d46f48c33.js" as="script"/><link rel="preload" href="/_next/static/chunks/webpack-50bee04d1dc61f8adf5b.js" as="script"/><link rel="preload" href="/_next/static/chunks/framework.10b3d8f36ae5d485c3da.js" as="script"/><link rel="preload" href="/_next/static/chunks/commons.18cd929bdef6e2f96561.js" as="script"/><link rel="preload" href="/_next/static/chunks/pages/_app-7c6d80ab417193f95407.js" as="script"/><link rel="preload" href="/_next/static/chunks/1173eff4538ab0eae4f3f506dea9a7965770ad37.c3b64f225a2ce340a522.js" as="script"/><link rel="preload" href="/_next/static/chunks/pages/post/%5Bslug%5D-48f028bae094661c2f5e.js" as="script"/></head><body><div id="__next"><div class="w-full min-h-screen dark:bg-gray-700 dark:text-white flex"><div class="max-w-screen-md px-4 py-12 mx-auto antialiased font-body flex flex-col flex-grow"><header class="flex items-center justify-between  mb-2"><div class="max-w-lg"><h1><a class="text-2xl font-black text-black no-underline font-display dark:text-white" href="/">Xu dongdong&#x27;s blog</a></h1></div></header><main class="flex-grow"><article><header class="mb-8"><h1 class="mb-2 text-6xl font-black leading-none font-display">æ•°æ®ç»“æ„ç¬”è®°</h1></header><div class="mb-4 prose lg:prose-lg dark:prose-dark"><h2>å­˜å‚¨æ–¹å¼</h2><h3>æ•°æ®ç»“æ„çš„å­˜å‚¨æ–¹å¼åªæœ‰ä¸¤ç§ï¼šæ•°ç»„ï¼ˆé¡ºåºå­˜å‚¨ï¼‰å’Œé“¾è¡¨ï¼ˆé“¾å¼å­˜å‚¨ï¼‰</h3><p>æ•£åˆ—è¡¨ã€æ ˆã€é˜Ÿåˆ—ã€å †ã€æ ‘ã€å›¾ç­‰ç­‰å„ç§æ•°æ®ç»“æ„éƒ½å±äºä¸Šå±‚å»ºç­‘ï¼Œè€Œæ•°ç»„å’Œé“¾è¡¨æ‰æ˜¯ã€Œç»“æ„åŸºç¡€ã€ã€‚</p><h3>ä¸¤è€…ä¼˜ç¼ºç‚¹</h3><p><strong>æ•°ç»„</strong></p><ol><li>ç”±äºæ˜¯è¿ç»­å­˜å‚¨ï¼Œå¯ä»¥éšæœºè®¿é—®ï¼Œé€šè¿‡ç´¢å¼•å¿«é€Ÿæ‰¾åˆ°å¯¹åº”å…ƒç´ ï¼Œè€Œä¸”ç›¸å¯¹èŠ‚çº¦å­˜å‚¨ç©ºé—´ï¼Œè®¿é—®æ•°ç»„å…ƒç´ çš„æ—¶é—´å¤æ‚åº¦ O(1)ï¼›</li><li>ä½†æ­£å› ä¸ºè¿ç»­å­˜å‚¨ï¼Œå†…å­˜ç©ºé—´å¿…é¡»ä¸€æ¬¡æ€§åˆ†é…å¤Ÿï¼Œæ‰€ä»¥è¯´æ•°ç»„å¦‚æœè¦æ‰©å®¹ï¼Œéœ€è¦é‡æ–°åˆ†é…ä¸€å—æ›´å¤§çš„ç©ºé—´ï¼Œå†æŠŠæ•°æ®å…¨éƒ¨å¤åˆ¶è¿‡å»ï¼Œæ—¶é—´å¤æ‚åº¦ O(N)ï¼›è€Œä¸”ä½ å¦‚æœæƒ³åœ¨æ•°ç»„ä¸­é—´è¿›è¡Œæ’å…¥å’Œåˆ é™¤ï¼Œæ¯æ¬¡å¿…é¡»æ¬ç§»åé¢çš„æ‰€æœ‰æ•°æ®ä»¥ä¿æŒè¿ç»­ï¼Œæ—¶é—´å¤æ‚åº¦ O(N)ã€‚</li></ol><p><strong>é“¾è¡¨</strong></p><ol><li>å› ä¸ºå…ƒç´ ä¸è¿ç»­ï¼Œè€Œæ˜¯é æŒ‡é’ˆæŒ‡å‘ä¸‹ä¸€ä¸ªå…ƒç´ çš„ä½ç½®ï¼Œæ‰€ä»¥ä¸å­˜åœ¨æ•°ç»„çš„æ‰©å®¹é—®é¢˜ï¼›</li><li>å¦‚æœçŸ¥é“æŸä¸€å…ƒç´ çš„å‰é©±å’Œåé©±ï¼Œæ“ä½œæŒ‡é’ˆå³å¯åˆ é™¤è¯¥å…ƒç´ æˆ–è€…æ’å…¥æ–°å…ƒç´ ï¼Œæ—¶é—´å¤æ‚åº¦ O(1)ã€‚</li><li>ä½†æ˜¯æ­£å› ä¸ºå­˜å‚¨ç©ºé—´ä¸è¿ç»­ï¼Œä½ æ— æ³•æ ¹æ®ä¸€ä¸ªç´¢å¼•ç®—å‡ºå¯¹åº”å…ƒç´ çš„åœ°å€ï¼Œæ‰€ä»¥ä¸èƒ½éšæœºè®¿é—®ï¼›è€Œä¸”ç”±äºæ¯ä¸ªå…ƒç´ å¿…é¡»å­˜å‚¨æŒ‡å‘å‰åå…ƒç´ ä½ç½®çš„æŒ‡é’ˆï¼Œä¼šæ¶ˆè€—ç›¸å¯¹æ›´å¤šçš„å‚¨å­˜ç©ºé—´ã€‚</li></ol><h2>åŸºæœ¬æ“ä½œ</h2><p>æ•°æ®ç»“æ„çš„åŸºæœ¬æ“ä½œæ— ééå† + è®¿é—®ï¼Œå³å¢åˆ æ”¹æŸ¥ï¼›</p><p>ä½†æ˜¯ä¸åŒæ•°æ®ç»“æ„çš„å¢åˆ æ”¹æŸ¥çš„æ•ˆç‡æ˜¯ä¸ä¸€æ ·çš„ï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦äº†è§£å„æ•°æ®ç»“æ„çš„ç‰¹æ€§ä»¥ä¾¿æˆ‘ä»¬åœ¨ä¸åŒåœºæ™¯ä¸‹æé«˜ä»£ç çš„æ€§èƒ½ã€‚</p><p>éå† + è®¿é—® åˆ†ä¸ºä¸¤ç§å½¢å¼ï¼šçº¿æ€§çš„å’Œéçº¿æ€§çš„ã€‚</p><p>çº¿æ€§ï¼šä»¥for/while è¿­ä»£ä¸ºä»£è¡¨</p><p>éçº¿æ€§ï¼šä»¥é€’å½’ä¸ºä»£è¡¨</p></div><hr class="mt-4"/><footer><div class="flex items-center mt-8 mb-16"><picture class="flex-shrink-0 mb-0 mr-3 rounded-full w-14 h-14 select-none cursor-pointer hvr-float-shadow"><source type="image/webp" data-srcset="/_next/static/images/profile-8ed88833980dc158e6d9ec3b1bb7c0a8.png.webp"/><source type="image/png" data-srcset="/_next/static/images/profile-44443f720aaa2ff4c2b67336ff9f586b.png"/><img class="lazyload blur flex-shrink-0 mb-0 mr-3 rounded-full w-14 h-14 select-none cursor-pointer hvr-float-shadow" alt="Profile" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAJCAYAAAALpr0TAAAAAklEQVR4AewaftIAAAFBSURBVAXBSS8DYQCA4fcz33RqWpUuU8tEkKjtUqIhJELiRCJxcfRf/AknP8OFiwMXF40DSVO0iRhLVbR0mX08jzg63Ikc28NzA1QR8vBcJ6Eq9AYUDMNAxlOsrBSRH40WIoLJbIL1qTzS63JvfRKJECd0MM0h9IREmZ4YOyaAw7UCG6UlNpfneaw8UbNa4Ie4tk9uSEO6nouCoO9FZEZNWu8WcUViZpLsH+wyMjnBX7eDzCuQ0zVsAtpvb1RrL9Stb3RNkO//MSwl6mAcWRrNMLO1jZ5UuSiXITXO6vISp+eXbNs+olal02kj/YUidiyJ5wsK63u8N74xSxmmyrecnF2TNtJoUkUa2RxO95ew3+al1yXm9tCCiLnCLPqrRbP5QSRC5GLsi0DVkekUj5UKjZ8+TSdA6ikWigYDqs/VzR3/TEV/Airrby8AAAAASUVORK5CYII="/></picture><p class="text-base leading-7 font-semibold">ä¸æ­£ç»çš„äººæœºäº¤äº’å·¥ç¨‹å¸ˆ</p></div></footer></article><nav class="flex flex-wrap justify-between mb-10"><a class="text-lg font-bold" href="/post/applyMiddleware">â† <!-- -->reduxæºç ç³»åˆ—ä¹‹applyMiddleware</a><a class="text-lg font-bold" href="/post/http">é¢è¯•é¢˜é›†åˆï¼ˆç½‘ç»œç¯‡ï¼‰<!-- --> â†’</a></nav></main><footer class="text-lg font-light mt-3">Â© <!-- -->2021<!-- --> <!-- -->Built with<!-- --> <a href="https://nextjs.org/">Next.js</a>ğŸ”¥, Deployed on<!-- --> <a href="https://pages.github.com/">GitHub Pages</a></footer></div></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"frontmatter":{"title":"æ•°æ®ç»“æ„ç¬”è®°","date":"June 30, 2021","description":null},"post":{"content":"\n## å­˜å‚¨æ–¹å¼\n\n### æ•°æ®ç»“æ„çš„å­˜å‚¨æ–¹å¼åªæœ‰ä¸¤ç§ï¼šæ•°ç»„ï¼ˆé¡ºåºå­˜å‚¨ï¼‰å’Œé“¾è¡¨ï¼ˆé“¾å¼å­˜å‚¨ï¼‰\n\næ•£åˆ—è¡¨ã€æ ˆã€é˜Ÿåˆ—ã€å †ã€æ ‘ã€å›¾ç­‰ç­‰å„ç§æ•°æ®ç»“æ„éƒ½å±äºä¸Šå±‚å»ºç­‘ï¼Œè€Œæ•°ç»„å’Œé“¾è¡¨æ‰æ˜¯ã€Œç»“æ„åŸºç¡€ã€ã€‚\n\n### ä¸¤è€…ä¼˜ç¼ºç‚¹\n\n**æ•°ç»„**\n\n1. ç”±äºæ˜¯è¿ç»­å­˜å‚¨ï¼Œå¯ä»¥éšæœºè®¿é—®ï¼Œé€šè¿‡ç´¢å¼•å¿«é€Ÿæ‰¾åˆ°å¯¹åº”å…ƒç´ ï¼Œè€Œä¸”ç›¸å¯¹èŠ‚çº¦å­˜å‚¨ç©ºé—´ï¼Œè®¿é—®æ•°ç»„å…ƒç´ çš„æ—¶é—´å¤æ‚åº¦ O(1)ï¼›\n2. ä½†æ­£å› ä¸ºè¿ç»­å­˜å‚¨ï¼Œå†…å­˜ç©ºé—´å¿…é¡»ä¸€æ¬¡æ€§åˆ†é…å¤Ÿï¼Œæ‰€ä»¥è¯´æ•°ç»„å¦‚æœè¦æ‰©å®¹ï¼Œéœ€è¦é‡æ–°åˆ†é…ä¸€å—æ›´å¤§çš„ç©ºé—´ï¼Œå†æŠŠæ•°æ®å…¨éƒ¨å¤åˆ¶è¿‡å»ï¼Œæ—¶é—´å¤æ‚åº¦ O(N)ï¼›è€Œä¸”ä½ å¦‚æœæƒ³åœ¨æ•°ç»„ä¸­é—´è¿›è¡Œæ’å…¥å’Œåˆ é™¤ï¼Œæ¯æ¬¡å¿…é¡»æ¬ç§»åé¢çš„æ‰€æœ‰æ•°æ®ä»¥ä¿æŒè¿ç»­ï¼Œæ—¶é—´å¤æ‚åº¦ O(N)ã€‚\n\n**é“¾è¡¨**\n\n1. å› ä¸ºå…ƒç´ ä¸è¿ç»­ï¼Œè€Œæ˜¯é æŒ‡é’ˆæŒ‡å‘ä¸‹ä¸€ä¸ªå…ƒç´ çš„ä½ç½®ï¼Œæ‰€ä»¥ä¸å­˜åœ¨æ•°ç»„çš„æ‰©å®¹é—®é¢˜ï¼›\n2. å¦‚æœçŸ¥é“æŸä¸€å…ƒç´ çš„å‰é©±å’Œåé©±ï¼Œæ“ä½œæŒ‡é’ˆå³å¯åˆ é™¤è¯¥å…ƒç´ æˆ–è€…æ’å…¥æ–°å…ƒç´ ï¼Œæ—¶é—´å¤æ‚åº¦ O(1)ã€‚\n3. ä½†æ˜¯æ­£å› ä¸ºå­˜å‚¨ç©ºé—´ä¸è¿ç»­ï¼Œä½ æ— æ³•æ ¹æ®ä¸€ä¸ªç´¢å¼•ç®—å‡ºå¯¹åº”å…ƒç´ çš„åœ°å€ï¼Œæ‰€ä»¥ä¸èƒ½éšæœºè®¿é—®ï¼›è€Œä¸”ç”±äºæ¯ä¸ªå…ƒç´ å¿…é¡»å­˜å‚¨æŒ‡å‘å‰åå…ƒç´ ä½ç½®çš„æŒ‡é’ˆï¼Œä¼šæ¶ˆè€—ç›¸å¯¹æ›´å¤šçš„å‚¨å­˜ç©ºé—´ã€‚\n\n\n## åŸºæœ¬æ“ä½œ\n\næ•°æ®ç»“æ„çš„åŸºæœ¬æ“ä½œæ— ééå† + è®¿é—®ï¼Œå³å¢åˆ æ”¹æŸ¥ï¼›\n\nä½†æ˜¯ä¸åŒæ•°æ®ç»“æ„çš„å¢åˆ æ”¹æŸ¥çš„æ•ˆç‡æ˜¯ä¸ä¸€æ ·çš„ï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦äº†è§£å„æ•°æ®ç»“æ„çš„ç‰¹æ€§ä»¥ä¾¿æˆ‘ä»¬åœ¨ä¸åŒåœºæ™¯ä¸‹æé«˜ä»£ç çš„æ€§èƒ½ã€‚\n\néå† + è®¿é—® åˆ†ä¸ºä¸¤ç§å½¢å¼ï¼šçº¿æ€§çš„å’Œéçº¿æ€§çš„ã€‚\n\nçº¿æ€§ï¼šä»¥for/while è¿­ä»£ä¸ºä»£è¡¨\n\néçº¿æ€§ï¼šä»¥é€’å½’ä¸ºä»£è¡¨\n\n\n","excerpt":""},"previousPost":{"slug":"applyMiddleware","frontmatter":{"title":"reduxæºç ç³»åˆ—ä¹‹applyMiddleware","date":"June 28, 2021","description":null},"excerpt":"","content":"\nç»ˆäºæ¥åˆ° **applyMiddleware** éƒ¨åˆ†ï¼Œç†è§£äº† [**compose**](https://xudongdong.site/post/compose) å’Œ [**Currying**](https://xudongdong.site/post/currying)ï¼Œè¿™éƒ¨åˆ†æºç ä¹Ÿå˜å¾—å¾ˆå¥½ç†è§£\n\nè¿™ä¸ªæ–¹æ³•æ˜¯ç”¨æ¥åº”ç”¨ä¸­é—´ä»¶çš„ï¼Œç”¨è¿‡ **node** çš„åŒå­¦åº”è¯¥æ¯”è¾ƒäº†è§£ï¼Œä¸­é—´ä»¶æˆ‘çš„ç†è§£ç±»ä¼¼äºæ’ä»¶ï¼Œä¸€èˆ¬ä¸ºäº†é¿å…ç³»ç»Ÿæ¡†æ¶è¿‡äºè‡ƒè‚¿ï¼Œæˆ‘ä»¬æŠŠå¸¸ç”¨çš„åŠŸèƒ½å‰¥ç¦»å¼€æ¥ï¼Œä»¥ä¸­é—´ä»¶çš„å½¢å¼æ’å…¥åˆ°æ¡†æ¶ä¸­æ¥å®ç°å¤æ‚çš„åº”ç”¨å¤„ç†\n\næˆ‘ä»¬é¦–å…ˆçœ‹ä¸‹ **applyMiddleware** çš„ç”¨æ³•\n\n``` js\nimport { applyMiddleware } from 'redux';\nimport thunk from 'redux-thunk';\nimport logger from 'redux-logger';\n\nconst store = createStore(reducer, applyMiddleware(thunk, logger))\n```\n\n**createStore** å†…éƒ¨çš„è°ƒç”¨\n\n``` js\nfunction createStore(reducer, preloadedState, enhancer) {\n  // ä¼ å…¥å‚æ•°çš„åˆ¤æ–­\n  // ...\n\n  // å‚æ•°ä¸­enhancer functionå­˜åœ¨ï¼Œä¸€èˆ¬æ˜¯æŒ‡applyMiddleware()\n  if (typeof enhancer !== \"undefined\" \u0026\u0026 typeof enhancer === \"function\") {\n    return enhancer(createStore)(reducer, preloadedState);\n  }\n\n  // çœç•¥\n}\n```\n\nç”±æ­¤å¯ä»¥å¾—å‡º **applyMiddleware** çš„ **API** è°ƒç”¨\n\n``` js\napplyMiddleware(thunk, logger)(createStore)(reducer, preloadedState);\n\n// applyMiddleware(...middlewares)(createStore)(reducer, preloadedState);\n```\n\nç»“åˆæºç \n\næˆ‘ä»¬å°†æºç ä¸­ **TS** éƒ¨åˆ†å»é™¤ï¼Œå¾—å‡ºå‡½æ•°ä¸»ä½“ä»£ç \n\n``` javascript\nimport { compose } from \"./compose\";\n\nfunction applyMiddleware(...middlewares) {\n  // use Currying function\n  return (createStore) =\u003e (reducer, preloadedState) =\u003e {\n    // è·å–store\n    const store = createStore(reducer, preloadedState);\n    // åˆå§‹åŒ–dispatch\n    let dispatch = () =\u003e {\n      // åœ¨dispatchå®Œæˆæ­£åœ¨èµ‹å€¼ä¹‹å‰ï¼Œè°ƒç”¨ä¼šæŠ¥é”™\n      throw new Error(\"ç›®å‰è¿˜ä¸èƒ½ä½¿ç”¨dispatch\")\n    }\n\n    // ç»™æ¯ä¸ªä¸­é—´ä»¶çš„é»˜è®¤ä¼ å‚ï¼šgetStateï¼Œdispatch\n    const middlewareAPI = {\n      getState: store.getState,\n      dispatch: (action, ...args) =\u003e dispatch(action, ...args)\n    }\n    \n    // åŠ å…¥é»˜è®¤å‚æ•°åçš„ä¸­é—´ä»¶chain\n    const chain = middlewares.map(middleware =\u003e middleware(middlewareAPI))\n    // å¯¹chainåšcomposeæ“ä½œï¼Œå¹¶èµ‹å€¼ç»™dispatch\n    dispatch = compose(...chain)(store.dispatch)\n  }\n\n  // è¿”å›storeçš„å±æ€§å’Œdispatch\n  return {\n    ...store,\n    dispatch\n  }\n}\n```\n\nä¸»è¦éš¾ä»¥ç†è§£çš„éƒ¨åˆ†è¿˜æ˜¯ **compose** è¿™ä¸€å—\n\næˆ‘ä»¬æ‹¿ä¸¤ä¸ªä¸­é—´ä»¶åšè§£æ\n\n``` javascript\nimport thunk from 'redux-thunk';\nimport logger from 'redux-logger';\n\napplyMiddleware(thunk, logger)(createStore)(reducer, preloadedState);\n\n// applyMiddleware chainéƒ¨åˆ†\nconst middlewareAPI = { getState, dispatch }\n\nconst chain = [thunk, logger].map(middleware =\u003e middleware(middlewareAPI))\n// const chain = [thunk(middlewareAPI), logger(middlewareAPI)]\n// const chain = [thunk({ getState, dispatch }), logger({ getState, dispatch })]\n\n// applyMiddleware compose dispatchéƒ¨åˆ†\ndispatch = compose(...chain)(store.dispatch)\n// dispatch = compose(thunk({ getState, dispatch }), logger({ getState, dispatch }))(store.dispatch)\n\n// æ ¹æ® compose ä»£ç å¯è½¬åŒ–ä¸º\n// dispatch = thunk({ getState, dispatch })(logger({ getState, dispatch })(store.dispatch))\n```\n\nä»£ç åˆ°è¿™è¾¹æˆ‘ä»¬éœ€è¦ç»“åˆ **redux-thunk** æºç ç»§ç»­è§£æäº†\n\n``` js\nfunction createThunkMiddleware(extraArgument) {\n  return ({ dispatch, getState }) =\u003e (next) =\u003e (action) =\u003e {\n    if (typeof action === 'function') {\n      return action(dispatch, getState, extraArgument);\n    }\n\n    return next(action);\n  };\n}\n\nconst thunk = createThunkMiddleware();\nthunk.withExtraArgument = createThunkMiddleware;\n\nexport default thunk;\n```\n\næŠŠ\n``` js\ndispatch = thunk({ getState, dispatch })(logger({ getState, dispatch })(store.dispatch))\n```\n\næ”¾åˆ° **thunk** ä¸­\n\n``` js\ndispatch = ({ getState, dispatch }) =\u003e {\n  return ({ getState, dispatch }) =\u003e (logger({ getState, dispatch })(store.dispatch)) =\u003e (action) =\u003e {\n\n    // å¦‚æœæœ‰å¼‚æ­¥actionï¼Œä¼šå…ˆæ‰§è¡Œå¼‚æ­¥actionï¼Œåœ¨æ‰§è¡Œä¼ è¿›æ¥çš„logger function\n    if (typeof action === 'function') {\n      return action(dispatch, getState, extraArgument);\n    }\n\n    return logger({ getState, dispatch })(store.dispatch)(action);\n  }\n}\n```\n\nåº”ç”¨äº† **thunk** å’Œ **logger** çš„ **redux** åº”ç”¨ï¼Œä¼šå…ˆæ‰§è¡Œå¼‚æ­¥ **action**ï¼Œåœ¨æ‰§è¡Œ **logger** ä¸­é—´ä»¶ã€‚\n\nä»ä»£ç ä¸Šçœ‹ï¼Œ**applyMiddleware** æœ€ä¸»è¦çš„ä½œç”¨å°±æ˜¯å¯¹åŸå§‹çš„ **dispatch** æ–¹æ³•è¿›è¡Œäº†é‡æ–°èµ‹å€¼ï¼Œå¹¶å°†å®ƒä¸ **store** çš„å±æ€§è¿”å›ã€‚\n\n\n## å‚è€ƒ\n- [redux-thunk](https://github.com/reduxjs/redux-thunk/blob/master/src/index.js)\n\n"},"nextPost":{"slug":"http","frontmatter":{"title":"é¢è¯•é¢˜é›†åˆï¼ˆç½‘ç»œç¯‡ï¼‰","date":"July 1, 2021","description":null},"excerpt":"","content":"\n## 1. TCP/IP å››å±‚ç½‘ç»œæ¨¡å‹\n\nç¬¬ä¸€å±‚ï¼šåº”ç”¨å±‚ï¼Œä¸»è¦æœ‰è´Ÿè´£webæµè§ˆå™¨çš„ **HTTP** åè®®ï¼Œ æ–‡ä»¶ä¼ è¾“çš„ **FTP** åè®®ï¼Œè´Ÿè´£ç”µå­é‚®ä»¶çš„ **SMTP** åè®®ï¼Œè´Ÿè´£åŸŸåç³»ç»Ÿçš„ **DNS** ç­‰ã€‚\n\nç¬¬äºŒå±‚ï¼šä¼ è¾“å±‚ï¼Œä¸»è¦æ˜¯æœ‰å¯é ä¼ è¾“çš„ **TCP** åè®®ï¼Œç‰¹åˆ«é«˜æ•ˆçš„ **UDP** åè®®ã€‚ä¸»è¦è´Ÿè´£ä¼ è¾“åº”ç”¨å±‚çš„æ•°æ®åŒ…ã€‚\n\nç¬¬ä¸‰å±‚ï¼šç½‘ç»œå±‚ï¼Œä¸»è¦æ˜¯ **IP** åè®®ã€‚ä¸»è¦è´Ÿè´£å¯»å€ï¼ˆæ‰¾åˆ°ç›®æ ‡è®¾å¤‡çš„ä½ç½®ï¼‰\n\nç¬¬å››å±‚ï¼šæ•°æ®é“¾è·¯å±‚ï¼Œä¸»è¦æ˜¯è´Ÿè´£è½¬æ¢æ•°å­—ä¿¡å·å’Œç‰©ç†äºŒè¿›åˆ¶ä¿¡å·ã€‚\n\n## 2. ç”¨æˆ·è¾“å…¥urlåˆ°é¡µé¢å±•ç¤ºçš„è¿‡ç¨‹\n   \n- DNSè§£æ\n  \n  åŸŸååˆ°çœŸå®IPçš„å¯»å€è¿‡ç¨‹\n- å‘èµ·TCPè¿æ¥\n  \n  ä¸‰æ¬¡æ¡æ‰‹ğŸ¤ï¼Œç¡®å®š **client** ï¼Œ**server** åŒç«¯çš„æ¥å—å‘é€èƒ½åŠ›\n- å‘èµ·Httpè¯·æ±‚\n- æœåŠ¡å™¨å¤„ç†è¯·æ±‚å¹¶è¿”å›HTTPæŠ¥æ–‡\n- æµè§ˆå™¨è§£ææ¸²æŸ“é¡µé¢\n\n## 3. è¯´ä¸€ä¸‹ Http ç¼“å­˜ç­–ç•¥ï¼Œæœ‰ä»€ä¹ˆåŒºåˆ«ï¼Œåˆ†åˆ«è§£å†³äº†ä»€ä¹ˆé—®é¢˜\n   \n   æµè§ˆå™¨æ¯æ¬¡å‘èµ·è¯·æ±‚æ—¶ï¼Œå…ˆåœ¨æœ¬åœ°ç¼“å­˜ä¸­æŸ¥æ‰¾ç»“æœä»¥åŠç¼“å­˜æ ‡è¯†ï¼Œæ ¹æ®ç¼“å­˜æ ‡è¯†æ¥åˆ¤æ–­æ˜¯å¦ä½¿ç”¨æœ¬åœ°ç¼“å­˜ã€‚å¦‚æœç¼“å­˜æœ‰æ•ˆï¼Œåˆ™ä½¿ç”¨æœ¬åœ°ç¼“å­˜ï¼›å¦åˆ™ï¼Œåˆ™å‘æœåŠ¡å™¨å‘èµ·è¯·æ±‚å¹¶æºå¸¦ç¼“å­˜æ ‡è¯†ã€‚æ ¹æ®æ˜¯å¦éœ€å‘æœåŠ¡å™¨å‘èµ·HTTPè¯·æ±‚ï¼Œå°†ç¼“å­˜è¿‡ç¨‹åˆ’åˆ†ä¸ºä¸¤ä¸ªéƒ¨åˆ†ï¼šå¼ºåˆ¶ç¼“å­˜å’Œåå•†ç¼“å­˜ï¼Œå¼ºç¼“ä¼˜å…ˆäºåå•†ç¼“å­˜ã€‚\n\n  - å¼ºç¼“å­˜ï¼ŒæœåŠ¡å™¨é€šçŸ¥æµè§ˆå™¨ä¸€ä¸ªç¼“å­˜æ—¶é—´ï¼Œåœ¨ç¼“å­˜æ—¶é—´å†…ï¼Œä¸‹æ¬¡è¯·æ±‚ï¼Œç›´æ¥ç”¨ç¼“å­˜ï¼Œä¸åœ¨æ—¶é—´å†…ï¼Œæ‰§è¡Œæ¯”è¾ƒç¼“å­˜ç­–ç•¥ã€‚\n  - åå•†ç¼“å­˜ï¼Œè®©å®¢æˆ·ç«¯ä¸æœåŠ¡å™¨ä¹‹é—´èƒ½å®ç°ç¼“å­˜æ–‡ä»¶æ˜¯å¦æ›´æ–°çš„éªŒè¯ã€æå‡ç¼“å­˜çš„å¤ç”¨ç‡ï¼Œå°†ç¼“å­˜ä¿¡æ¯ä¸­çš„Etagå’ŒLast-Modifiedé€šè¿‡è¯·æ±‚ å‘é€ç»™æœåŠ¡å™¨ï¼Œç”±æœåŠ¡å™¨æ ¡éªŒï¼Œè¿”å›304çŠ¶æ€ç æ—¶ï¼Œæµè§ˆå™¨ç›´æ¥ä½¿ç”¨ç¼“å­˜ã€‚\n\n  HTTPç¼“å­˜éƒ½æ˜¯ä»ç¬¬äºŒæ¬¡è¯·æ±‚å¼€å§‹çš„ï¼š\n\n  - ç¬¬ä¸€æ¬¡è¯·æ±‚èµ„æºæ—¶ï¼ŒæœåŠ¡å™¨è¿”å›èµ„æºï¼Œå¹¶åœ¨response headerä¸­å›ä¼ èµ„æºçš„ç¼“å­˜ç­–ç•¥ï¼›\n  - ç¬¬äºŒæ¬¡è¯·æ±‚æ—¶ï¼Œæµè§ˆå™¨åˆ¤æ–­è¿™äº›è¯·æ±‚å‚æ•°ï¼Œå‡»ä¸­å¼ºç¼“å­˜å°±ç›´æ¥200ï¼Œå¦åˆ™å°±æŠŠè¯·æ±‚å‚æ•°åŠ åˆ°request headerå¤´ä¸­ä¼ ç»™æœåŠ¡å™¨ï¼Œçœ‹æ˜¯å¦å‡»ä¸­åå•†ç¼“å­˜ï¼Œå‡»ä¸­åˆ™è¿”å›304ï¼Œå¦åˆ™æœåŠ¡å™¨ä¼šè¿”å›æ–°çš„èµ„æºã€‚è¿™æ˜¯ç¼“å­˜è¿ä½œçš„ä¸€ä¸ªæ•´ä½“æµç¨‹å›¾ï¼š\n  ![chrome-cache](chrome-cache.jpeg)\n\n## 4. å¸¸è§çš„HttpçŠ¶æ€ç \n\n- 200 OKï¼šè¡¨ç¤ºä»å®¢æˆ·ç«¯å‘é€ç»™æœåŠ¡å™¨çš„è¯·æ±‚è¢«æ­£å¸¸å¤„ç†å¹¶è¿”å›\n- 204 No Contentï¼šè¡¨ç¤ºå®¢æˆ·ç«¯å‘é€ç»™æœåŠ¡ç«¯çš„è¯·æ±‚å¾—åˆ°äº†æˆåŠŸå¤„ç†ï¼Œä½†åœ¨è¿”å›çš„å“åº”æŠ¥æ–‡ä¸­ä¸å«å®ä½“çš„ä¸»ä½“éƒ¨åˆ†ï¼ˆæ²¡æœ‰èµ„æºå¯ä»¥è¿”å›ï¼‰\n- 301 Moved Permanentlyï¼šæ°¸ä¹…æ€§é‡å®šå‘ï¼Œè¡¨ç¤ºè¯·æ±‚çš„èµ„æºè¢«åˆ†é…äº†æ–°çš„URLï¼Œä¹‹ååº”ä½¿ç”¨æ›´æ”¹çš„URL\n- 302 Foundï¼šä¸´æ—¶æ€§é‡å®šå‘ï¼Œè¡¨ç¤ºè¯·æ±‚çš„èµ„æºè¢«åˆ†é…äº†æ–°çš„URLï¼Œå¸Œæœ›æœ¬æ¬¡è®¿é—®ä½¿ç”¨æ–°çš„URL\n- 304 Not Modifiedï¼šè¡¨ç¤ºå®¢æˆ·ç«¯å‘é€é™„å¸¦æ¡ä»¶ï¼ˆæ˜¯æŒ‡é‡‡ç”¨GETæ–¹æ³•çš„è¯·æ±‚æŠ¥æ–‡ä¸­åŒ…å«if-Matchã€If-Modified-Sinceã€If-None-Matchã€If-Rangeã€If-Unmodified-Sinceä¸­ä»»ä¸€é¦–éƒ¨ï¼‰çš„è¯·æ±‚æ—¶ï¼ŒæœåŠ¡å™¨ç«¯å…è®¸è®¿é—®èµ„æºï¼Œä½†æ˜¯è¯·æ±‚ä¸ºæ»¡è¶³æ¡ä»¶çš„æƒ…å†µä¸‹è¿”å›æ”¹çŠ¶æ€ç \n- 400 Bad Requestï¼šè¡¨ç¤ºè¯·æ±‚æŠ¥æ–‡ä¸­å­˜åœ¨è¯­æ³•é”™è¯¯ï¼ˆä¸€èˆ¬æŒ‡å‚æ•°ï¼‰\n- 401 Unauthorizedï¼šæ²¡æœ‰ç»è¿‡èº«ä»½è®¤è¯ï¼Œéœ€è¦é€šè¿‡HTTPè®¤è¯\n- 403 Forbiddenï¼šèº«ä»½è®¤è¯è¿‡äº†ï¼Œä½†æ˜¯æ²¡æœ‰æƒé™\n- 404 Not Foundï¼š(å®¢æˆ·ç«¯é—®é¢˜)è¯·æ±‚çš„èµ„æºæ²¡æœ‰æ‰¾åˆ°ï¼Œè¯´æ˜å®¢æˆ·ç«¯é”™è¯¯çš„è¯·æ±‚äº†ä¸å­˜åœ¨çš„èµ„æº\n- 500 Inter Server Errorï¼šè¡¨ç¤ºæœåŠ¡å™¨åœ¨æ‰§è¡Œè¯·æ±‚æ—¶å‘ç”Ÿäº†é”™è¯¯ï¼Œä¹Ÿæœ‰å¯èƒ½æ˜¯webåº”ç”¨å­˜åœ¨çš„bugæˆ–æŸäº›ä¸´æ—¶çš„é”™è¯¯æ—¶\n- 503 Server Unavailableï¼šæœåŠ¡ä¸å¯ç”¨ï¼Œä¸€èˆ¬æŒ‡ç»´æŠ¤ä¸­æˆ–è€…æœåŠ¡é‡å¯ä¸­\n\n## 5. è·¨åŸŸçš„å¤æ‚è¯·æ±‚å’Œç®€å•è¯·æ±‚çš„åŒºåˆ«\n\n### ç®€å•è¯·æ±‚\n\n- HTTPæ–¹æ³•æ˜¯ä¸‹åˆ—ä¹‹ä¸€ï¼ˆHEADã€GETã€POSTï¼‰\n- HTTPå¤´ä¿¡æ¯ä¸è¶…å‡ºä»¥ä¸‹å‡ ç§å­—æ®µ\n  \n  **Accept**\n\n  **Accept-Language**\n\n  **Content-Type** ï¼ˆapplication/x-www-form-urlencodedã€multipart/form-dataã€text/plainï¼‰\n\nä»»ä½•ä¸€ä¸ª **ä¸æ»¡è¶³ä¸Šè¿°è¦æ±‚** çš„è¯·æ±‚ï¼Œå³è¢«è®¤ä¸ºæ˜¯å¤æ‚è¯·æ±‚\n\n### å¤æ‚è¯·æ±‚\n\n- ä¸€ä¸ªå¤æ‚è¯·æ±‚ä¸ä»…æœ‰ï¼šåŒ…å«é€šä¿¡å†…å®¹çš„è¯·æ±‚ï¼ŒåŒæ—¶ä¹ŸåŒ…å«é¢„è¯·æ±‚ã€‚\n\n- å¤æ‚è¯·æ±‚è¡¨é¢ä¸Šçœ‹èµ·æ¥å’Œç®€å•è¯·æ±‚ä½¿ç”¨ä¸Šå·®ä¸å¤šï¼Œä½†å®é™…ä¸Šæµè§ˆå™¨å‘é€äº†ä¸æ­¢ä¸€ä¸ªè¯·æ±‚ã€‚å…¶ä¸­æœ€å…ˆå‘é€çš„æ˜¯ä¸€ç§\"é¢„è¯·æ±‚\"ï¼Œæ­¤æ—¶ä½œä¸ºæœåŠ¡ç«¯ï¼Œä¹Ÿéœ€è¦è¿”å›\"é¢„å›åº”\"ä½œä¸ºå“åº”ã€‚é¢„è¯·æ±‚å®é™…ä¸Šæ˜¯å¯¹æœåŠ¡ç«¯çš„ä¸€ç§æƒé™è¯·æ±‚ï¼Œåªæœ‰å½“é¢„è¯·æ±‚æˆåŠŸè¿”å›ï¼Œå®é™…è¯·æ±‚æ‰å¼€å§‹æ‰§è¡Œã€‚\n\n## 5. TCPå’ŒUDP\n\n- TCPå‘ä¸Šå±‚æä¾›é¢å‘è¿æ¥çš„å¯é æœåŠ¡ ï¼ŒUDPå‘ä¸Šå±‚æä¾›æ— è¿æ¥ä¸å¯é æœåŠ¡ã€‚\n- è™½ç„¶ UDP å¹¶æ²¡æœ‰ TCP ä¼ è¾“æ¥çš„å‡†ç¡®ï¼Œä½†æ˜¯ä¹Ÿèƒ½åœ¨å¾ˆå¤šå®æ—¶æ€§è¦æ±‚é«˜çš„åœ°æ–¹æœ‰æ‰€ä½œä¸º\n- å¯¹æ•°æ®å‡†ç¡®æ€§è¦æ±‚é«˜ï¼Œé€Ÿåº¦å¯ä»¥ç›¸å¯¹è¾ƒæ…¢çš„ï¼Œå¯ä»¥é€‰ç”¨TCP\n- HTTP3.0å–ä¸¤è€…ä¹‹é•¿\n"}},"__N_SSG":true},"page":"/post/[slug]","query":{"slug":"data-structure"},"buildId":"vPvA2YxCy7xacwNWoRX5G","nextExport":false,"isFallback":false,"gsp":true}</script><script nomodule="" src="/_next/static/chunks/polyfills-8f31809deb7932dd0187.js"></script><script src="/_next/static/chunks/main-c6f966696d7d46f48c33.js" async=""></script><script src="/_next/static/chunks/webpack-50bee04d1dc61f8adf5b.js" async=""></script><script src="/_next/static/chunks/framework.10b3d8f36ae5d485c3da.js" async=""></script><script src="/_next/static/chunks/commons.18cd929bdef6e2f96561.js" async=""></script><script src="/_next/static/chunks/pages/_app-7c6d80ab417193f95407.js" async=""></script><script src="/_next/static/chunks/1173eff4538ab0eae4f3f506dea9a7965770ad37.c3b64f225a2ce340a522.js" async=""></script><script src="/_next/static/chunks/pages/post/%5Bslug%5D-48f028bae094661c2f5e.js" async=""></script><script src="/_next/static/vPvA2YxCy7xacwNWoRX5G/_buildManifest.js" async=""></script><script src="/_next/static/vPvA2YxCy7xacwNWoRX5G/_ssgManifest.js" async=""></script></body></html>