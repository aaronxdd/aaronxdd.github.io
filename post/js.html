<!DOCTYPE html><html lang="en-US"><head><meta name="viewport" content="width=device-width"/><meta charSet="utf-8"/><script>!function(){try {var d=document.documentElement.classList;d.remove('light','dark');var e=localStorage.getItem('theme');if("system"===e||(!e&&true)){var t="(prefers-color-scheme: dark)",m=window.matchMedia(t);m.media!==t||m.matches?d.add('dark'):d.add('light')}else if(e) d.add(e)}catch(e){}}()</script><title>é¢è¯•é¢˜é›†åˆï¼ˆJSç¯‡ï¼‰ | Xu dongdong&#x27;s blog</title><meta name="description" content="A blog created with Next.js and Tailwind.css"/><meta property="og:type" content="website"/><meta name="og:title" property="og:title" content="é¢è¯•é¢˜é›†åˆï¼ˆJSç¯‡ï¼‰"/><meta name="og:description" property="og:description" content="A blog created with Next.js and Tailwind.css"/><meta name="twitter:card" content="summary"/><meta name="twitter:title" content="é¢è¯•é¢˜é›†åˆï¼ˆJSç¯‡ï¼‰"/><meta name="twitter:description" content="A blog created with Next.js and Tailwind.css"/><meta name="twitter:creator" content="https://twitter.com/WhyYouJames"/><link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png"/><link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png"/><link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png"/><link rel="manifest" href="/site.webmanifest"/><meta name="next-head-count" content="16"/><link rel="preload" href="/_next/static/css/f8d73a71d7937abe53e1.css" as="style"/><link rel="stylesheet" href="/_next/static/css/f8d73a71d7937abe53e1.css" data-n-g=""/><noscript data-n-css=""></noscript><link rel="preload" href="/_next/static/chunks/main-c6f966696d7d46f48c33.js" as="script"/><link rel="preload" href="/_next/static/chunks/webpack-50bee04d1dc61f8adf5b.js" as="script"/><link rel="preload" href="/_next/static/chunks/framework.10b3d8f36ae5d485c3da.js" as="script"/><link rel="preload" href="/_next/static/chunks/commons.18cd929bdef6e2f96561.js" as="script"/><link rel="preload" href="/_next/static/chunks/pages/_app-7c6d80ab417193f95407.js" as="script"/><link rel="preload" href="/_next/static/chunks/1173eff4538ab0eae4f3f506dea9a7965770ad37.102498c830e6881bc94f.js" as="script"/><link rel="preload" href="/_next/static/chunks/pages/post/%5Bslug%5D-0058a7b1fd50a50b0cad.js" as="script"/></head><body><div id="__next"><div class="w-full min-h-screen dark:bg-gray-700 dark:text-white flex"><div class="max-w-screen-md px-4 py-12 mx-auto antialiased font-body flex flex-col flex-grow"><header class="flex items-center justify-between  mb-2"><div class="max-w-lg"><h1><a class="text-2xl font-black text-black no-underline font-display dark:text-white" href="/">Xu dongdong&#x27;s blog</a></h1></div></header><main class="flex-grow"><article><header class="mb-8"><h1 class="mb-2 text-6xl font-black leading-none font-display">é¢è¯•é¢˜é›†åˆï¼ˆJSç¯‡ï¼‰</h1><p class="text-sm">June 30, 2021</p></header><div class="mb-4 prose lg:prose-lg dark:prose-dark"><ol><li>infinityä»£è¡¨ä»€ä¹ˆæ•°æ®</li></ol><p>åœ¨JSä¸­Infinityç”¨äºè¡¨ç¤ºæ— ç©·å¤§çš„æ•°å€¼ï¼Œä¸”ä¸æ˜¯å¸¸é‡ï¼Œå³æ— æ³•æ˜ç¡®è¡¨ç¤ºå®ƒåˆ°åº•æœ‰å¤šå¤§ã€‚å¯ä»¥é€šè¿‡isFinite(val)åˆ¤æ–­å½“å‰æ•°å­—æ˜¯å¦æ˜¯æ— ç©·å¤§ï¼Œå‡½æ•°è¿”å›trueè¡¨ç¤ºä¸æ˜¯æ— ç©·å¤§ï¼Œè¿”å›falseè¡¨ç¤ºæ˜¯æ— ç©·å¤§ã€‚</p><ol start="2"><li>å¦‚ä½•è®¡ç®—åŠ¨ç”»çš„å¸§ç‡ï¼ˆFPSï¼‰</li></ol><ul><li><p>å¯ä»¥å€ŸåŠ©requestAnimationFrame APIï¼ŒrequestAnimationFrame ä½¿ç”¨ä¸€ä¸ªå›è°ƒå‡½æ•°ä½œä¸ºå‚æ•°ã€‚è¿™ä¸ªå›è°ƒå‡½æ•°ä¼šåœ¨æµè§ˆå™¨é‡ç»˜ä¹‹å‰è°ƒç”¨ã€‚</p></li><li><p>requestAnimationFrameçš„å›è°ƒå‡½æ•°æ‰§è¡Œæ¬¡æ•°é€šå¸¸ä¸æµè§ˆå™¨å±å¹•åˆ·æ–°æ¬¡æ•°ç›¸åŒ¹é…ï¼Œè€Œåˆ©ç”¨è¿™ä¸ªAPIå®ç°åŠ¨ç”»çš„åŸç†å°±æ˜¯å›è°ƒå‡½æ•°å†…å†æ¬¡è°ƒç”¨requestAnimationFrameï¼Œæ‰€ä»¥é¡µé¢ä¸æ–­é‡ç»˜æ—¶ï¼Œç„¶åæ£€æµ‹1ç§’å†…requestAnimationFrameè°ƒç”¨çš„æ¬¡æ•°ï¼Œå°±æ˜¯å½“å‰çš„FPS</p></li></ul><ol start="3"><li>è¯·è¯´è¯´new String(&quot;A&quot;)å’ŒString(&quot;A&quot;)åˆ†åˆ«è¿”å›çš„ç»“æœï¼Œè¯·è§£é‡Šä¸ºä»€ä¹ˆ</li></ol><p>new String(&quot;A&quot;) :
è¿”å›ç±»å‹ï¼šå¼•ç”¨ç±»å‹ï¼Œå †å†…å­˜å­˜å‚¨
è¿”å›å€¼ï¼šå­—ç¬¦ä¸²å¯¹è±¡</p><p>String(&quot;Aâ€) ï¼š
è¿”å›ç±»å‹ï¼šåŸºæœ¬ç±»å‹ï¼Œæ ˆå†…å­˜å­˜å‚¨
è¿”å›å€¼ï¼šå­—ç¬¦ä¸²å€¼</p><ol start="4"><li>è¯·é€šè¿‡reduceå‡½æ•°å®ç°ä¸€ç»´æ•°ç»„çš„æ±‚å’Œ</li></ol><pre style="color:#f8f8f2;background:#282a36;text-shadow:0 1px rgba(0, 0, 0, 0.3);font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto;border-radius:0.3em"><code class="language-javascript" style="color:#f8f8f2;background:none;text-shadow:0 1px rgba(0, 0, 0, 0.3);font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span class="token" style="color:#8be9fd">const</span><span> </span><span class="token function-variable" style="color:#f1fa8c">sum</span><span> </span><span class="token" style="color:#f8f8f2">=</span><span> </span><span class="token parameter">arr</span><span> </span><span class="token arrow" style="color:#f8f8f2">=&gt;</span><span> arr</span><span class="token" style="color:#f8f8f2">.</span><span class="token method property-access" style="color:#f1fa8c">reduce</span><span class="token" style="color:#f8f8f2">(</span><span class="token" style="color:#f8f8f2">(</span><span class="token parameter">a</span><span class="token parameter" style="color:#f8f8f2">,</span><span class="token parameter"> b</span><span class="token" style="color:#f8f8f2">)</span><span> </span><span class="token arrow" style="color:#f8f8f2">=&gt;</span><span> a </span><span class="token" style="color:#f8f8f2">+</span><span> b</span><span class="token" style="color:#f8f8f2">)</span></code></pre><ol start="5"><li>è¯·è¯´è¯´ä¸¥æ ¼æ¨¡å¼ä¸‹çš„thisæŒ‡å‘</li></ol><ul><li>åœ¨ä¸¥æ ¼æ¨¡å¼ä¸‹ï¼Œåœ¨å…¨å±€ä½œç”¨åŸŸä¸­ï¼ŒthisæŒ‡å‘windowå¯¹è±¡</li><li>åœ¨ä¸¥æ ¼æ¨¡å¼ä¸‹ï¼Œå‡½æ•°ä¸­çš„thisç­‰äºundefined</li><li>åœ¨ä¸¥æ ¼æ¨¡å¼ä¸‹ï¼Œå¯¹è±¡çš„å‡½æ•°ä¸­çš„thisæŒ‡å‘è°ƒç”¨å‡½æ•°çš„å¯¹è±¡å®ä¾‹</li><li>åœ¨ä¸¥æ ¼æ¨¡å¼ä¸‹ï¼Œæ„é€ å‡½æ•°ä¸­çš„thisæŒ‡å‘æ„é€ å‡½æ•°åˆ›å»ºçš„å¯¹è±¡å®ä¾‹ã€‚</li><li>åœ¨ä¸¥æ ¼æ¨¡å¼ä¸‹ï¼Œåœ¨äº‹ä»¶å¤„ç†å‡½æ•°ä¸­ï¼ŒthisæŒ‡å‘è§¦å‘äº‹ä»¶çš„ç›®æ ‡å¯¹è±¡ã€‚</li></ul><ol start="6"><li>å›¾ç‰‡æ‡’åŠ è½½åŸç†</li></ol><p>å›¾ç‰‡æ‡’åŠ è½½çš„åŸç†ä¸»è¦æ˜¯åˆ¤æ–­å½“å‰å›¾ç‰‡æ˜¯å¦åˆ°äº†å¯è§†åŒºåŸŸè¿™ä¸€æ ¸å¿ƒé€»è¾‘å®ç°çš„</p><ul><li>æ‹¿åˆ°æ‰€æœ‰çš„å›¾ç‰‡ dom ã€‚</li><li>éå†æ¯ä¸ªå›¾ç‰‡åˆ¤æ–­å½“å‰å›¾ç‰‡æ˜¯å¦åˆ°äº†å¯è§†åŒºèŒƒå›´å†…ã€‚</li><li>å¦‚æœåˆ°äº†å°±è®¾ç½®å›¾ç‰‡çš„ src å±æ€§ã€‚</li><li>ç»‘å®š window çš„ scroll äº‹ä»¶ï¼Œå¯¹å…¶è¿›è¡Œäº‹ä»¶ç›‘å¬ï¼ˆæ­é…èŠ‚æµï¼‰ã€‚</li></ul><ol start="7"><li>æ‡’åŠ è½½å’Œé¢„åŠ è½½</li></ol><p>ä¸¤è€…éƒ½æ˜¯æé«˜é¡µé¢æ€§èƒ½æœ‰æ•ˆçš„åŠæ³•ï¼Œä¸¤è€…ä¸»è¦åŒºåˆ«æ˜¯ä¸€ä¸ªæ˜¯æå‰åŠ è½½ï¼Œä¸€ä¸ªæ˜¯è¿Ÿç¼“ç”šè‡³ä¸åŠ è½½ã€‚æ‡’åŠ è½½å¯¹æœåŠ¡å™¨å‰ç«¯æœ‰ä¸€å®šçš„ç¼“è§£å‹åŠ›ä½œç”¨ï¼Œé¢„åŠ è½½åˆ™ä¼šå¢åŠ æœåŠ¡å™¨å‰ç«¯å‹åŠ›ã€‚</p><ol start="8"><li>å¦‚ä½•åŒºåˆ†è¿”å›å†…å®¹æ˜¯æ–‡ä»¶æµè¿˜æ˜¯jsonæ•°æ®</li></ol><pre style="color:#f8f8f2;background:#282a36;text-shadow:0 1px rgba(0, 0, 0, 0.3);font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto;border-radius:0.3em"><code class="language-javascript" style="color:#f8f8f2;background:none;text-shadow:0 1px rgba(0, 0, 0, 0.3);font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span class="token control-flow" style="color:#8be9fd">await</span><span> </span><span class="token" style="color:#f8f8f2">(</span><span class="token control-flow" style="color:#8be9fd">await</span><span> </span><span class="token" style="color:#f1fa8c">fetch</span><span class="token" style="color:#f8f8f2">(</span><span>url</span><span class="token" style="color:#f8f8f2">)</span><span class="token" style="color:#f8f8f2">)</span><span class="token" style="color:#f8f8f2">.</span><span class="token method property-access" style="color:#f1fa8c">blob</span><span class="token" style="color:#f8f8f2">(</span><span class="token" style="color:#f8f8f2">)</span><span class="token" style="color:#f8f8f2">;</span><span>
</span><span></span><span class="token" style="color:#6272a4">// Blob {size: 100, type: &quot;application/json&quot;}</span><span>
</span><span></span><span class="token" style="color:#6272a4">// Blob {size: 73226, type: &quot;image/jpeg&quot;}</span></code></pre><ol start="9"><li>å†™ä¸€ä¸ªæ–¹æ³•åˆ¤æ–­jsçš„æ–¹æ³•æ˜¯å†…ç½®çš„è¿˜æ˜¯è‡ªå®šä¹‰çš„</li></ol><p>toStringä¸€ä¸‹</p><pre style="color:#f8f8f2;background:#282a36;text-shadow:0 1px rgba(0, 0, 0, 0.3);font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto;border-radius:0.3em"><code class="language-javascript" style="color:#f8f8f2;background:none;text-shadow:0 1px rgba(0, 0, 0, 0.3);font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span class="token" style="color:#8be9fd">function</span><span> </span><span class="token" style="color:#f1fa8c">isNative</span><span> </span><span class="token" style="color:#f8f8f2">(</span><span class="token parameter">f</span><span class="token" style="color:#f8f8f2">)</span><span> </span><span class="token" style="color:#f8f8f2">{</span><span>
</span><span>    </span><span class="token control-flow" style="color:#8be9fd">return</span><span> </span><span class="token" style="color:#8be9fd">typeof</span><span> f </span><span class="token" style="color:#f8f8f2">===</span><span> </span><span class="token" style="color:#50fa7b">&#x27;function&#x27;</span><span> </span><span class="token" style="color:#f8f8f2">&amp;&amp;</span><span> </span><span class="token regex-delimiter" style="color:#ffb86c">/</span><span class="token regex-source language-regex" style="color:#ffb86c">native code</span><span class="token regex-delimiter" style="color:#ffb86c">/</span><span class="token" style="color:#f8f8f2">.</span><span class="token method property-access" style="color:#f1fa8c">test</span><span class="token" style="color:#f8f8f2">(</span><span>f</span><span class="token" style="color:#f8f8f2">.</span><span class="token method property-access" style="color:#f1fa8c">toString</span><span class="token" style="color:#f8f8f2">(</span><span class="token" style="color:#f8f8f2">)</span><span class="token" style="color:#f8f8f2">)</span><span>
</span><span></span><span class="token" style="color:#f8f8f2">}</span></code></pre><ol start="10"><li>å¾®ä»»åŠ¡ä¸å®ä»»åŠ¡</li></ol><ul><li>JavaScriptæ˜¯å•çº¿ç¨‹çš„è¯­è¨€</li><li>Event Loopæ˜¯javascriptçš„æ‰§è¡Œæœºåˆ¶</li></ul><p><picture class="w-full"><source type="image/webp" data-srcset="/_next/static/images/interview-js-event-loop-72046f83d56b4dee8490147f68a35905.jpeg.webp"/><source type="image/png" data-srcset="/_next/static/images/interview-js-event-loop-81a592e9defdc771539f73396c4ccd89.jpeg"/><img class="lazyload blur w-full" alt="interview-js-event-loop" src="data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wCEAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAf/AABEIAAkACgMBEQACEQEDEQH/xAGiAAABBQEBAQEBAQAAAAAAAAAAAQIDBAUGBwgJCgsQAAIBAwMCBAMFBQQEAAABfQECAwAEEQUSITFBBhNRYQcicRQygZGhCCNCscEVUtHwJDNicoIJChYXGBkaJSYnKCkqNDU2Nzg5OkNERUZHSElKU1RVVldYWVpjZGVmZ2hpanN0dXZ3eHl6g4SFhoeIiYqSk5SVlpeYmZqio6Slpqeoqaqys7S1tre4ubrCw8TFxsfIycrS09TV1tfY2drh4uPk5ebn6Onq8fLz9PX29/j5+gEAAwEBAQEBAQEBAQAAAAAAAAECAwQFBgcICQoLEQACAQIEBAMEBwUEBAABAncAAQIDEQQFITEGEkFRB2FxEyIygQgUQpGhscEJIzNS8BVictEKFiQ04SXxFxgZGiYnKCkqNTY3ODk6Q0RFRkdISUpTVFVWV1hZWmNkZWZnaGlqc3R1dnd4eXqCg4SFhoeIiYqSk5SVlpeYmZqio6Slpqeoqaqys7S1tre4ubrCw8TFxsfIycrS09TV1tfY2dri4+Tl5ufo6ery8/T19vf4+fr/2gAMAwEAAhEDEQA/AP7mPEG+41C91fbL9t8JPv02zi0ueZdSN1CiRrO8vhPUb+5+zSSSXNr/AGBdyJFc/vLt0hTzkv6lh61XC1Kko8y53zOGDbhyrmjaVWvFxtLVc08O09Vzv3RU3RnKrGrhMNUn+7VLE1YVXWocknO9CTdKknJ6Su61l8PJJ3fpFnM9xaWs8ieVJPbwTSR7J4/LeSJXdNl1BbXSbGYrsuba3nXGJoIpA0aqcVGc4p8yjKUVL3dUm0n7kpw1392c4/yykrN09G/X+tm19zfqfO/wz/5HrVP+4t/6UrXyWUf8jKt/gr/+nIHzGV/8jGt/hrf+nIn0hX1Z9Mf/2Q=="/></picture></p><ul><li>åŒæ­¥å’Œå¼‚æ­¥ä»»åŠ¡åˆ†åˆ«è¿›å…¥ä¸åŒçš„æ‰§è¡Œ&quot;åœºæ‰€&quot;ï¼ŒåŒæ­¥çš„è¿›å…¥ä¸»çº¿ç¨‹ï¼Œå¼‚æ­¥çš„è¿›å…¥Event Tableå¹¶æ³¨å†Œå‡½æ•°</li><li>å½“æŒ‡å®šçš„äº‹æƒ…å®Œæˆæ—¶ï¼ŒEvent Tableä¼šå°†è¿™ä¸ªå‡½æ•°ç§»å…¥Event Queueã€‚</li><li>ä¸»çº¿ç¨‹å†…çš„ä»»åŠ¡æ‰§è¡Œå®Œæ¯•ä¸ºç©ºï¼Œä¼šå»Event Queueè¯»å–å¯¹åº”çš„å‡½æ•°ï¼Œè¿›å…¥ä¸»çº¿ç¨‹æ‰§è¡Œã€‚</li><li>ä¸Šè¿°è¿‡ç¨‹ä¼šä¸æ–­é‡å¤ï¼Œä¹Ÿå°±æ˜¯å¸¸è¯´çš„Event Loop(äº‹ä»¶å¾ªç¯)ã€‚</li></ul><p>jså¼‚æ­¥æœ‰ä¸€ä¸ªæœºåˆ¶ï¼Œå°±æ˜¯é‡åˆ°å®ä»»åŠ¡ï¼Œå…ˆæ‰§è¡Œå®ä»»åŠ¡ï¼Œå°†å®ä»»åŠ¡æ”¾å…¥eventqueueï¼Œç„¶ååœ¨æ‰§è¡Œå¾®ä»»åŠ¡ï¼Œå°†å¾®ä»»åŠ¡æ”¾å…¥eventqueueæœ€éªšçš„æ˜¯ï¼Œè¿™ä¸¤ä¸ªqueueä¸æ˜¯ä¸€ä¸ªqueueã€‚å½“ä½ å¾€å¤–æ‹¿çš„æ—¶å€™å…ˆä»å¾®ä»»åŠ¡é‡Œæ‹¿è¿™ä¸ªå›æ‰å‡½æ•°ï¼Œç„¶åå†ä»å®ä»»åŠ¡çš„queueä¸Šæ‹¿å®ä»»åŠ¡çš„å›æ‰å‡½æ•°ï¼Œä¹Ÿå°±æ˜¯è¯´â€˜åŒä¸€å±‚â€™æ—¢æœ‰å¾®ä»»åŠ¡ä¹Ÿæœ‰å®ä»»åŠ¡çš„æ—¶å€™ï¼Œå…ˆæ‰§è¡Œå¾®ä»»åŠ¡</p><pre style="color:#f8f8f2;background:#282a36;text-shadow:0 1px rgba(0, 0, 0, 0.3);font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto;border-radius:0.3em"><code class="language-javascript" style="color:#f8f8f2;background:none;text-shadow:0 1px rgba(0, 0, 0, 0.3);font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span class="token console" style="color:#f1fa8c">console</span><span class="token" style="color:#f8f8f2">.</span><span class="token method property-access" style="color:#f1fa8c">log</span><span class="token" style="color:#f8f8f2">(</span><span class="token" style="color:#50fa7b">&#x27;1&#x27;</span><span class="token" style="color:#f8f8f2">)</span><span class="token" style="color:#f8f8f2">;</span><span>
</span>
<span></span><span class="token" style="color:#f1fa8c">setTimeout</span><span class="token" style="color:#f8f8f2">(</span><span class="token" style="color:#8be9fd">function</span><span class="token" style="color:#f8f8f2">(</span><span class="token" style="color:#f8f8f2">)</span><span> </span><span class="token" style="color:#f8f8f2">{</span><span>
</span><span>    </span><span class="token console" style="color:#f1fa8c">console</span><span class="token" style="color:#f8f8f2">.</span><span class="token method property-access" style="color:#f1fa8c">log</span><span class="token" style="color:#f8f8f2">(</span><span class="token" style="color:#50fa7b">&#x27;2&#x27;</span><span class="token" style="color:#f8f8f2">)</span><span class="token" style="color:#f8f8f2">;</span><span>
</span><span>    process</span><span class="token" style="color:#f8f8f2">.</span><span class="token method property-access" style="color:#f1fa8c">nextTick</span><span class="token" style="color:#f8f8f2">(</span><span class="token" style="color:#8be9fd">function</span><span class="token" style="color:#f8f8f2">(</span><span class="token" style="color:#f8f8f2">)</span><span> </span><span class="token" style="color:#f8f8f2">{</span><span>
</span><span>        </span><span class="token console" style="color:#f1fa8c">console</span><span class="token" style="color:#f8f8f2">.</span><span class="token method property-access" style="color:#f1fa8c">log</span><span class="token" style="color:#f8f8f2">(</span><span class="token" style="color:#50fa7b">&#x27;3&#x27;</span><span class="token" style="color:#f8f8f2">)</span><span class="token" style="color:#f8f8f2">;</span><span>
</span><span>    </span><span class="token" style="color:#f8f8f2">}</span><span class="token" style="color:#f8f8f2">)</span><span>
</span><span>    </span><span class="token" style="color:#8be9fd">new</span><span> </span><span class="token" style="color:#f1fa8c">Promise</span><span class="token" style="color:#f8f8f2">(</span><span class="token" style="color:#8be9fd">function</span><span class="token" style="color:#f8f8f2">(</span><span class="token parameter">resolve</span><span class="token" style="color:#f8f8f2">)</span><span> </span><span class="token" style="color:#f8f8f2">{</span><span>
</span><span>        </span><span class="token console" style="color:#f1fa8c">console</span><span class="token" style="color:#f8f8f2">.</span><span class="token method property-access" style="color:#f1fa8c">log</span><span class="token" style="color:#f8f8f2">(</span><span class="token" style="color:#50fa7b">&#x27;4&#x27;</span><span class="token" style="color:#f8f8f2">)</span><span class="token" style="color:#f8f8f2">;</span><span>
</span><span>        </span><span class="token" style="color:#f1fa8c">resolve</span><span class="token" style="color:#f8f8f2">(</span><span class="token" style="color:#f8f8f2">)</span><span class="token" style="color:#f8f8f2">;</span><span>
</span><span>    </span><span class="token" style="color:#f8f8f2">}</span><span class="token" style="color:#f8f8f2">)</span><span class="token" style="color:#f8f8f2">.</span><span class="token method property-access" style="color:#f1fa8c">then</span><span class="token" style="color:#f8f8f2">(</span><span class="token" style="color:#8be9fd">function</span><span class="token" style="color:#f8f8f2">(</span><span class="token" style="color:#f8f8f2">)</span><span> </span><span class="token" style="color:#f8f8f2">{</span><span>
</span><span>        </span><span class="token console" style="color:#f1fa8c">console</span><span class="token" style="color:#f8f8f2">.</span><span class="token method property-access" style="color:#f1fa8c">log</span><span class="token" style="color:#f8f8f2">(</span><span class="token" style="color:#50fa7b">&#x27;5&#x27;</span><span class="token" style="color:#f8f8f2">)</span><span>
</span><span>    </span><span class="token" style="color:#f8f8f2">}</span><span class="token" style="color:#f8f8f2">)</span><span>
</span><span></span><span class="token" style="color:#f8f8f2">}</span><span class="token" style="color:#f8f8f2">)</span><span>
</span><span>process</span><span class="token" style="color:#f8f8f2">.</span><span class="token method property-access" style="color:#f1fa8c">nextTick</span><span class="token" style="color:#f8f8f2">(</span><span class="token" style="color:#8be9fd">function</span><span class="token" style="color:#f8f8f2">(</span><span class="token" style="color:#f8f8f2">)</span><span> </span><span class="token" style="color:#f8f8f2">{</span><span>
</span><span>    </span><span class="token console" style="color:#f1fa8c">console</span><span class="token" style="color:#f8f8f2">.</span><span class="token method property-access" style="color:#f1fa8c">log</span><span class="token" style="color:#f8f8f2">(</span><span class="token" style="color:#50fa7b">&#x27;6&#x27;</span><span class="token" style="color:#f8f8f2">)</span><span class="token" style="color:#f8f8f2">;</span><span>
</span><span></span><span class="token" style="color:#f8f8f2">}</span><span class="token" style="color:#f8f8f2">)</span><span>
</span><span></span><span class="token" style="color:#8be9fd">new</span><span> </span><span class="token" style="color:#f1fa8c">Promise</span><span class="token" style="color:#f8f8f2">(</span><span class="token" style="color:#8be9fd">function</span><span class="token" style="color:#f8f8f2">(</span><span class="token parameter">resolve</span><span class="token" style="color:#f8f8f2">)</span><span> </span><span class="token" style="color:#f8f8f2">{</span><span>
</span><span>    </span><span class="token console" style="color:#f1fa8c">console</span><span class="token" style="color:#f8f8f2">.</span><span class="token method property-access" style="color:#f1fa8c">log</span><span class="token" style="color:#f8f8f2">(</span><span class="token" style="color:#50fa7b">&#x27;7&#x27;</span><span class="token" style="color:#f8f8f2">)</span><span class="token" style="color:#f8f8f2">;</span><span>
</span><span>    </span><span class="token" style="color:#f1fa8c">resolve</span><span class="token" style="color:#f8f8f2">(</span><span class="token" style="color:#f8f8f2">)</span><span class="token" style="color:#f8f8f2">;</span><span>
</span><span></span><span class="token" style="color:#f8f8f2">}</span><span class="token" style="color:#f8f8f2">)</span><span class="token" style="color:#f8f8f2">.</span><span class="token method property-access" style="color:#f1fa8c">then</span><span class="token" style="color:#f8f8f2">(</span><span class="token" style="color:#8be9fd">function</span><span class="token" style="color:#f8f8f2">(</span><span class="token" style="color:#f8f8f2">)</span><span> </span><span class="token" style="color:#f8f8f2">{</span><span>
</span><span>    </span><span class="token console" style="color:#f1fa8c">console</span><span class="token" style="color:#f8f8f2">.</span><span class="token method property-access" style="color:#f1fa8c">log</span><span class="token" style="color:#f8f8f2">(</span><span class="token" style="color:#50fa7b">&#x27;8&#x27;</span><span class="token" style="color:#f8f8f2">)</span><span>
</span><span></span><span class="token" style="color:#f8f8f2">}</span><span class="token" style="color:#f8f8f2">)</span><span>
</span>
<span></span><span class="token" style="color:#f1fa8c">setTimeout</span><span class="token" style="color:#f8f8f2">(</span><span class="token" style="color:#8be9fd">function</span><span class="token" style="color:#f8f8f2">(</span><span class="token" style="color:#f8f8f2">)</span><span> </span><span class="token" style="color:#f8f8f2">{</span><span>
</span><span>    </span><span class="token console" style="color:#f1fa8c">console</span><span class="token" style="color:#f8f8f2">.</span><span class="token method property-access" style="color:#f1fa8c">log</span><span class="token" style="color:#f8f8f2">(</span><span class="token" style="color:#50fa7b">&#x27;9&#x27;</span><span class="token" style="color:#f8f8f2">)</span><span class="token" style="color:#f8f8f2">;</span><span>
</span><span>    process</span><span class="token" style="color:#f8f8f2">.</span><span class="token method property-access" style="color:#f1fa8c">nextTick</span><span class="token" style="color:#f8f8f2">(</span><span class="token" style="color:#8be9fd">function</span><span class="token" style="color:#f8f8f2">(</span><span class="token" style="color:#f8f8f2">)</span><span> </span><span class="token" style="color:#f8f8f2">{</span><span>
</span><span>        </span><span class="token console" style="color:#f1fa8c">console</span><span class="token" style="color:#f8f8f2">.</span><span class="token method property-access" style="color:#f1fa8c">log</span><span class="token" style="color:#f8f8f2">(</span><span class="token" style="color:#50fa7b">&#x27;10&#x27;</span><span class="token" style="color:#f8f8f2">)</span><span class="token" style="color:#f8f8f2">;</span><span>
</span><span>    </span><span class="token" style="color:#f8f8f2">}</span><span class="token" style="color:#f8f8f2">)</span><span>
</span><span>    </span><span class="token" style="color:#8be9fd">new</span><span> </span><span class="token" style="color:#f1fa8c">Promise</span><span class="token" style="color:#f8f8f2">(</span><span class="token" style="color:#8be9fd">function</span><span class="token" style="color:#f8f8f2">(</span><span class="token parameter">resolve</span><span class="token" style="color:#f8f8f2">)</span><span> </span><span class="token" style="color:#f8f8f2">{</span><span>
</span><span>        </span><span class="token console" style="color:#f1fa8c">console</span><span class="token" style="color:#f8f8f2">.</span><span class="token method property-access" style="color:#f1fa8c">log</span><span class="token" style="color:#f8f8f2">(</span><span class="token" style="color:#50fa7b">&#x27;11&#x27;</span><span class="token" style="color:#f8f8f2">)</span><span class="token" style="color:#f8f8f2">;</span><span>
</span><span>        </span><span class="token" style="color:#f1fa8c">resolve</span><span class="token" style="color:#f8f8f2">(</span><span class="token" style="color:#f8f8f2">)</span><span class="token" style="color:#f8f8f2">;</span><span>
</span><span>    </span><span class="token" style="color:#f8f8f2">}</span><span class="token" style="color:#f8f8f2">)</span><span class="token" style="color:#f8f8f2">.</span><span class="token method property-access" style="color:#f1fa8c">then</span><span class="token" style="color:#f8f8f2">(</span><span class="token" style="color:#8be9fd">function</span><span class="token" style="color:#f8f8f2">(</span><span class="token" style="color:#f8f8f2">)</span><span> </span><span class="token" style="color:#f8f8f2">{</span><span>
</span><span>        </span><span class="token console" style="color:#f1fa8c">console</span><span class="token" style="color:#f8f8f2">.</span><span class="token method property-access" style="color:#f1fa8c">log</span><span class="token" style="color:#f8f8f2">(</span><span class="token" style="color:#50fa7b">&#x27;12&#x27;</span><span class="token" style="color:#f8f8f2">)</span><span>
</span><span>    </span><span class="token" style="color:#f8f8f2">}</span><span class="token" style="color:#f8f8f2">)</span><span>
</span><span></span><span class="token" style="color:#f8f8f2">}</span><span class="token" style="color:#f8f8f2">)</span></code></pre></div><hr class="mt-4"/><footer><div class="flex items-center mt-8 mb-16"><picture class="flex-shrink-0 mb-0 mr-3 rounded-full w-14 h-14 select-none cursor-pointer hvr-float-shadow"><source type="image/webp" data-srcset="/_next/static/images/profile-8ed88833980dc158e6d9ec3b1bb7c0a8.png.webp"/><source type="image/png" data-srcset="/_next/static/images/profile-44443f720aaa2ff4c2b67336ff9f586b.png"/><img class="lazyload blur flex-shrink-0 mb-0 mr-3 rounded-full w-14 h-14 select-none cursor-pointer hvr-float-shadow" alt="Profile" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAJCAYAAAALpr0TAAAAAklEQVR4AewaftIAAAFBSURBVAXBSS8DYQCA4fcz33RqWpUuU8tEkKjtUqIhJELiRCJxcfRf/AknP8OFiwMXF40DSVO0iRhLVbR0mX08jzg63Ikc28NzA1QR8vBcJ6Eq9AYUDMNAxlOsrBSRH40WIoLJbIL1qTzS63JvfRKJECd0MM0h9IREmZ4YOyaAw7UCG6UlNpfneaw8UbNa4Ie4tk9uSEO6nouCoO9FZEZNWu8WcUViZpLsH+wyMjnBX7eDzCuQ0zVsAtpvb1RrL9Stb3RNkO//MSwl6mAcWRrNMLO1jZ5UuSiXITXO6vISp+eXbNs+olal02kj/YUidiyJ5wsK63u8N74xSxmmyrecnF2TNtJoUkUa2RxO95ew3+al1yXm9tCCiLnCLPqrRbP5QSRC5GLsi0DVkekUj5UKjZ8+TSdA6ikWigYDqs/VzR3/TEV/Airrby8AAAAASUVORK5CYII="/></picture><p class="text-base leading-7">Written by <b class="font-semibold">xudd</b> <!-- -->who wants to become richï¼ï¼ï¼<!-- --> <a href="https://twitter.com/https://twitter.com/WhyYouJames">Follow him on twitter</a></p></div></footer></article><nav class="flex flex-wrap justify-between mb-10"><a class="text-lg font-bold" href="/post/method">â† <!-- -->jså¸¸ç”¨æ–¹æ³•é›†åˆï¼ˆä¸€ï¼‰</a><a class="text-lg font-bold" href="/post/http">é¢è¯•é¢˜é›†åˆï¼ˆç½‘ç»œç¯‡ï¼‰<!-- --> â†’</a></nav></main><footer class="text-lg font-light mt-3">Â© <!-- -->2021<!-- --> <!-- -->Built with<!-- --> <a href="https://nextjs.org/">Next.js</a>ğŸ”¥, Deployed on<!-- --> <a href="https://pages.github.com/">GitHub Pages</a></footer></div></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"frontmatter":{"title":"é¢è¯•é¢˜é›†åˆï¼ˆJSç¯‡ï¼‰","date":"June 30, 2021","description":null},"post":{"content":"\n1. infinityä»£è¡¨ä»€ä¹ˆæ•°æ®\n\nåœ¨JSä¸­Infinityç”¨äºè¡¨ç¤ºæ— ç©·å¤§çš„æ•°å€¼ï¼Œä¸”ä¸æ˜¯å¸¸é‡ï¼Œå³æ— æ³•æ˜ç¡®è¡¨ç¤ºå®ƒåˆ°åº•æœ‰å¤šå¤§ã€‚å¯ä»¥é€šè¿‡isFinite(val)åˆ¤æ–­å½“å‰æ•°å­—æ˜¯å¦æ˜¯æ— ç©·å¤§ï¼Œå‡½æ•°è¿”å›trueè¡¨ç¤ºä¸æ˜¯æ— ç©·å¤§ï¼Œè¿”å›falseè¡¨ç¤ºæ˜¯æ— ç©·å¤§ã€‚\n\n\n2. å¦‚ä½•è®¡ç®—åŠ¨ç”»çš„å¸§ç‡ï¼ˆFPSï¼‰\n\n- å¯ä»¥å€ŸåŠ©requestAnimationFrame APIï¼ŒrequestAnimationFrame ä½¿ç”¨ä¸€ä¸ªå›è°ƒå‡½æ•°ä½œä¸ºå‚æ•°ã€‚è¿™ä¸ªå›è°ƒå‡½æ•°ä¼šåœ¨æµè§ˆå™¨é‡ç»˜ä¹‹å‰è°ƒç”¨ã€‚\n\n- requestAnimationFrameçš„å›è°ƒå‡½æ•°æ‰§è¡Œæ¬¡æ•°é€šå¸¸ä¸æµè§ˆå™¨å±å¹•åˆ·æ–°æ¬¡æ•°ç›¸åŒ¹é…ï¼Œè€Œåˆ©ç”¨è¿™ä¸ªAPIå®ç°åŠ¨ç”»çš„åŸç†å°±æ˜¯å›è°ƒå‡½æ•°å†…å†æ¬¡è°ƒç”¨requestAnimationFrameï¼Œæ‰€ä»¥é¡µé¢ä¸æ–­é‡ç»˜æ—¶ï¼Œç„¶åæ£€æµ‹1ç§’å†…requestAnimationFrameè°ƒç”¨çš„æ¬¡æ•°ï¼Œå°±æ˜¯å½“å‰çš„FPS\n\n\n3. è¯·è¯´è¯´new String(\"A\")å’ŒString(\"A\")åˆ†åˆ«è¿”å›çš„ç»“æœï¼Œè¯·è§£é‡Šä¸ºä»€ä¹ˆ\n\nnew String(\"A\") :\nè¿”å›ç±»å‹ï¼šå¼•ç”¨ç±»å‹ï¼Œå †å†…å­˜å­˜å‚¨\nè¿”å›å€¼ï¼šå­—ç¬¦ä¸²å¯¹è±¡\n\nString(\"Aâ€) ï¼š\nè¿”å›ç±»å‹ï¼šåŸºæœ¬ç±»å‹ï¼Œæ ˆå†…å­˜å­˜å‚¨\nè¿”å›å€¼ï¼šå­—ç¬¦ä¸²å€¼\n\n4. è¯·é€šè¿‡reduceå‡½æ•°å®ç°ä¸€ç»´æ•°ç»„çš„æ±‚å’Œ\n\n``` javascript\nconst sum = arr =\u003e arr.reduce((a, b) =\u003e a + b)\n```\n\n5. è¯·è¯´è¯´ä¸¥æ ¼æ¨¡å¼ä¸‹çš„thisæŒ‡å‘\n\n- åœ¨ä¸¥æ ¼æ¨¡å¼ä¸‹ï¼Œåœ¨å…¨å±€ä½œç”¨åŸŸä¸­ï¼ŒthisæŒ‡å‘windowå¯¹è±¡\n- åœ¨ä¸¥æ ¼æ¨¡å¼ä¸‹ï¼Œå‡½æ•°ä¸­çš„thisç­‰äºundefined\n- åœ¨ä¸¥æ ¼æ¨¡å¼ä¸‹ï¼Œå¯¹è±¡çš„å‡½æ•°ä¸­çš„thisæŒ‡å‘è°ƒç”¨å‡½æ•°çš„å¯¹è±¡å®ä¾‹\n- åœ¨ä¸¥æ ¼æ¨¡å¼ä¸‹ï¼Œæ„é€ å‡½æ•°ä¸­çš„thisæŒ‡å‘æ„é€ å‡½æ•°åˆ›å»ºçš„å¯¹è±¡å®ä¾‹ã€‚\n- åœ¨ä¸¥æ ¼æ¨¡å¼ä¸‹ï¼Œåœ¨äº‹ä»¶å¤„ç†å‡½æ•°ä¸­ï¼ŒthisæŒ‡å‘è§¦å‘äº‹ä»¶çš„ç›®æ ‡å¯¹è±¡ã€‚\n\n6. å›¾ç‰‡æ‡’åŠ è½½åŸç†\n   \nå›¾ç‰‡æ‡’åŠ è½½çš„åŸç†ä¸»è¦æ˜¯åˆ¤æ–­å½“å‰å›¾ç‰‡æ˜¯å¦åˆ°äº†å¯è§†åŒºåŸŸè¿™ä¸€æ ¸å¿ƒé€»è¾‘å®ç°çš„\n\n- æ‹¿åˆ°æ‰€æœ‰çš„å›¾ç‰‡ dom ã€‚\n- éå†æ¯ä¸ªå›¾ç‰‡åˆ¤æ–­å½“å‰å›¾ç‰‡æ˜¯å¦åˆ°äº†å¯è§†åŒºèŒƒå›´å†…ã€‚\n- å¦‚æœåˆ°äº†å°±è®¾ç½®å›¾ç‰‡çš„ src å±æ€§ã€‚\n- ç»‘å®š window çš„ scroll äº‹ä»¶ï¼Œå¯¹å…¶è¿›è¡Œäº‹ä»¶ç›‘å¬ï¼ˆæ­é…èŠ‚æµï¼‰ã€‚\n\n7. æ‡’åŠ è½½å’Œé¢„åŠ è½½\n\nä¸¤è€…éƒ½æ˜¯æé«˜é¡µé¢æ€§èƒ½æœ‰æ•ˆçš„åŠæ³•ï¼Œä¸¤è€…ä¸»è¦åŒºåˆ«æ˜¯ä¸€ä¸ªæ˜¯æå‰åŠ è½½ï¼Œä¸€ä¸ªæ˜¯è¿Ÿç¼“ç”šè‡³ä¸åŠ è½½ã€‚æ‡’åŠ è½½å¯¹æœåŠ¡å™¨å‰ç«¯æœ‰ä¸€å®šçš„ç¼“è§£å‹åŠ›ä½œç”¨ï¼Œé¢„åŠ è½½åˆ™ä¼šå¢åŠ æœåŠ¡å™¨å‰ç«¯å‹åŠ›ã€‚\n\n8. å¦‚ä½•åŒºåˆ†è¿”å›å†…å®¹æ˜¯æ–‡ä»¶æµè¿˜æ˜¯jsonæ•°æ®\n\n``` javascript\nawait (await fetch(url)).blob();\n// Blob {size: 100, type: \"application/json\"}\n// Blob {size: 73226, type: \"image/jpeg\"}\n```\n\n9. å†™ä¸€ä¸ªæ–¹æ³•åˆ¤æ–­jsçš„æ–¹æ³•æ˜¯å†…ç½®çš„è¿˜æ˜¯è‡ªå®šä¹‰çš„\n\ntoStringä¸€ä¸‹\n``` javascript\nfunction isNative (f) {\n    return typeof f === 'function' \u0026\u0026 /native code/.test(f.toString())\n}\n```\n\n10. å¾®ä»»åŠ¡ä¸å®ä»»åŠ¡\n\n- JavaScriptæ˜¯å•çº¿ç¨‹çš„è¯­è¨€\n- Event Loopæ˜¯javascriptçš„æ‰§è¡Œæœºåˆ¶\n\n![interview-js-event-loop](interview-js-event-loop.jpeg)\n\n- åŒæ­¥å’Œå¼‚æ­¥ä»»åŠ¡åˆ†åˆ«è¿›å…¥ä¸åŒçš„æ‰§è¡Œ\"åœºæ‰€\"ï¼ŒåŒæ­¥çš„è¿›å…¥ä¸»çº¿ç¨‹ï¼Œå¼‚æ­¥çš„è¿›å…¥Event Tableå¹¶æ³¨å†Œå‡½æ•°\n- å½“æŒ‡å®šçš„äº‹æƒ…å®Œæˆæ—¶ï¼ŒEvent Tableä¼šå°†è¿™ä¸ªå‡½æ•°ç§»å…¥Event Queueã€‚\n- ä¸»çº¿ç¨‹å†…çš„ä»»åŠ¡æ‰§è¡Œå®Œæ¯•ä¸ºç©ºï¼Œä¼šå»Event Queueè¯»å–å¯¹åº”çš„å‡½æ•°ï¼Œè¿›å…¥ä¸»çº¿ç¨‹æ‰§è¡Œã€‚\n- ä¸Šè¿°è¿‡ç¨‹ä¼šä¸æ–­é‡å¤ï¼Œä¹Ÿå°±æ˜¯å¸¸è¯´çš„Event Loop(äº‹ä»¶å¾ªç¯)ã€‚\n\njså¼‚æ­¥æœ‰ä¸€ä¸ªæœºåˆ¶ï¼Œå°±æ˜¯é‡åˆ°å®ä»»åŠ¡ï¼Œå…ˆæ‰§è¡Œå®ä»»åŠ¡ï¼Œå°†å®ä»»åŠ¡æ”¾å…¥eventqueueï¼Œç„¶ååœ¨æ‰§è¡Œå¾®ä»»åŠ¡ï¼Œå°†å¾®ä»»åŠ¡æ”¾å…¥eventqueueæœ€éªšçš„æ˜¯ï¼Œè¿™ä¸¤ä¸ªqueueä¸æ˜¯ä¸€ä¸ªqueueã€‚å½“ä½ å¾€å¤–æ‹¿çš„æ—¶å€™å…ˆä»å¾®ä»»åŠ¡é‡Œæ‹¿è¿™ä¸ªå›æ‰å‡½æ•°ï¼Œç„¶åå†ä»å®ä»»åŠ¡çš„queueä¸Šæ‹¿å®ä»»åŠ¡çš„å›æ‰å‡½æ•°ï¼Œä¹Ÿå°±æ˜¯è¯´â€˜åŒä¸€å±‚â€™æ—¢æœ‰å¾®ä»»åŠ¡ä¹Ÿæœ‰å®ä»»åŠ¡çš„æ—¶å€™ï¼Œå…ˆæ‰§è¡Œå¾®ä»»åŠ¡\n\n``` javascript\nconsole.log('1');\n\nsetTimeout(function() {\n    console.log('2');\n    process.nextTick(function() {\n        console.log('3');\n    })\n    new Promise(function(resolve) {\n        console.log('4');\n        resolve();\n    }).then(function() {\n        console.log('5')\n    })\n})\nprocess.nextTick(function() {\n    console.log('6');\n})\nnew Promise(function(resolve) {\n    console.log('7');\n    resolve();\n}).then(function() {\n    console.log('8')\n})\n\nsetTimeout(function() {\n    console.log('9');\n    process.nextTick(function() {\n        console.log('10');\n    })\n    new Promise(function(resolve) {\n        console.log('11');\n        resolve();\n    }).then(function() {\n        console.log('12')\n    })\n})\n```","excerpt":""},"previousPost":{"slug":"method","frontmatter":{"title":"jså¸¸ç”¨æ–¹æ³•é›†åˆï¼ˆä¸€ï¼‰","date":"June 30, 2021","description":null},"excerpt":"","content":"\n## Array\n\n1. å°†è¾“å…¥å€¼è½¬åŒ–ä¸ºæ•°ç»„\n\n``` javascript\nconst castArray = value =\u003e Array.isArray(value) ? value : [value];\n\n// Examples\ncastArray(1);               // [1]\ncastArray([1, 2, 3]);       // [1, 2, 3]\n```\n\n2. åˆ¤æ–­æ•°ç»„æ˜¯å¦ä¸ºç©º\n\n``` javascript\nconst isEmpty = arr =\u003e Array.isArray(arr) \u0026\u0026 arr.length === 0;\n\n// Examples\nisEmpty(1);             // false\nisEmpty([]);            // true\nisEmpty([1, 2, 3]);     // false\n```\n\n3. æ‹·è´ä¸€ä¸ªæ•°ç»„\n\n``` javascript\n// `arr` is an array\nconst clone = arr =\u003e arr.slice(0);\n\n// Or\nconst clone = arr =\u003e arr.concat([]);\n\n// Or\nconst clone = arr =\u003e [...arr];\n\n// Or\nconst clone = arr =\u003e Array.from(arr);\n\n// Or\nconst clone = arr =\u003e arr.map(v =\u003e v);\n```\n\n4. å¯¹æ¯”ä¸¤ä¸ªæ•°ç»„æ˜¯å¦ä¸€æ ·\n   \n``` javascript\nconst isEqual = (arr1, arr2) =\u003e arr1.length === arr2.length \u0026\u0026 arr1.every((v, i) =\u003e v === arr2[i]);\n\n// Examples\nisEqual([1, 2, 3], [1, 2, 3]);      // true\nisEqual([1, 2, 3], [1, '2', 3]);    // false\n```\n\n5. æ ¹æ®æŸä¸ªå±æ€§å°†æ•°ç»„è½¬åŒ–ä¸ºå¯¹è±¡ï¼ˆå±æ€§ä½œä¸ºkeyï¼‰\n\n``` javascript\nconst toObject = (arr, key) =\u003e arr.reduce((a, b) =\u003e ({...a, [b[key]]: b}), {});\n\n// Example\ntoObject(\n    [\n        { id: '1', name: 'Alpha', gender: 'Male' },\n        { id: '2', name: 'Bravo', gender: 'Male' },\n        { id: '3', name: 'Charlie', gender: 'Female' },\n    ],\n    'id'\n);\n/* \n{\n    '1': { id: '1', name: 'Alpha', gender: 'Male' },\n    '2': { id: '2', name: 'Bravo', gender: 'Male' },\n    '3': { id: '3', name: 'Charlie', gender: 'Female' },\n}\n*/\n```\n\n6. æ‰¾å‡ºæ•°ç»„ä¸­æœ€å¤§çš„å€¼ï¼ˆNumberï¼‰\n\n``` javascript\nconst indexOfMax = arr =\u003e arr.reduce((prev, v, i, a) =\u003e v \u003e a[prev] ? i : prev, 0);\n\n// Examples\nindexOfMax([1, 3, 9, 7, 5]);        // 2\nindexOfMax([1, 3, 7, 7, 5]);        // 2\n```\n\n7. æ ¹æ®å±æ€§æ‰¾å‡ºæ•°ç»„ä¸­å±æ€§å€¼æœ€å¤§çš„\n\n``` javascript\nconst maxBy = (arr, key) =\u003e arr.reduce((a, b) =\u003e a[key] \u003e= b[key] ? a : b, {});\n\n// Example\nconst people = [\n    { name: 'Bar', age: 24 },\n    { name: 'Baz', age: 32 },\n    { name: 'Foo', age: 42 },\n    { name: 'Fuzz', age: 36 },\n];\nmaxBy(people, 'age');   // { name: 'Foo', age: 42 }\n```\n\n8. æ•°ç»„å»é‡\n\n``` javascript\nconst unique = arr =\u003e Array.from(new Set(arr));\n\n// Or\nconst unique = arr =\u003e arr.filter((el, i, array) =\u003e array.indexOf(el) === i);\n```\n\n9. ä»¥å±æ€§å€¼ä¸ºkeyå°†æ•°ç»„è½¬åŒ–æˆå¯¹è±¡\n\n``` javascript\nconst groupBy = (arr, key) =\u003e arr.reduce((acc, item) =\u003e ((acc[item[key]] = [...(acc[item[key]] || []), item]), acc), {});\n\n// Example\ngroupBy([\n    { branch: 'audi', model: 'q8', year: '2019' },\n    { branch: 'audi', model: 'rs7', year: '2020' },\n    { branch: 'ford', model: 'mustang', year: '2019' },\n    { branch: 'ford', model: 'explorer', year: '2020' },\n    { branch: 'bmw', model: 'x7', year: '2020' },\n], 'branch');\n\n/*\n{\n    audi: [\n        { branch: 'audi', model: 'q8', year: '2019' },\n        { branch: 'audi', model: 'rs7', year: '2020' }\n    ],\n    bmw: [\n        { branch: 'bmw', model: 'x7', year: '2020' }\n    ],\n    ford: [\n        { branch: 'ford', model: 'mustang', year: '2019' },\n        { branch: 'ford', model: 'explorer', year: '2020' }\n    ],\n}\n*/\n```\n\n10. æ ¹æ®å±æ€§å€¼ç»™æ•°ç»„æ’åº\n\n``` javascript\nconst sortBy = (arr, k) =\u003e arr.concat().sort((a, b) =\u003e (a[k] \u003e b[k]) ? 1 : ((a[k] \u003c b[k]) ? -1 : 0));\n\n// Example\nconst people = [\n    { name: 'Foo', age: 42 },\n    { name: 'Bar', age: 24 },\n    { name: 'Fuzz', age: 36 },\n    { name: 'Baz', age: 32 },\n];\nsortBy(people, 'age');\n\n// returns\n//  [\n//      { name: 'Bar', age: 24 },\n//      { name: 'Baz', age: 32 },\n//      { name: 'Fuzz', age: 36 },\n//      { name: 'Foo', age: 42 },\n//  ]\n```\n\n## DOM\n\n1. åˆ¤æ–­æ˜¯å¦ä¸ºæŸä¸ªå…ƒç´ çš„å­èŠ‚ç‚¹\n\n``` javascript\nconst isDescendant = (child, parent) =\u003e parent.contains(child);\n```\n\n2. åˆ¤æ–­å½“å‰å…ƒç´ æ˜¯å¦æ˜¯FocusçŠ¶æ€\n\n``` javascript\nconst isFocus = ele =\u003e ele === document.activeElement;\n```\n\n3. åˆ¤æ–­é¡µé¢æ˜¯å¦æ»‘åˆ°åº•éƒ¨\n\n``` javascript\nconst isAtBottom = () =\u003e document.documentElement.clientHeight + window.scrollY \u003e= document.documentElement.scrollHeight;\n```\n\n4. å½“å‰æµè§ˆå™¨åˆ¤æ–­\n\n``` javascript\n\n// IE\nconst isIE = !!document.documentMode;\n\n// Chrome\nconst isChrome = !!window.chrome \u0026\u0026 (!!window.chrome.webstore || !!window.chrome.runtime);\n\n// macOS browser\nconst isMacBrowser = /Mac|iPod|iPhone|iPad/.test(navigator.platform);\n```\n\n5. è·å–ç”¨æˆ·é€‰ä¸­çš„æ–‡æœ¬\n\n``` javascript\nconst getSelectedText = () =\u003e window.getSelection().toString();\n```\n\n6. éšè—å…ƒç´ \n  \n``` javascript\nconst hide = ele =\u003e ele.style.display = 'none';\n\n// Or\nconst hide = ele =\u003e ele.style.visibility = 'hidden';\n\n// Or\nconst hide = ele =\u003e ele.hidden = true;\n```\n\n7. å°†å…ƒç´ æ’å…¥æŸä¸ªå…ƒç´ ä¹‹å\n\n``` javascript\nconst insertAfter = (ele, anotherEle) =\u003e anotherEle.parentNode.insertBefore(ele, anotherEle.nextSibling);\n\n// Or\nconst insertAfter = (ele, anotherEle) =\u003e anotherEle.insertAdjacentElement('afterend', ele);\n```\n\n8. è·³è½¬é¡µé¢\n\n``` javascript\nconst goTo = url =\u003e location.href = url;\n```\n\n9. é‡æ–°åŠ è½½å½“å‰é¡µ\n\n``` javascript\nconst reload = () =\u003e location.reload();\n\n// Or\nconst reload = () =\u003e (location.href = location.href);\n```\n\n10. æ›¿æ¢å…ƒç´ \n\n``` javascript\nconst replace = (ele, newEle) =\u003e ele.parentNode.replaceChild(newEle, ele);\n```\n\n11. å›åˆ°é¡µé¢é¡¶éƒ¨\n\n``` javascript\nconst goToTop = () =\u003e window.scrollTo(0, 0);\n```"},"nextPost":{"slug":"http","frontmatter":{"title":"é¢è¯•é¢˜é›†åˆï¼ˆç½‘ç»œç¯‡ï¼‰","date":"June 30, 2021","description":null},"excerpt":"","content":"\n1. TCP/IP å››å±‚ç½‘ç»œæ¨¡å‹\n\nç¬¬ä¸€å±‚ï¼šåº”ç”¨å±‚ï¼Œä¸»è¦æœ‰è´Ÿè´£webæµè§ˆå™¨çš„ **HTTP** åè®®ï¼Œ æ–‡ä»¶ä¼ è¾“çš„ **FTP** åè®®ï¼Œè´Ÿè´£ç”µå­é‚®ä»¶çš„ **SMTP** åè®®ï¼Œè´Ÿè´£åŸŸåç³»ç»Ÿçš„ **DNS** ç­‰ã€‚\nç¬¬äºŒå±‚ï¼šä¼ è¾“å±‚ï¼Œä¸»è¦æ˜¯æœ‰å¯é ä¼ è¾“çš„ **TCP** åè®®ï¼Œç‰¹åˆ«é«˜æ•ˆçš„ **UDP** åè®®ã€‚ä¸»è¦è´Ÿè´£ä¼ è¾“åº”ç”¨å±‚çš„æ•°æ®åŒ…ã€‚\nç¬¬ä¸‰å±‚ï¼šç½‘ç»œå±‚ï¼Œä¸»è¦æ˜¯ **IP** åè®®ã€‚ä¸»è¦è´Ÿè´£å¯»å€ï¼ˆæ‰¾åˆ°ç›®æ ‡è®¾å¤‡çš„ä½ç½®ï¼‰\nç¬¬å››å±‚ï¼šæ•°æ®é“¾è·¯å±‚ï¼Œä¸»è¦æ˜¯è´Ÿè´£è½¬æ¢æ•°å­—ä¿¡å·å’Œç‰©ç†äºŒè¿›åˆ¶ä¿¡å·ã€‚\n\n2. ç”¨æˆ·è¾“å…¥urlåˆ°é¡µé¢å±•ç¤ºçš„è¿‡ç¨‹"}},"__N_SSG":true},"page":"/post/[slug]","query":{"slug":"js"},"buildId":"x1UupnU7GzVpoQshz8q7s","nextExport":false,"isFallback":false,"gsp":true}</script><script nomodule="" src="/_next/static/chunks/polyfills-8f31809deb7932dd0187.js"></script><script src="/_next/static/chunks/main-c6f966696d7d46f48c33.js" async=""></script><script src="/_next/static/chunks/webpack-50bee04d1dc61f8adf5b.js" async=""></script><script src="/_next/static/chunks/framework.10b3d8f36ae5d485c3da.js" async=""></script><script src="/_next/static/chunks/commons.18cd929bdef6e2f96561.js" async=""></script><script src="/_next/static/chunks/pages/_app-7c6d80ab417193f95407.js" async=""></script><script src="/_next/static/chunks/1173eff4538ab0eae4f3f506dea9a7965770ad37.102498c830e6881bc94f.js" async=""></script><script src="/_next/static/chunks/pages/post/%5Bslug%5D-0058a7b1fd50a50b0cad.js" async=""></script><script src="/_next/static/x1UupnU7GzVpoQshz8q7s/_buildManifest.js" async=""></script><script src="/_next/static/x1UupnU7GzVpoQshz8q7s/_ssgManifest.js" async=""></script></body></html>