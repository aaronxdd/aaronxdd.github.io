<!DOCTYPE html><html lang="en-US"><head><meta name="viewport" content="width=device-width"/><meta charSet="utf-8"/><script>!function(){try {var d=document.documentElement.classList;d.remove('light','dark');var e=localStorage.getItem('theme');if("system"===e||(!e&&true)){var t="(prefers-color-scheme: dark)",m=window.matchMedia(t);m.media!==t||m.matches?d.add('dark'):d.add('light')}else if(e) d.add(e)}catch(e){}}()</script><title>é¢è¯•é¢˜é›†åˆï¼ˆçœŸé¢˜ç¯‡ï¼‰ | Xu dongdong&#x27;s blog</title><meta name="description" content="A blog created with Next.js and Tailwind.css"/><meta property="og:type" content="website"/><meta name="og:title" property="og:title" content="é¢è¯•é¢˜é›†åˆï¼ˆçœŸé¢˜ç¯‡ï¼‰"/><meta name="og:description" property="og:description" content="A blog created with Next.js and Tailwind.css"/><meta name="twitter:card" content="summary"/><meta name="twitter:title" content="é¢è¯•é¢˜é›†åˆï¼ˆçœŸé¢˜ç¯‡ï¼‰"/><meta name="twitter:description" content="A blog created with Next.js and Tailwind.css"/><meta name="twitter:creator" content="https://twitter.com/WhyYouJames"/><link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png"/><link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png"/><link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png"/><link rel="manifest" href="/site.webmanifest"/><meta name="next-head-count" content="16"/><link rel="preload" href="/_next/static/css/f8d73a71d7937abe53e1.css" as="style"/><link rel="stylesheet" href="/_next/static/css/f8d73a71d7937abe53e1.css" data-n-g=""/><noscript data-n-css=""></noscript><link rel="preload" href="/_next/static/chunks/main-c6f966696d7d46f48c33.js" as="script"/><link rel="preload" href="/_next/static/chunks/webpack-50bee04d1dc61f8adf5b.js" as="script"/><link rel="preload" href="/_next/static/chunks/framework.10b3d8f36ae5d485c3da.js" as="script"/><link rel="preload" href="/_next/static/chunks/commons.18cd929bdef6e2f96561.js" as="script"/><link rel="preload" href="/_next/static/chunks/pages/_app-7c6d80ab417193f95407.js" as="script"/><link rel="preload" href="/_next/static/chunks/1173eff4538ab0eae4f3f506dea9a7965770ad37.102498c830e6881bc94f.js" as="script"/><link rel="preload" href="/_next/static/chunks/pages/post/%5Bslug%5D-13092b6d8cea2defd1b4.js" as="script"/></head><body><div id="__next"><div class="w-full min-h-screen dark:bg-gray-700 dark:text-white flex"><div class="max-w-screen-md px-4 py-12 mx-auto antialiased font-body flex flex-col flex-grow"><header class="flex items-center justify-between  mb-2"><div class="max-w-lg"><h1><a class="text-2xl font-black text-black no-underline font-display dark:text-white" href="/">Xu dongdong&#x27;s blog</a></h1></div></header><main class="flex-grow"><article><header class="mb-8"><h1 class="mb-2 text-6xl font-black leading-none font-display">é¢è¯•é¢˜é›†åˆï¼ˆçœŸé¢˜ç¯‡ï¼‰</h1></header><div class="mb-4 prose lg:prose-lg dark:prose-dark"><h2>1. æ€§èƒ½ä¼˜åŒ– ï¼šé¡¹â½¬â¾¥åšè¿‡å“ªäº›æ€§èƒ½ä¼˜åŒ–ï¼Œæ€ä¹ˆæ£€æµ‹æ€§èƒ½ï¼Œæœ‰æ²¡æœ‰å®é™…æµ‹è¿‡ä¼˜åŒ–çš„æ•°æ®æœ‰å¤šå°‘æå‡</h2><p><picture class="w-full"><source type="image/webp" data-srcset="/_next/static/images/performance-bb4ca0ade37b80e3918e3ef1e247d46a.jpeg.webp"/><source type="image/png" data-srcset="/_next/static/images/performance-b4046ed3b7410b5a65763340b00f71fc.jpeg"/><img class="lazyload blur w-full" alt="æ€§èƒ½ä¼˜åŒ–" src="data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wCEAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAf/AABEIAAgACgMBEQACEQEDEQH/xAGiAAABBQEBAQEBAQAAAAAAAAAAAQIDBAUGBwgJCgsQAAIBAwMCBAMFBQQEAAABfQECAwAEEQUSITFBBhNRYQcicRQygZGhCCNCscEVUtHwJDNicoIJChYXGBkaJSYnKCkqNDU2Nzg5OkNERUZHSElKU1RVVldYWVpjZGVmZ2hpanN0dXZ3eHl6g4SFhoeIiYqSk5SVlpeYmZqio6Slpqeoqaqys7S1tre4ubrCw8TFxsfIycrS09TV1tfY2drh4uPk5ebn6Onq8fLz9PX29/j5+gEAAwEBAQEBAQEBAQAAAAAAAAECAwQFBgcICQoLEQACAQIEBAMEBwUEBAABAncAAQIDEQQFITEGEkFRB2FxEyIygQgUQpGhscEJIzNS8BVictEKFiQ04SXxFxgZGiYnKCkqNTY3ODk6Q0RFRkdISUpTVFVWV1hZWmNkZWZnaGlqc3R1dnd4eXqCg4SFhoeIiYqSk5SVlpeYmZqio6Slpqeoqaqys7S1tre4ubrCw8TFxsfIycrS09TV1tfY2dri4+Tl5ufo6ery8/T19vf4+fr/2gAMAwEAAhEDEQA/AP7l5rzWdQ8PeL4LoZm3+ILG/hg1V0u7CQeeukwWFtcveRTWuoQSxzyGaXR5UgkEVvaXTLHDH6MYUY+yd2n7so81PmhJae0cqnuOMoKzioxrRv8AFKndt8Up1Hzq2mqklO01/JywfMpKWqk5SpO1rKeiXplrdXL21uzR2YZoIWYPfBXDGNSQwiszEGBPzCMmMHIQ7cVwNRTau930/wCCdacrLRbLr5eh/9k="/></picture></p><h3>æ€§èƒ½ä¼˜åŒ–</h3><ul><li><p>é¿å…è¿‡å¤šçš„å›æµä¸é‡ç»˜</p><p>å®è´¨ä¸Šæ˜¯é¿å…è¿‡å¤šçš„ <strong>render tree</strong> æ“ä½œï¼Œé¿å…ä½¿ç”¨tableå¸ƒå±€ï¼›DOMç»“æ„é¿å…åµŒå¥—è¿‡æ·±</p></li><li><p>JavaScriptã€Cssã€Htmlå‹ç¼©</p></li><li><p>splitChunks æ‹†åŒ…</p></li><li><p>ç½‘é¡µä¸­å¯è§†åŒ–éƒ¨åˆ†ï¼ˆå›¾ç‰‡ï¼Œè§†é¢‘ç­‰ï¼‰é‡‡ç”¨éª¨æ¶</p></li><li><p>å‡½æ•°çš„é¢‘ç¹è°ƒç”¨è€ƒè™‘ä½¿ç”¨é˜²æŠ–èŠ‚æµ</p></li><li><p>å¤šåˆ©ç”¨ç¼“å­˜ï¼ˆå¤šè·ŸæœåŠ¡å™¨ç«¯æœ‰å…³ï¼‰</p></li><li><p>å¤§çš„åŸºç¡€åº“ä½¿ç”¨CDN</p></li><li><p>ç”¨ä¸Šæ‡’åŠ è½½å’Œé¢„åŠ è½½</p></li><li><p>ä½¿ç”¨Service Worker</p></li></ul><h3>æ£€æµ‹æ€§èƒ½</h3><ul><li>å¾ˆç›´è§‚çš„çœ‹networké¡µé¢çš„loadæ—¶é—´</li><li>lighthouseè¿›è¡Œæ£€æµ‹</li><li>ç”¨webpack-bundle-analyzeræŸ¥çœ‹æ‰“åŒ…åèµ„æºæƒ…å†µ</li></ul><h2>2. http2.0æœ‰å“ªäº›ç‰¹æ€§ï¼Ÿhttpsæ˜¯æ€ä¹ˆåŠ å¯†çš„ï¼Œhttpså¼ºç¼“å­˜åœ¨é¡¹ç›®ä¸­æ€ä¹ˆç”¨çš„</h2><h3>http2.0çš„ç‰¹æ€§</h3><ul><li><p>äºŒè¿›åˆ¶åˆ†å¸§</p><p>HTTP 1.x çš„è§£ææ˜¯åŸºäºæ–‡æœ¬ï¼ŒHTTP 2ä¹‹åå°†æ‰€æœ‰ä¼ è¾“çš„ä¿¡æ¯åˆ†å‰²ä¸ºæ›´å°çš„æ¶ˆæ¯å’Œå¸§ï¼Œå¹¶å¯¹å®ƒä»¬é‡‡ç”¨äºŒè¿›åˆ¶æ ¼å¼çš„ç¼–ç ï¼Œæé«˜ä¼ è¾“æ•ˆç‡</p></li><li><p>å¤šè·¯å¤ç”¨</p><p>ä¸€æ¬¡é“¾æ¥æˆåŠŸåï¼Œåªè¦é“¾æ¥è¿˜æ²¡æ–­å¼€ï¼Œé‚£ä¹ˆ client ç«¯å°±å¯ä»¥åœ¨ä¸€ä¸ªé“¾æ¥ä¸­<strong>å¹¶å‘</strong>åœ°å‘èµ·å¤šä¸ªè¯·æ±‚ï¼Œæ¯ä¸ªè¯·æ±‚åŠè¯¥è¯·æ±‚çš„å“åº”ä¸éœ€è¦ç­‰å¾…å…¶ä»–çš„è¯·æ±‚ï¼ŒæŸä¸ªè¯·æ±‚ä»»åŠ¡è€—æ—¶ä¸¥é‡ï¼Œä¸ä¼šå½±å“åˆ°å…¶å®ƒè¿æ¥çš„æ­£å¸¸æ‰§è¡Œ</p></li><li><p>å¤´éƒ¨å‹ç¼©</p><p>ç”±äº HTTP æ˜¯æ— çŠ¶æ€çš„ï¼Œæ¯ä¸€ä¸ªè¯·æ±‚éƒ½éœ€è¦å¤´éƒ¨ä¿¡æ¯æ ‡è¯†è¿™æ¬¡è¯·æ±‚ç›¸å…³ä¿¡æ¯ï¼Œæ‰€ä»¥ä¼šé€ æˆä¼ è¾“å¾ˆå¤šé‡å¤çš„ä¿¡æ¯ï¼Œå½“è¯·æ±‚æ•°é‡å¢å¤§çš„æ—¶å€™ï¼Œæ¶ˆè€—çš„èµ„æºå°±ä¼šæ…¢æ…¢ç§¯ç´¯ä¸Šå»ã€‚æ‰€ä»¥ HTTP 2 å¯ä»¥ç»´æŠ¤ä¸€ä¸ªå¤´éƒ¨ä¿¡æ¯å­—å…¸ï¼Œå·®é‡è¿›è¡Œæ›´æ–°å¤´ä¿¡æ¯ï¼Œå‡å°‘å¤´éƒ¨ä¿¡æ¯ä¼ è¾“å ç”¨çš„èµ„æº</p></li></ul><h3>HTTP ä¸ HTTPS</h3><ul><li>HTTP æ˜¯æ˜æ–‡ä¼ è¾“ï¼ŒHTTPS é€šè¿‡ SSL\TLS è¿›è¡Œäº†åŠ å¯†</li><li>HTTP çš„ç«¯å£å·æ˜¯ 80ï¼ŒHTTPS æ˜¯ 443</li><li>HTTPS éœ€è¦åˆ° CA ç”³è¯·è¯ä¹¦ï¼Œä¸€èˆ¬å…è´¹è¯ä¹¦å¾ˆå°‘ï¼Œéœ€è¦äº¤è´¹</li><li>HTTPS çš„è¿æ¥å¾ˆç®€å•ï¼Œæ˜¯æ— çŠ¶æ€çš„ï¼›HTTPS åè®®æ˜¯ç”± SSL+HTTP åè®®æ„å»ºçš„å¯è¿›è¡ŒåŠ å¯†ä¼ è¾“ã€èº«ä»½è®¤è¯çš„ç½‘ç»œåè®®ï¼Œæ¯” HTTP åè®®å®‰å…¨ã€‚</li></ul><h3>æµè§ˆå™¨ç¼“å­˜ç­–ç•¥</h3><h2>3. webå®‰å…¨ï¼ˆxss/csrfï¼‰</h2><h3>xssï¼ˆCross-Site Scriptingï¼‰</h3><p><strong>å®šä¹‰</strong></p><p>è·¨ç«™è„šæœ¬æ”»å‡»ï¼Œç®€ç§°è„šæœ¬æ³¨å…¥</p><p><strong>åŸç†</strong></p><p>æ¶æ„æ”»å‡»è€…å¾€ Web é¡µé¢é‡Œæ’å…¥æ¶æ„å¯æ‰§è¡Œç½‘é¡µè„šæœ¬ä»£ç ï¼Œå½“ç”¨æˆ·æµè§ˆè¯¥é¡µä¹‹æ—¶ï¼ŒåµŒå…¥å…¶ä¸­ Web é‡Œé¢çš„è„šæœ¬ä»£ç ä¼šè¢«æ‰§è¡Œï¼Œä»è€Œå¯ä»¥è¾¾åˆ°æ”»å‡»è€…ç›—å–ç”¨æˆ·ä¿¡æ¯æˆ–å…¶ä»–ä¾µçŠ¯ç”¨æˆ·å®‰å…¨éšç§çš„ç›®çš„ã€‚</p><p><strong>é˜²èŒƒ</strong></p><ul><li>HttpOnly é˜²æ­¢åŠ«å– Cookieï¼Œæµè§ˆå™¨å°†ç¦æ­¢é¡µé¢çš„Javascript è®¿é—®å¸¦æœ‰ HttpOnly å±æ€§çš„Cookieã€‚</li><li>è¾“å…¥æ£€æŸ¥ï¼Œå¯¹ <strong>&lt;</strong>  ã€ <strong>&gt;</strong> è¿›è¡Œè½¬è¯‘ï¼Œä½¿å¾—æ¶æ„çš„è„šæœ¬å†…å®¹æ— æ³•æ‰§è¡Œï¼ˆReact DOM ä¼šåœ¨æ¸²æŸ“çš„æ—¶å€™æŠŠå†…å®¹ï¼ˆå­—ç¬¦ä¸²ï¼‰è¿›è¡Œè½¬ä¹‰ï¼‰</li></ul><h3>csrf</h3><p><strong>å®šä¹‰</strong></p><p>è·¨ç«™è¯·æ±‚ä¼ªé€ ï¼Œæ˜¯ä¸€ç§åŠ«æŒå—ä¿¡ä»»ç”¨æˆ·å‘æœåŠ¡å™¨å‘é€éé¢„æœŸè¯·æ±‚çš„æ”»å‡»æ–¹å¼</p><p><strong>åŸç†</strong></p><p>åˆ©ç”¨åŒåŸŸä¸‹cookieå¯ä»¥å…±äº«ï¼Œåœ¨Aé¡µé¢ä¸­åµŒå…¥Bé¡µé¢çš„è¯·æ±‚ï¼Œå¦‚æœç”¨æˆ·ç™»å½•è¿‡Bé¡µé¢ï¼Œå³åœ¨Aä¸­çš„Bè¯·æ±‚å¯ä»¥è·å–BæœåŠ¡å™¨ä¿¡ä»»ã€‚</p><p><strong>é˜²èŒƒ</strong></p><ul><li>TokenéªŒè¯</li></ul></div><hr class="mt-4"/><footer><div class="flex items-center mt-8 mb-16"><picture class="flex-shrink-0 mb-0 mr-3 rounded-full w-14 h-14 select-none cursor-pointer hvr-float-shadow"><source type="image/webp" data-srcset="/_next/static/images/profile-8ed88833980dc158e6d9ec3b1bb7c0a8.png.webp"/><source type="image/png" data-srcset="/_next/static/images/profile-44443f720aaa2ff4c2b67336ff9f586b.png"/><img class="lazyload blur flex-shrink-0 mb-0 mr-3 rounded-full w-14 h-14 select-none cursor-pointer hvr-float-shadow" alt="Profile" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAJCAYAAAALpr0TAAAAAklEQVR4AewaftIAAAFBSURBVAXBSS8DYQCA4fcz33RqWpUuU8tEkKjtUqIhJELiRCJxcfRf/AknP8OFiwMXF40DSVO0iRhLVbR0mX08jzg63Ikc28NzA1QR8vBcJ6Eq9AYUDMNAxlOsrBSRH40WIoLJbIL1qTzS63JvfRKJECd0MM0h9IREmZ4YOyaAw7UCG6UlNpfneaw8UbNa4Ie4tk9uSEO6nouCoO9FZEZNWu8WcUViZpLsH+wyMjnBX7eDzCuQ0zVsAtpvb1RrL9Stb3RNkO//MSwl6mAcWRrNMLO1jZ5UuSiXITXO6vISp+eXbNs+olal02kj/YUidiyJ5wsK63u8N74xSxmmyrecnF2TNtJoUkUa2RxO95ew3+al1yXm9tCCiLnCLPqrRbP5QSRC5GLsi0DVkekUj5UKjZ8+TSdA6ikWigYDqs/VzR3/TEV/Airrby8AAAAASUVORK5CYII="/></picture><p class="text-base leading-7">Written by <b class="font-semibold">xudd</b> <!-- -->who wants to become richï¼ï¼ï¼<!-- --> <a href="https://twitter.com/https://twitter.com/WhyYouJames">Follow him on twitter</a></p></div></footer></article><nav class="flex flex-wrap justify-between mb-10"><a class="text-lg font-bold" href="/post/write">â† <!-- -->é¢è¯•é¢˜é›†åˆï¼ˆæ‰‹æ’•ä»£ç ç¯‡ï¼‰</a><a class="text-lg font-bold" href="/post/js">é¢è¯•é¢˜é›†åˆï¼ˆJSç¯‡ï¼‰<!-- --> â†’</a></nav></main><footer class="text-lg font-light mt-3">Â© <!-- -->2021<!-- --> <!-- -->Built with<!-- --> <a href="https://nextjs.org/">Next.js</a>ğŸ”¥, Deployed on<!-- --> <a href="https://pages.github.com/">GitHub Pages</a></footer></div></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"frontmatter":{"title":"é¢è¯•é¢˜é›†åˆï¼ˆçœŸé¢˜ç¯‡ï¼‰","date":"July 5, 2021","description":null},"post":{"content":"\n## 1. æ€§èƒ½ä¼˜åŒ– ï¼šé¡¹â½¬â¾¥åšè¿‡å“ªäº›æ€§èƒ½ä¼˜åŒ–ï¼Œæ€ä¹ˆæ£€æµ‹æ€§èƒ½ï¼Œæœ‰æ²¡æœ‰å®é™…æµ‹è¿‡ä¼˜åŒ–çš„æ•°æ®æœ‰å¤šå°‘æå‡\n  ![æ€§èƒ½ä¼˜åŒ–](performance.jpeg)\n\n### æ€§èƒ½ä¼˜åŒ–\n\n- é¿å…è¿‡å¤šçš„å›æµä¸é‡ç»˜\n  \n  å®è´¨ä¸Šæ˜¯é¿å…è¿‡å¤šçš„ **render tree** æ“ä½œï¼Œé¿å…ä½¿ç”¨tableå¸ƒå±€ï¼›DOMç»“æ„é¿å…åµŒå¥—è¿‡æ·±\n\n- JavaScriptã€Cssã€Htmlå‹ç¼©\n- splitChunks æ‹†åŒ…\n- ç½‘é¡µä¸­å¯è§†åŒ–éƒ¨åˆ†ï¼ˆå›¾ç‰‡ï¼Œè§†é¢‘ç­‰ï¼‰é‡‡ç”¨éª¨æ¶\n- å‡½æ•°çš„é¢‘ç¹è°ƒç”¨è€ƒè™‘ä½¿ç”¨é˜²æŠ–èŠ‚æµ\n- å¤šåˆ©ç”¨ç¼“å­˜ï¼ˆå¤šè·ŸæœåŠ¡å™¨ç«¯æœ‰å…³ï¼‰\n- å¤§çš„åŸºç¡€åº“ä½¿ç”¨CDN\n- ç”¨ä¸Šæ‡’åŠ è½½å’Œé¢„åŠ è½½\n- ä½¿ç”¨Service Worker\n  \n### æ£€æµ‹æ€§èƒ½\n\n- å¾ˆç›´è§‚çš„çœ‹networké¡µé¢çš„loadæ—¶é—´\n- lighthouseè¿›è¡Œæ£€æµ‹\n- ç”¨webpack-bundle-analyzeræŸ¥çœ‹æ‰“åŒ…åèµ„æºæƒ…å†µ\n  \n## 2. http2.0æœ‰å“ªäº›ç‰¹æ€§ï¼Ÿhttpsæ˜¯æ€ä¹ˆåŠ å¯†çš„ï¼Œhttpså¼ºç¼“å­˜åœ¨é¡¹ç›®ä¸­æ€ä¹ˆç”¨çš„\n\n### http2.0çš„ç‰¹æ€§\n- äºŒè¿›åˆ¶åˆ†å¸§\n\n  HTTP 1.x çš„è§£ææ˜¯åŸºäºæ–‡æœ¬ï¼ŒHTTP 2ä¹‹åå°†æ‰€æœ‰ä¼ è¾“çš„ä¿¡æ¯åˆ†å‰²ä¸ºæ›´å°çš„æ¶ˆæ¯å’Œå¸§ï¼Œå¹¶å¯¹å®ƒä»¬é‡‡ç”¨äºŒè¿›åˆ¶æ ¼å¼çš„ç¼–ç ï¼Œæé«˜ä¼ è¾“æ•ˆç‡\n\n- å¤šè·¯å¤ç”¨\n  \n  ä¸€æ¬¡é“¾æ¥æˆåŠŸåï¼Œåªè¦é“¾æ¥è¿˜æ²¡æ–­å¼€ï¼Œé‚£ä¹ˆ client ç«¯å°±å¯ä»¥åœ¨ä¸€ä¸ªé“¾æ¥ä¸­**å¹¶å‘**åœ°å‘èµ·å¤šä¸ªè¯·æ±‚ï¼Œæ¯ä¸ªè¯·æ±‚åŠè¯¥è¯·æ±‚çš„å“åº”ä¸éœ€è¦ç­‰å¾…å…¶ä»–çš„è¯·æ±‚ï¼ŒæŸä¸ªè¯·æ±‚ä»»åŠ¡è€—æ—¶ä¸¥é‡ï¼Œä¸ä¼šå½±å“åˆ°å…¶å®ƒè¿æ¥çš„æ­£å¸¸æ‰§è¡Œ\n\n- å¤´éƒ¨å‹ç¼©\n  \n  ç”±äº HTTP æ˜¯æ— çŠ¶æ€çš„ï¼Œæ¯ä¸€ä¸ªè¯·æ±‚éƒ½éœ€è¦å¤´éƒ¨ä¿¡æ¯æ ‡è¯†è¿™æ¬¡è¯·æ±‚ç›¸å…³ä¿¡æ¯ï¼Œæ‰€ä»¥ä¼šé€ æˆä¼ è¾“å¾ˆå¤šé‡å¤çš„ä¿¡æ¯ï¼Œå½“è¯·æ±‚æ•°é‡å¢å¤§çš„æ—¶å€™ï¼Œæ¶ˆè€—çš„èµ„æºå°±ä¼šæ…¢æ…¢ç§¯ç´¯ä¸Šå»ã€‚æ‰€ä»¥ HTTP 2 å¯ä»¥ç»´æŠ¤ä¸€ä¸ªå¤´éƒ¨ä¿¡æ¯å­—å…¸ï¼Œå·®é‡è¿›è¡Œæ›´æ–°å¤´ä¿¡æ¯ï¼Œå‡å°‘å¤´éƒ¨ä¿¡æ¯ä¼ è¾“å ç”¨çš„èµ„æº\n\n### HTTP ä¸ HTTPS\n\n- HTTP æ˜¯æ˜æ–‡ä¼ è¾“ï¼ŒHTTPS é€šè¿‡ SSL\\TLS è¿›è¡Œäº†åŠ å¯†\n- HTTP çš„ç«¯å£å·æ˜¯ 80ï¼ŒHTTPS æ˜¯ 443\n- HTTPS éœ€è¦åˆ° CA ç”³è¯·è¯ä¹¦ï¼Œä¸€èˆ¬å…è´¹è¯ä¹¦å¾ˆå°‘ï¼Œéœ€è¦äº¤è´¹\n- HTTPS çš„è¿æ¥å¾ˆç®€å•ï¼Œæ˜¯æ— çŠ¶æ€çš„ï¼›HTTPS åè®®æ˜¯ç”± SSL+HTTP åè®®æ„å»ºçš„å¯è¿›è¡ŒåŠ å¯†ä¼ è¾“ã€èº«ä»½è®¤è¯çš„ç½‘ç»œåè®®ï¼Œæ¯” HTTP åè®®å®‰å…¨ã€‚\n\n### æµè§ˆå™¨ç¼“å­˜ç­–ç•¥\n\n## 3. webå®‰å…¨ï¼ˆxss/csrfï¼‰\n\n### xssï¼ˆCross-Site Scriptingï¼‰\n\n**å®šä¹‰**\n\nè·¨ç«™è„šæœ¬æ”»å‡»ï¼Œç®€ç§°è„šæœ¬æ³¨å…¥\n\n**åŸç†**\n\næ¶æ„æ”»å‡»è€…å¾€ Web é¡µé¢é‡Œæ’å…¥æ¶æ„å¯æ‰§è¡Œç½‘é¡µè„šæœ¬ä»£ç ï¼Œå½“ç”¨æˆ·æµè§ˆè¯¥é¡µä¹‹æ—¶ï¼ŒåµŒå…¥å…¶ä¸­ Web é‡Œé¢çš„è„šæœ¬ä»£ç ä¼šè¢«æ‰§è¡Œï¼Œä»è€Œå¯ä»¥è¾¾åˆ°æ”»å‡»è€…ç›—å–ç”¨æˆ·ä¿¡æ¯æˆ–å…¶ä»–ä¾µçŠ¯ç”¨æˆ·å®‰å…¨éšç§çš„ç›®çš„ã€‚\n\n**é˜²èŒƒ**\n\n- HttpOnly é˜²æ­¢åŠ«å– Cookieï¼Œæµè§ˆå™¨å°†ç¦æ­¢é¡µé¢çš„Javascript è®¿é—®å¸¦æœ‰ HttpOnly å±æ€§çš„Cookieã€‚\n- è¾“å…¥æ£€æŸ¥ï¼Œå¯¹ **\u003c**  ã€ **\u003e** è¿›è¡Œè½¬è¯‘ï¼Œä½¿å¾—æ¶æ„çš„è„šæœ¬å†…å®¹æ— æ³•æ‰§è¡Œï¼ˆReact DOM ä¼šåœ¨æ¸²æŸ“çš„æ—¶å€™æŠŠå†…å®¹ï¼ˆå­—ç¬¦ä¸²ï¼‰è¿›è¡Œè½¬ä¹‰ï¼‰\n\n\n### csrf\n\n**å®šä¹‰**\n\nè·¨ç«™è¯·æ±‚ä¼ªé€ ï¼Œæ˜¯ä¸€ç§åŠ«æŒå—ä¿¡ä»»ç”¨æˆ·å‘æœåŠ¡å™¨å‘é€éé¢„æœŸè¯·æ±‚çš„æ”»å‡»æ–¹å¼\n\n**åŸç†**\n\nåˆ©ç”¨åŒåŸŸä¸‹cookieå¯ä»¥å…±äº«ï¼Œåœ¨Aé¡µé¢ä¸­åµŒå…¥Bé¡µé¢çš„è¯·æ±‚ï¼Œå¦‚æœç”¨æˆ·ç™»å½•è¿‡Bé¡µé¢ï¼Œå³åœ¨Aä¸­çš„Bè¯·æ±‚å¯ä»¥è·å–BæœåŠ¡å™¨ä¿¡ä»»ã€‚\n\n**é˜²èŒƒ**\n\n- TokenéªŒè¯\n","excerpt":""},"previousPost":{"slug":"write","frontmatter":{"title":"é¢è¯•é¢˜é›†åˆï¼ˆæ‰‹æ’•ä»£ç ç¯‡ï¼‰","date":"July 5, 2021","description":null},"excerpt":"","content":"\n  \n## 1. æ‰‹å†™ bindã€callã€apply\n\n``` javascript\n// call\nFunction.prototype.myCall = (content) =\u003e {\n  content = content || window;\n  content.fn = this;\n  const args = [...arguments].slice(1);\n  const result = content.fn(args);\n  delete content.fn;\n  return result;\n}\n\n// apply\nFunction.prototype.myApply = (content) =\u003e {\n  content = content || window;\n  content.fn = this;\n  let result\n  if (arguments[1] \u0026\u0026 Array.isArray(arguments[1])) {\n    if (arguments[1].length === 1) {\n      result = content.fn(...arguments[1])\n    } else {\n      result = content.fn()\n    }\n  }\n  delete content.fn\n  return result\n}\n\n// bind\nFunction.prototype.myBind = (content) =\u003e {\n  content = content || window;\n  content.fn = this;\n  const args = [...arguments].slice(1);\n  return () =\u003e {\n    content.fn(args)\n  }\n}\n```\n\n## 2. æ‰‹å†™é˜²æŠ–èŠ‚æµ\n   \n   é˜²æŠ–\n   ``` javascript\n    const debounce = (fn, delay) =\u003e {\n      let timeout = null;\n      return () =\u003e {\n        if (timeout) {\n          clearTimeout(timeout);\n        }\n        timeout = setTimeout(() =\u003e {\n          fn.call(this, arguments)\n        }, delay)\n      }\n    }\n   ```\n   èŠ‚æµ\n   ``` javascript\n    const throttle = (fn, delay) =\u003e {\n      let canRun = true;\n      if (!canRun) {\n        return\n      }\n      canRun = false;\n      setTimeout(() =\u003e {\n        fn.call(this. arguments);\n        canRun = true;\n      }, delay);\n    }\n   ```\n\n## 3. æ‰‹å†™æ•°ç»„flat\n\n``` javascript\nconst flat = arr =\u003e {\n  arr.reduce((pre, value) =\u003e {\n    return pre.concat(Array.isArray(value) ? flat(value) : value)\n  }, []);\n}\n```\n\n## 4. å†™ä¸€ä¸ª mySetInterVal(fn, a, b),æ¯æ¬¡é—´éš” a,a+b,a+2b çš„æ—¶é—´ï¼Œç„¶åå†™ä¸€ä¸ª myClearï¼Œåœæ­¢ä¸Šé¢çš„ mySetInterVal\n\n``` javascript\nfunction mySetInterVal(fn, a, b) {\n  this.a = a;\n  this.b = b;\n  this.time = 0;\n  this.handle = -1;\n  this.start = () =\u003e {\n    this.handle = setTimeout(() =\u003e {\n      fn();\n      this.time++;\n      this.start();\n    }, this.a + this.time * this.b);\n  }\n\n  this.stop = () =\u003e {\n    clearTimeout(this.handle);\n    this.time = 0;\n  }\n}\n\nvar a = new mySetInterVal(() =\u003e {console.log('123')},1000, 2000 );\na.start();\na.stop();\n```\n\n## 5. æ–æ³¢é‚£å¥‘æ•°åˆ—\n   \n``` javascript\nconst Fibonacci = (n) =\u003e {\n  if (n \u003c 0) throw new Error('è¾“å…¥çš„æ•°å­—ä¸èƒ½å°äº0');\n  if (n \u003c 2) return n;\n  return Fibonacci(n - 1) + Fibonacci(n - 2)\n}\n```\n   \n## 7. å®ç° add(1)(2)(3)\n   \n``` javascript\nconst add = (a) =\u003e (b) =\u003e (c) =\u003e a + b + c;\n```\n\n## 8. æ•°æ®ç±»å‹åˆ¤æ–­\n\ntypeof å¯ä»¥æ­£ç¡®è¯†åˆ«ï¼šUndefinedã€Booleanã€Numberã€Stringã€Symbolã€Function ç­‰ç±»å‹çš„æ•°æ®ï¼Œä½†æ˜¯å¯¹äºå…¶ä»–çš„éƒ½ä¼šè®¤ä¸ºæ˜¯ objectï¼Œæ¯”å¦‚ Nullã€Date ç­‰ï¼Œæ‰€ä»¥é€šè¿‡ typeof æ¥åˆ¤æ–­æ•°æ®ç±»å‹ä¼šä¸å‡†ç¡®ã€‚ä½†æ˜¯å¯ä»¥ä½¿ç”¨ Object.prototype.toString å®ç°ã€‚\n\n``` javascript\nconst getType = (obj) =\u003e {\n  return Object.prototype.toString.call(obj).slice(8, -1);\n}\n```\n\n## 9. æ•°ç»„æ‰å¹³åŒ–\n    \næ•°ç»„æ‰å¹³åŒ–å°±æ˜¯å°† [1, [2, [3]]] è¿™ç§å¤šå±‚çš„æ•°ç»„æ‹å¹³æˆä¸€å±‚ [1, 2, 3]ã€‚ä½¿ç”¨ Array.prototype.flat å¯ä»¥ç›´æ¥å°†å¤šå±‚æ•°ç»„æ‹å¹³æˆä¸€å±‚ï¼š\n\n``` javascript\n[1, [2, [3]]].flat(2)  // [1, 2, 3]\n```\n\nå…³é”®ï¼šé€’å½’\n\n``` javascript\nconst flatten = arr =\u003e {\n  let newArr = [];\n  for(let i = 0; i \u003c arr.length; i++) {\n    if (Array.isArray(arr[i])) {\n      newArr.concat(flatten(arr[i]))\n      return\n    }\n    newArr.push(arr[i])\n  }\n  return neaArr;\n}\n```\n\n## 10. æ·±æµ…æ‹·è´\n\næµ…æ‹·è´ï¼šåªè€ƒè™‘å¯¹è±¡ç±»å‹\n\nES5ç‰ˆ\n``` javascript\nfunction shallowCopy(obj) {\n  if (typeof obj !== 'object') return\n\n  let newObj = obj instanceof Array ? [] : {};\n\n  for (let i in obj) {\n    if (obj.hasOwnProperty(i)) {\n      newObj[i] = obj[i];\n    }\n  }\n\n  return newObj;\n}\n```\n\nES6ç‰ˆ\n``` javascript\nconst shallowCopy = obj =\u003e Array.isArray(obj) ? [...obj] : {...obj}\n```\n\næ·±æ‹·è´\n\n``` javascript\nconst deepClone = obj =\u003e {\n  if (typeof obj !== 'object') return;\n  let newObj = obj instanceof Array ? [] : {};\n  \n  for (let key in obj) {\n    if (obj.hasOwnProperty(key)) {\n      if (typeof obj[key] === 'object') {\n        newObj[key] = deepClone(obj[key]);\n      } else {\n        newObj[key] = obj[key];\n      }\n    }\n  }\n\n  return newObj;\n}\n```\n\n## 11. è§£æ URL å‚æ•°ä¸ºå¯¹è±¡\n  \n``` javascript\nconst urlSearch = href =\u003e {\n  let obj = {};\n  const queryIndex = href.indexOf('?');\n  const urlOptions = href.slice(queryIndex + 1, href.length);\n  const options = urlOptions.split('\u0026');\n  options.map(option =\u003e {\n    const equalIndex = option.indexOf('=');\n    obj[option.slice(0, equalIndex)] = option.slice(equalIndex + 1, option.length);\n  });\n  return obj;\n}\n```\n\n## 12. å®ç°æŸ¯é‡ŒåŒ–ï¼ˆCurryingï¼‰\n\n``` javascript\nfunction curry(fn) {\n    let judge = (...args) =\u003e {\n        if (args.length == fn.length) return fn(...args)\n        return (...arg) =\u003e judge(...args, ...arg)\n    }\n    return judge\n}\n```\n\n## 13. æ‰‹å†™AJAX\n\n``` js\nconst myAjax = (url) =\u003e {\n  return new Promise((resolve, reject) =\u003e {\n    const xhr = new XMLHttpRequest();\n    xhr.open('GET', url);\n    xhr.setRequestHeader('Accept', 'application/json');\n    xhr.onreadystatechange = () =\u003e {\n      if (xhr.readyState !== 4) return\n      if (xhr.status === 200) {\n        resolve(xhr.responseText)\n      } else {\n        reject(xhr.responseText)\n      }\n    }\n    xhr.send();\n  })\n}\n```\n\n## 14. æ‰‹å†™Promise\n\n``` javascript\nconst PADDING = \"PADDING\";\nconst FULFILLED = \"FULFILLED\";\nconst REJECTED = \"REJECTED\";\n\nclass MyPromise {\n  constructor(executor) {\n    this.status = PADDING;\n    this.value = undefined;\n    this.error = undefined;\n\n    let resolve = (value) =\u003e {\n      if (this.status === PADDING) {\n        this.value = value;\n        this.status = FULFILLED;\n      }\n    }\n\n    let reject = (error) =\u003e {\n      if (this.status === PADDING) {\n        this.error = error;\n        this.status = REJECTED;\n      }\n    }\n\n    try {\n      executor(resolve, reject)\n    } catch (e) {\n      reject(e);\n    }\n  }\n\n  then(onFulfilled, onRejected) {\n    if (this.status === FULFILLED) {\n      onFulfilled(this.value)\n    }\n\n    if (this.status === REJECTED) {\n      onRejected(this.error)\n    }\n  }\n}\n```\n    \n## 15. å®ç° Promise.all\n  \n``` js\nconst promiseAll = (promises) =\u003e {\n  if (Array.isArray(promises)) {\n    throw new Error('the arguments must be an array !!!')\n  }\n  const promisesLength = promises.length;\n  let current = 0, result = [];\n  new Promise((resolve, reject) =\u003e {\n    promises.forEach((promise, i) =\u003e {\n      Promise.resolve(promise).then(value =\u003e {\n        current ++;\n        result[i] = value;\n        if (current === promisesLength) {\n          resolve(result)\n        }\n      }, error =\u003e reject(error))\n    })\n  })\n}\n```\n\n## 16. æ‰‹å†™æ¨¡ç‰ˆå­—ç¬¦ä¸²\n\n``` javascript\nconst render = (str, data) =\u003e {\n  const reg = /\\{\\{(\\w+)\\}\\}/;\n  if (reg.test(str)) {\n    const key = reg.exec(str)[1];\n    str = str.replace(reg, data[key]);\n    return render(str, data);\n  }\n  return str;\n} \n```"},"nextPost":{"slug":"js","frontmatter":{"title":"é¢è¯•é¢˜é›†åˆï¼ˆJSç¯‡ï¼‰","date":"July 5, 2021","description":null},"excerpt":"","content":"\n## 1. infinityä»£è¡¨ä»€ä¹ˆæ•°æ®\n\n  åœ¨JSä¸­Infinityç”¨äºè¡¨ç¤ºæ— ç©·å¤§çš„æ•°å€¼ï¼Œä¸”ä¸æ˜¯å¸¸é‡ï¼Œå³æ— æ³•æ˜ç¡®è¡¨ç¤ºå®ƒåˆ°åº•æœ‰å¤šå¤§ã€‚å¯ä»¥é€šè¿‡isFinite(val)åˆ¤æ–­å½“å‰æ•°å­—æ˜¯å¦æ˜¯æ— ç©·å¤§ï¼Œå‡½æ•°è¿”å›trueè¡¨ç¤ºä¸æ˜¯æ— ç©·å¤§ï¼Œè¿”å›falseè¡¨ç¤ºæ˜¯æ— ç©·å¤§ã€‚\n\n\n## 2. å¦‚ä½•è®¡ç®—åŠ¨ç”»çš„å¸§ç‡ï¼ˆFPSï¼‰\n\n- å¯ä»¥å€ŸåŠ©requestAnimationFrame APIï¼ŒrequestAnimationFrame ä½¿ç”¨ä¸€ä¸ªå›è°ƒå‡½æ•°ä½œä¸ºå‚æ•°ã€‚è¿™ä¸ªå›è°ƒå‡½æ•°ä¼šåœ¨æµè§ˆå™¨é‡ç»˜ä¹‹å‰è°ƒç”¨ã€‚\n\n- requestAnimationFrameçš„å›è°ƒå‡½æ•°æ‰§è¡Œæ¬¡æ•°é€šå¸¸ä¸æµè§ˆå™¨å±å¹•åˆ·æ–°æ¬¡æ•°ç›¸åŒ¹é…ï¼Œè€Œåˆ©ç”¨è¿™ä¸ªAPIå®ç°åŠ¨ç”»çš„åŸç†å°±æ˜¯å›è°ƒå‡½æ•°å†…å†æ¬¡è°ƒç”¨requestAnimationFrameï¼Œæ‰€ä»¥é¡µé¢ä¸æ–­é‡ç»˜æ—¶ï¼Œç„¶åæ£€æµ‹1ç§’å†…requestAnimationFrameè°ƒç”¨çš„æ¬¡æ•°ï¼Œå°±æ˜¯å½“å‰çš„FPS\n\n\n## 3. è¯·è¯´è¯´new String(\"A\")å’ŒString(\"A\")åˆ†åˆ«è¿”å›çš„ç»“æœï¼Œè¯·è§£é‡Šä¸ºä»€ä¹ˆ\n\n- new String(\"A\") :\n  \n  è¿”å›ç±»å‹ï¼šå¼•ç”¨ç±»å‹ï¼Œå †å†…å­˜å­˜å‚¨\n  è¿”å›å€¼ï¼šå­—ç¬¦ä¸²å¯¹è±¡\n\n- String(\"Aâ€) ï¼š\n  \n  è¿”å›ç±»å‹ï¼šåŸºæœ¬ç±»å‹ï¼Œæ ˆå†…å­˜å­˜å‚¨\n  è¿”å›å€¼ï¼šå­—ç¬¦ä¸²å€¼\n\n## 4. è¯·é€šè¿‡reduceå‡½æ•°å®ç°ä¸€ç»´æ•°ç»„çš„æ±‚å’Œ\n\n``` javascript\nconst sum = arr =\u003e arr.reduce((a, b) =\u003e a + b)\n```\n\n## 5. è¯·è¯´è¯´ä¸¥æ ¼æ¨¡å¼ä¸‹çš„thisæŒ‡å‘\n\n- åœ¨ä¸¥æ ¼æ¨¡å¼ä¸‹ï¼Œåœ¨å…¨å±€ä½œç”¨åŸŸä¸­ï¼ŒthisæŒ‡å‘windowå¯¹è±¡\n- åœ¨ä¸¥æ ¼æ¨¡å¼ä¸‹ï¼Œå‡½æ•°ä¸­çš„thisç­‰äºundefined\n- åœ¨ä¸¥æ ¼æ¨¡å¼ä¸‹ï¼Œå¯¹è±¡çš„å‡½æ•°ä¸­çš„thisæŒ‡å‘è°ƒç”¨å‡½æ•°çš„å¯¹è±¡å®ä¾‹\n- åœ¨ä¸¥æ ¼æ¨¡å¼ä¸‹ï¼Œæ„é€ å‡½æ•°ä¸­çš„thisæŒ‡å‘æ„é€ å‡½æ•°åˆ›å»ºçš„å¯¹è±¡å®ä¾‹ã€‚\n- åœ¨ä¸¥æ ¼æ¨¡å¼ä¸‹ï¼Œåœ¨äº‹ä»¶å¤„ç†å‡½æ•°ä¸­ï¼ŒthisæŒ‡å‘è§¦å‘äº‹ä»¶çš„ç›®æ ‡å¯¹è±¡ã€‚\n\n## 6. å›¾ç‰‡æ‡’åŠ è½½åŸç†\n   \n  å›¾ç‰‡æ‡’åŠ è½½çš„åŸç†ä¸»è¦æ˜¯åˆ¤æ–­å½“å‰å›¾ç‰‡æ˜¯å¦åˆ°äº†å¯è§†åŒºåŸŸè¿™ä¸€æ ¸å¿ƒé€»è¾‘å®ç°çš„\n\n- æ‹¿åˆ°æ‰€æœ‰çš„å›¾ç‰‡ dom ã€‚\n- éå†æ¯ä¸ªå›¾ç‰‡åˆ¤æ–­å½“å‰å›¾ç‰‡æ˜¯å¦åˆ°äº†å¯è§†åŒºèŒƒå›´å†…ã€‚\n- å¦‚æœåˆ°äº†å°±è®¾ç½®å›¾ç‰‡çš„ src å±æ€§ã€‚\n- ç»‘å®š window çš„ scroll äº‹ä»¶ï¼Œå¯¹å…¶è¿›è¡Œäº‹ä»¶ç›‘å¬ï¼ˆæ­é…èŠ‚æµï¼‰ã€‚\n\n``` js\nlet imgList = [...document.querySelectorAll('img')]\nlet length = imgList.length\n\n// ä¿®æ­£é”™è¯¯ï¼Œéœ€è¦åŠ ä¸Šè‡ªæ‰§è¡Œ\n- const imgLazyLoad = function() {\n+ const imgLazyLoad = (function() {\n    let count = 0\n    \n   return function() {\n        let deleteIndexList = []\n        imgList.forEach((img, index) =\u003e {\n            let rect = img.getBoundingClientRect()\n            if (rect.top \u003c window.innerHeight) {\n                img.src = img.dataset.src\n                deleteIndexList.push(index)\n                count++\n                if (count === length) {\n                    document.removeEventListener('scroll', imgLazyLoad)\n                }\n            }\n        })\n        imgList = imgList.filter((img, index) =\u003e !deleteIndexList.includes(index))\n   }\n- }\n+ })()\n\n// è¿™é‡Œæœ€å¥½åŠ ä¸ŠèŠ‚æµå¤„ç†\ndocument.addEventListener('scroll', imgLazyLoad)\n\n```\n\n## 7. æ‡’åŠ è½½å’Œé¢„åŠ è½½\n\n  ä¸¤è€…éƒ½æ˜¯æé«˜é¡µé¢æ€§èƒ½æœ‰æ•ˆçš„åŠæ³•ï¼Œä¸¤è€…ä¸»è¦åŒºåˆ«æ˜¯ä¸€ä¸ªæ˜¯æå‰åŠ è½½ï¼Œä¸€ä¸ªæ˜¯è¿Ÿç¼“ç”šè‡³ä¸åŠ è½½ã€‚æ‡’åŠ è½½å¯¹æœåŠ¡å™¨å‰ç«¯æœ‰ä¸€å®šçš„ç¼“è§£å‹åŠ›ä½œç”¨ï¼Œé¢„åŠ è½½åˆ™ä¼šå¢åŠ æœåŠ¡å™¨å‰ç«¯å‹åŠ›ã€‚\n\n## 8. å¦‚ä½•åŒºåˆ†è¿”å›å†…å®¹æ˜¯æ–‡ä»¶æµè¿˜æ˜¯jsonæ•°æ®\n\n``` javascript\nawait (await fetch(url)).blob();\n// Blob {size: 100, type: \"application/json\"}\n// Blob {size: 73226, type: \"image/jpeg\"}\n```\n\n## 9. å†™ä¸€ä¸ªæ–¹æ³•åˆ¤æ–­jsçš„æ–¹æ³•æ˜¯å†…ç½®çš„è¿˜æ˜¯è‡ªå®šä¹‰çš„\n\ntoStringä¸€ä¸‹\n``` javascript\nfunction isNative (f) {\n    return typeof f === 'function' \u0026\u0026 /native code/.test(f.toString())\n}\n```\n\n## 10. å¾®ä»»åŠ¡ä¸å®ä»»åŠ¡\n\n- JavaScriptæ˜¯å•çº¿ç¨‹çš„è¯­è¨€\n- Event Loopæ˜¯javascriptçš„æ‰§è¡Œæœºåˆ¶\n\n![interview-js-event-loop](interview-js-event-loop.jpeg)\n\n- åŒæ­¥å’Œå¼‚æ­¥ä»»åŠ¡åˆ†åˆ«è¿›å…¥ä¸åŒçš„æ‰§è¡Œ\"åœºæ‰€\"ï¼ŒåŒæ­¥çš„è¿›å…¥ä¸»çº¿ç¨‹ï¼Œå¼‚æ­¥çš„è¿›å…¥Event Tableå¹¶æ³¨å†Œå‡½æ•°\n- å½“æŒ‡å®šçš„äº‹æƒ…å®Œæˆæ—¶ï¼ŒEvent Tableä¼šå°†è¿™ä¸ªå‡½æ•°ç§»å…¥Event Queueã€‚\n- ä¸»çº¿ç¨‹å†…çš„ä»»åŠ¡æ‰§è¡Œå®Œæ¯•ä¸ºç©ºï¼Œä¼šå»Event Queueè¯»å–å¯¹åº”çš„å‡½æ•°ï¼Œè¿›å…¥ä¸»çº¿ç¨‹æ‰§è¡Œã€‚\n- ä¸Šè¿°è¿‡ç¨‹ä¼šä¸æ–­é‡å¤ï¼Œä¹Ÿå°±æ˜¯å¸¸è¯´çš„Event Loop(äº‹ä»¶å¾ªç¯)ã€‚\n\n  jså¼‚æ­¥æœ‰ä¸€ä¸ªæœºåˆ¶ï¼Œå°±æ˜¯é‡åˆ°å®ä»»åŠ¡ï¼Œå…ˆæ‰§è¡Œå®ä»»åŠ¡ï¼Œå°†å®ä»»åŠ¡æ”¾å…¥eventqueueï¼Œç„¶ååœ¨æ‰§è¡Œå¾®ä»»åŠ¡ï¼Œå°†å¾®ä»»åŠ¡æ”¾å…¥eventqueueæœ€éªšçš„æ˜¯ï¼Œè¿™ä¸¤ä¸ªqueueä¸æ˜¯ä¸€ä¸ªqueueã€‚å½“ä½ å¾€å¤–æ‹¿çš„æ—¶å€™å…ˆä»å¾®ä»»åŠ¡é‡Œæ‹¿è¿™ä¸ªå›æ‰å‡½æ•°ï¼Œç„¶åå†ä»å®ä»»åŠ¡çš„queueä¸Šæ‹¿å®ä»»åŠ¡çš„å›æ‰å‡½æ•°ï¼Œä¹Ÿå°±æ˜¯è¯´â€˜åŒä¸€å±‚â€™æ—¢æœ‰å¾®ä»»åŠ¡ä¹Ÿæœ‰å®ä»»åŠ¡çš„æ—¶å€™ï¼Œå…ˆæ‰§è¡Œå¾®ä»»åŠ¡\n\n``` javascript\nconsole.log('1');\n\nsetTimeout(function() {\n    console.log('2');\n    process.nextTick(function() {\n        console.log('3');\n    })\n    new Promise(function(resolve) {\n        console.log('4');\n        resolve();\n    }).then(function() {\n        console.log('5')\n    })\n})\nprocess.nextTick(function() {\n    console.log('6');\n})\nnew Promise(function(resolve) {\n    console.log('7');\n    resolve();\n}).then(function() {\n    console.log('8')\n})\n\nsetTimeout(function() {\n    console.log('9');\n    process.nextTick(function() {\n        console.log('10');\n    })\n    new Promise(function(resolve) {\n        console.log('11');\n        resolve();\n    }).then(function() {\n        console.log('12')\n    })\n})\n```\n\n## 11. å‡½æ•°çš„æ–¹æ³• call()ã€apply()ã€bind()çš„åŒºåˆ«\n\n### æ”¹å˜å‡½æ•°æ‰§è¡Œä¸Šä¸‹æ–‡ï¼Œä¹Ÿå°±æ˜¯æ”¹å˜thisçš„æŒ‡å‘\n\n- callå’Œapplyæ”¹å˜äº†å‡½æ•°çš„thisä¸Šä¸‹æ–‡åä¾¿æ‰§è¡Œè¯¥å‡½æ•°,è€Œbindåˆ™æ˜¯è¿”å›æ”¹å˜äº†ä¸Šä¸‹æ–‡åçš„ä¸€ä¸ªå‡½æ•°ã€‚\n- callå’Œapplyçš„ç¬¬ä¸€ä¸ªå‚æ•°éƒ½æ˜¯è¦æ”¹å˜ä¸Šä¸‹æ–‡çš„å¯¹è±¡ï¼Œè€Œcallä»ç¬¬äºŒä¸ªå‚æ•°å¼€å§‹ä»¥å‚æ•°åˆ—è¡¨çš„å½¢å¼å±•ç°ï¼Œapplyåˆ™æ˜¯æŠŠé™¤äº†æ”¹å˜ä¸Šä¸‹æ–‡å¯¹è±¡çš„å‚æ•°æ”¾åœ¨ä¸€ä¸ªæ•°ç»„é‡Œé¢ä½œä¸ºå®ƒçš„ç¬¬äºŒä¸ªå‚æ•°ã€‚\n\n\n## 12. å‰ç«¯æ€§èƒ½ä¼˜åŒ–\n- å‡å°‘ HTTP è¯·æ±‚\n- ä½¿ç”¨ HTTP2\n- ä½¿ç”¨æœåŠ¡ç«¯æ¸²æŸ“\n  \n  å®¢æˆ·ç«¯æ¸²æŸ“: è·å– HTML æ–‡ä»¶ï¼Œæ ¹æ®éœ€è¦ä¸‹è½½ JavaScript æ–‡ä»¶ï¼Œè¿è¡Œæ–‡ä»¶ï¼Œç”Ÿæˆ DOMï¼Œå†æ¸²æŸ“ã€‚\n  æœåŠ¡ç«¯æ¸²æŸ“ï¼šæœåŠ¡ç«¯è¿”å› HTML æ–‡ä»¶ï¼Œå®¢æˆ·ç«¯åªéœ€è§£æ HTMLã€‚\n\n- é™æ€èµ„æºä½¿ç”¨ CDN\n- å°† CSS æ”¾åœ¨æ–‡ä»¶å¤´éƒ¨ï¼ŒJavaScript æ–‡ä»¶æ”¾åœ¨åº•éƒ¨\n- ä½¿ç”¨å­—ä½“å›¾æ ‡ iconfont ä»£æ›¿å›¾ç‰‡å›¾æ ‡\n- å–„ç”¨ç¼“å­˜ï¼Œä¸é‡å¤åŠ è½½ç›¸åŒçš„èµ„æº\n- å‹ç¼©æ–‡ä»¶ï¼ˆjsï¼Œcssï¼Œå›¾ç‰‡ï¼‰\n- å›¾ç‰‡ä¼˜åŒ–ï¼ˆæ‡’åŠ è½½ï¼Œbase64ï¼‰\n- åˆ†chunkï¼Œå¤§çš„åº“è€ƒè™‘ç”¨CDNï¼ˆreactï¼Œrouterç­‰ï¼‰\n- ä½¿ç”¨äº‹ä»¶å§”æ‰˜\n- if-else å¯¹æ¯” switch\n  \n  å½“åˆ¤æ–­æ¡ä»¶æ•°é‡è¶Šæ¥è¶Šå¤šæ—¶ï¼Œè¶Šå€¾å‘äºä½¿ç”¨ switch è€Œä¸æ˜¯ if-elseã€‚\n- ä½¿ç”¨ Web Workers\n- é™ä½ CSS é€‰æ‹©å™¨çš„å¤æ‚æ€§ï¼ˆå‹¿åµŒå¥—å¤šå±‚ï¼‰\n\n## 13. ä»€ä¹ˆæ˜¯é˜²æŠ–å’ŒèŠ‚æµï¼Œåº”ç”¨åœºæ™¯æ˜¯å•¥\n    \n### éƒ½æ˜¯ç”¨äºé™åˆ¶å‡½æ•°è¢«é¢‘ç¹è°ƒç”¨\n\n**é˜²æŠ–ï¼šä»»åŠ¡é¢‘ç¹è§¦å‘çš„æƒ…å†µä¸‹ï¼Œåªæœ‰ä»»åŠ¡è§¦å‘çš„é—´éš”è¶…è¿‡æŒ‡å®šé—´éš”çš„æ—¶å€™ï¼Œä»»åŠ¡æ‰ä¼šæ‰§è¡Œã€‚**\n\nåœºæ™¯ï¼šæœ‰ä¸ªè¾“å…¥æ¡†ï¼Œè¾“å…¥ä¹‹åä¼šè°ƒç”¨æ¥å£ï¼Œè·å–è”æƒ³è¯ã€‚ä½†æ˜¯ï¼Œå› ä¸ºé¢‘ç¹è°ƒç”¨æ¥å£ä¸å¤ªå¥½ï¼Œæ‰€ä»¥æˆ‘ä»¬åœ¨ä»£ç ä¸­ä½¿ç”¨é˜²æŠ–åŠŸèƒ½ï¼Œåªæœ‰åœ¨ç”¨æˆ·è¾“å…¥å®Œæ¯•çš„ä¸€æ®µæ—¶é—´åï¼Œæ‰ä¼šè°ƒç”¨æ¥å£ï¼Œå‡ºç°è”æƒ³è¯ã€‚\n\n**èŠ‚æµï¼šä»»åŠ¡é¢‘ç¹è§¦å‘çš„æƒ…å†µä¸‹ï¼ŒæŒ‡å®šæ—¶é—´é—´éš”å†…åªä¼šæ‰§è¡Œä¸€æ¬¡ä»»åŠ¡ã€‚**\n\nåœºæ™¯ï¼šæ‡’åŠ è½½è¦ç›‘å¬è®¡ç®—æ»šåŠ¨æ¡çš„ä½ç½®ï¼Œä½¿ç”¨èŠ‚æµæŒ‰ä¸€å®šæ—¶é—´çš„é¢‘ç‡è·å–ï¼›åŒåä¸€æŠ¢å•†å“\n\n## 14. å®ç°é“¾å¼è°ƒç”¨\n    \né“¾å¼è°ƒç”¨çš„æ ¸å¿ƒå°±åœ¨äºè°ƒç”¨å®Œçš„æ–¹æ³•å°†è‡ªèº«å®ä¾‹è¿”å›\n\n``` javascript\nfunction Class1() {\n    console.log('åˆå§‹åŒ–')\n}\nClass1.prototype.method = function(param) {\n    console.log(param)\n    return this\n}\nlet cl = new Class1()\n//ç”±äºnew åœ¨å®ä¾‹åŒ–çš„æ—¶å€™thisä¼šæŒ‡å‘åˆ›å»ºçš„å¯¹è±¡ï¼Œ æ‰€ä»¥this.methodè¿™ä¸ªæ–¹æ³•ä¼šåœ¨åŸå‹é“¾ä¸­æ‰¾åˆ°ã€‚\ncl.method('ç¬¬ä¸€æ¬¡è°ƒç”¨').method('ç¬¬äºŒæ¬¡é“¾å¼è°ƒç”¨').method('ç¬¬ä¸‰æ¬¡é“¾å¼è°ƒç”¨')\n```\n    \n## 15. ç»§æ‰¿\n    \n**åŸå‹é“¾ç»§æ‰¿**\n\n``` javascript\nfunction Animal() {\n    this.colors = ['black', 'white']\n}\nAnimal.prototype.getColor = function() {\n    return this.colors\n}\nfunction Dog() {}\nDog.prototype =  new Animal()\n\nlet dog1 = new Dog()\ndog1.colors.push('brown')\nlet dog2 = new Dog()\nconsole.log(dog2.colors)  // ['black', 'white', 'brown']\n```\n\n**é—®é¢˜**\n\n- åŸå‹ä¸­çš„å±æ€§ä¼šè¢«å…±äº«\n- å®ä¾‹åŒ–æ—¶æ— æ³•ç»™çˆ¶ç±»æ„é€ å‡½æ•°ä¼ å‚\n  \n**å€Ÿç”¨æ„é€ å‡½æ•°å®ç°ç»§æ‰¿**\n\n``` javascript\nfunction Animal(name) {\n    this.name = name\n    this.getName = function() {\n        return this.name\n    }\n}\nfunction Dog(name) {\n    Animal.call(this, name)\n}\n```\nå€Ÿç”¨æ„é€ å‡½æ•°å®ç°ç»§æ‰¿è§£å†³äº†åŸå‹é“¾ç»§æ‰¿çš„ 2 ä¸ªé—®é¢˜ï¼šå¼•ç”¨ç±»å‹å…±äº«é—®é¢˜ä»¥åŠä¼ å‚é—®é¢˜ã€‚ä½†æ˜¯ç”±äºæ–¹æ³•å¿…é¡»å®šä¹‰åœ¨æ„é€ å‡½æ•°ä¸­ï¼Œæ‰€ä»¥**ä¼šå¯¼è‡´æ¯æ¬¡åˆ›å»ºå­ç±»å®ä¾‹éƒ½ä¼šåˆ›å»ºä¸€éæ–¹æ³•**ã€‚\n\n**ç»„åˆç»§æ‰¿**\n\nç»„åˆç»§æ‰¿ç»“åˆäº†åŸå‹é“¾å’Œç›—ç”¨æ„é€ å‡½æ•°ï¼Œå°†ä¸¤è€…çš„ä¼˜ç‚¹é›†ä¸­äº†èµ·æ¥ã€‚åŸºæœ¬çš„æ€è·¯æ˜¯ä½¿ç”¨åŸå‹é“¾ç»§æ‰¿åŸå‹ä¸Šçš„å±æ€§å’Œæ–¹æ³•ï¼Œè€Œé€šè¿‡ç›—ç”¨æ„é€ å‡½æ•°ç»§æ‰¿å®ä¾‹å±æ€§ã€‚è¿™æ ·æ—¢å¯ä»¥æŠŠæ–¹æ³•å®šä¹‰åœ¨åŸå‹ä¸Šä»¥å®ç°é‡ç”¨ï¼Œåˆå¯ä»¥è®©æ¯ä¸ªå®ä¾‹éƒ½æœ‰è‡ªå·±çš„å±æ€§ã€‚\n\n``` javascript\nfunction Animal(name) {\n    this.name = name\n    this.colors = ['black', 'white']\n}\nAnimal.prototype.getName = function() {\n    return this.name\n}\nfunction Dog(name, age) {\n    Animal.call(this, name)\n    this.age = age\n}\nDog.prototype =  new Animal()\nDog.prototype.constructor = Dog\n\nlet dog1 = new Dog('å¥¶æ˜”', 2)\ndog1.colors.push('brown')\nlet dog2 = new Dog('å“ˆèµ¤', 1)\nconsole.log(dog2) // { name: \"å“ˆèµ¤\", colors: [\"black\", \"white\"], age: 1 }\n```\n\n## 16. jsä¸­çš„å †æ ˆ\n    \n### æ ˆæ•°æ®ç»“æ„\n\n- æ ˆæ˜¯ä¸€ç§ç‰¹æ®Šçš„åˆ—è¡¨ï¼Œæ ˆå†…çš„å…ƒç´ åªèƒ½é€šè¿‡åˆ—è¡¨çš„ä¸€ç«¯è®¿é—®ï¼Œè¿™ä¸€ç«¯ç§°ä¸ºæ ˆé¡¶ã€‚\n- æ ˆè¢«ç§°ä¸ºæ˜¯ä¸€ç§åå…¥å…ˆå‡ºï¼ˆLIFOï¼Œlast-in-first-outï¼‰çš„æ•°æ®ç»“æ„ã€‚\n\n### å †æ•°æ®ç»“æ„\n\n- å †æ˜¯ä¸€ç§ç»è¿‡æ’åºçš„æ ‘å½¢æ•°æ®ç»“æ„ï¼Œæ¯ä¸ªç»“ç‚¹éƒ½æœ‰ä¸€ä¸ªå€¼ã€‚\n- å †çš„ç‰¹ç‚¹æ˜¯æ ¹ç»“ç‚¹çš„å€¼æœ€å°ï¼ˆæˆ–æœ€å¤§ï¼‰ï¼Œä¸”æ ¹ç»“ç‚¹çš„ä¸¤ä¸ªå­æ ‘ä¹Ÿæ˜¯ä¸€ä¸ªå †ã€‚\n\n### å˜é‡ç±»å‹ä¸å†…å­˜çš„å…³ç³»\n\n#### åŸºæœ¬æ•°æ®ç±»å‹\n\nStingã€Numberã€Booleanã€nullã€undefinedã€Symbol\n\n- åŸºæœ¬æ•°æ®ç±»å‹ä¿å­˜åœ¨æ ˆå†…å­˜ä¸­ï¼Œå› ä¸ºåŸºæœ¬æ•°æ®ç±»å‹å ç”¨ç©ºé—´å°ã€å¤§å°å›ºå®šï¼Œé€šè¿‡æŒ‰å€¼æ¥è®¿é—®ï¼Œå±äºè¢«é¢‘ç¹ä½¿ç”¨çš„æ•°æ®ã€‚\n- å¼•ç”¨æ•°æ®ç±»å‹å­˜å‚¨åœ¨å †å†…å­˜ä¸­ï¼Œå› ä¸ºå¼•ç”¨æ•°æ®ç±»å‹å æ®ç©ºé—´å¤§ã€å¤§å°ä¸å›ºå®šï¼›å¼•ç”¨æ•°æ®ç±»å‹åœ¨æ ˆä¸­å­˜å‚¨äº†æŒ‡é’ˆï¼Œè¯¥æŒ‡é’ˆæŒ‡å‘å †ä¸­è¯¥å®ä½“çš„èµ·å§‹åœ°å€\n\n\n## 17. Proxyçš„ç†è§£\n\n### å›ç­”è¦ç‚¹\n- Proxyçš„ä½œç”¨ï¼ˆæ‹¦æˆªè¯»å–ï¼Œå†™å…¥ç­‰æ“ä½œï¼Œå¯ä»¥è¦†ç›–åŸç”Ÿæ“ä½œï¼‰\n- Proxyå’ŒObject.definePropertyçš„åŒºåˆ«ï¼ˆä¼˜åŠ¿ï¼ŒVue3ç”¨Proxyå–ä»£2ç‰ˆçš„definePropertyï¼‰\n- Reflectçš„ç”¨æ³•ï¼ˆäº†è§£ï¼‰\n\n### é“¾æ¥\n[Proxy å’Œ Reflect](https://juejin.cn/post/6844904090116292616)\n\n## 18. Generatorè¯¦è§£\n\n- å¯æ§åˆ¶çš„å¼‚æ­¥æµç¨‹\n- asyncæ˜¯Generatorçš„å®ç°ï¼ˆè¯­æ³•ç³–ï¼‰\n\n## 19. ææ‡‚prototypeå’Œ __proto__\n\n### javascriptç»§æ‰¿çš„æœ¬è´¨\n\nä¸€ä¸ªå¯¹è±¡ Açš„__proto__å±æ€§æŒ‡å‘çš„é‚£ä¸ªå¯¹è±¡Bï¼ŒBå°±æ˜¯ A çš„åŸå‹å¯¹è±¡ï¼ˆæˆ–è€…å«çˆ¶å¯¹è±¡ï¼‰ï¼Œå¯¹è±¡ A å¯ä»¥ä½¿ç”¨å¯¹è±¡ B ä¸­çš„å±æ€§å’Œæ–¹æ³•ï¼ŒåŒæ—¶ä¹Ÿå¯ä»¥ä½¿ç”¨å¯¹è±¡ B çš„ åŸå‹å¯¹è±¡C ä¸Šçš„å±æ€§å’Œæ–¹æ³•ï¼Œä»¥æ­¤é€’å½’ï¼Œå°±æ˜¯æ‰€è°“çš„åŸå‹é“¾ã€‚\n\n### new æ“ä½œåˆ°åº•åšäº†ä»€ä¹ˆ\n\n\n\n\n\n\n"}},"__N_SSG":true},"page":"/post/[slug]","query":{"slug":"questions"},"buildId":"PNF1AQio7MGXtA91zf_VP","nextExport":false,"isFallback":false,"gsp":true}</script><script nomodule="" src="/_next/static/chunks/polyfills-8f31809deb7932dd0187.js"></script><script src="/_next/static/chunks/main-c6f966696d7d46f48c33.js" async=""></script><script src="/_next/static/chunks/webpack-50bee04d1dc61f8adf5b.js" async=""></script><script src="/_next/static/chunks/framework.10b3d8f36ae5d485c3da.js" async=""></script><script src="/_next/static/chunks/commons.18cd929bdef6e2f96561.js" async=""></script><script src="/_next/static/chunks/pages/_app-7c6d80ab417193f95407.js" async=""></script><script src="/_next/static/chunks/1173eff4538ab0eae4f3f506dea9a7965770ad37.102498c830e6881bc94f.js" async=""></script><script src="/_next/static/chunks/pages/post/%5Bslug%5D-13092b6d8cea2defd1b4.js" async=""></script><script src="/_next/static/PNF1AQio7MGXtA91zf_VP/_buildManifest.js" async=""></script><script src="/_next/static/PNF1AQio7MGXtA91zf_VP/_ssgManifest.js" async=""></script></body></html>