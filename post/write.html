<!DOCTYPE html><html lang="en-US"><head><meta name="viewport" content="width=device-width"/><meta charSet="utf-8"/><script>!function(){try {var d=document.documentElement.classList;d.remove('light','dark');var e=localStorage.getItem('theme');if("system"===e||(!e&&true)){var t="(prefers-color-scheme: dark)",m=window.matchMedia(t);m.media!==t||m.matches?d.add('dark'):d.add('light')}else if(e) d.add(e)}catch(e){}}()</script><title>é¢è¯•é¢˜é›†åˆï¼ˆæ‰‹æ’•ä»£ç ç¯‡ï¼‰ | Xu dongdong&#x27;s blog</title><meta name="description" content="A blog created with Next.js and Tailwind.css"/><meta property="og:type" content="website"/><meta name="og:title" property="og:title" content="é¢è¯•é¢˜é›†åˆï¼ˆæ‰‹æ’•ä»£ç ç¯‡ï¼‰"/><meta name="og:description" property="og:description" content="A blog created with Next.js and Tailwind.css"/><meta name="twitter:card" content="summary"/><meta name="twitter:title" content="é¢è¯•é¢˜é›†åˆï¼ˆæ‰‹æ’•ä»£ç ç¯‡ï¼‰"/><meta name="twitter:description" content="A blog created with Next.js and Tailwind.css"/><meta name="twitter:creator" content="https://twitter.com/WhyYouJames"/><link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png"/><link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png"/><link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png"/><link rel="manifest" href="/site.webmanifest"/><meta name="next-head-count" content="16"/><link rel="preload" href="/_next/static/css/f8d73a71d7937abe53e1.css" as="style"/><link rel="stylesheet" href="/_next/static/css/f8d73a71d7937abe53e1.css" data-n-g=""/><noscript data-n-css=""></noscript><link rel="preload" href="/_next/static/chunks/main-c6f966696d7d46f48c33.js" as="script"/><link rel="preload" href="/_next/static/chunks/webpack-50bee04d1dc61f8adf5b.js" as="script"/><link rel="preload" href="/_next/static/chunks/framework.10b3d8f36ae5d485c3da.js" as="script"/><link rel="preload" href="/_next/static/chunks/commons.18cd929bdef6e2f96561.js" as="script"/><link rel="preload" href="/_next/static/chunks/pages/_app-7c6d80ab417193f95407.js" as="script"/><link rel="preload" href="/_next/static/chunks/1173eff4538ab0eae4f3f506dea9a7965770ad37.102498c830e6881bc94f.js" as="script"/><link rel="preload" href="/_next/static/chunks/pages/post/%5Bslug%5D-fbf63f1d8d975d156516.js" as="script"/></head><body><div id="__next"><div class="w-full min-h-screen dark:bg-gray-700 dark:text-white flex"><div class="max-w-screen-md px-4 py-12 mx-auto antialiased font-body flex flex-col flex-grow"><header class="flex items-center justify-between  mb-2"><div class="max-w-lg"><h1><a class="text-2xl font-black text-black no-underline font-display dark:text-white" href="/">Xu dongdong&#x27;s blog</a></h1></div></header><main class="flex-grow"><article><header class="mb-8"><h1 class="mb-2 text-6xl font-black leading-none font-display">é¢è¯•é¢˜é›†åˆï¼ˆæ‰‹æ’•ä»£ç ç¯‡ï¼‰</h1><p class="text-sm">July 2, 2021</p></header><div class="mb-4 prose lg:prose-lg dark:prose-dark"><ol><li>æ‰‹å†™ bindã€callã€apply</li></ol><pre style="color:#f8f8f2;background:#282a36;text-shadow:0 1px rgba(0, 0, 0, 0.3);font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto;border-radius:0.3em"><code class="language-javascript" style="color:#f8f8f2;background:none;text-shadow:0 1px rgba(0, 0, 0, 0.3);font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span class="token" style="color:#6272a4">// call</span><span>
</span><span></span><span class="token" style="color:#f1fa8c">Function</span><span class="token" style="color:#f8f8f2">.</span><span class="token property-access">prototype</span><span class="token" style="color:#f8f8f2">.</span><span class="token method-variable function-variable method property-access" style="color:#f1fa8c">myCall</span><span> </span><span class="token" style="color:#f8f8f2">=</span><span> </span><span class="token" style="color:#f8f8f2">(</span><span class="token parameter">content</span><span class="token" style="color:#f8f8f2">)</span><span> </span><span class="token arrow" style="color:#f8f8f2">=&gt;</span><span> </span><span class="token" style="color:#f8f8f2">{</span><span>
</span><span>  content </span><span class="token" style="color:#f8f8f2">=</span><span> content </span><span class="token" style="color:#f8f8f2">||</span><span> </span><span class="token dom" style="color:#f8f8f2">window</span><span class="token" style="color:#f8f8f2">;</span><span>
</span><span>  content</span><span class="token" style="color:#f8f8f2">.</span><span class="token property-access">fn</span><span> </span><span class="token" style="color:#f8f8f2">=</span><span> </span><span class="token" style="color:#8be9fd">this</span><span class="token" style="color:#f8f8f2">;</span><span>
</span><span>  </span><span class="token" style="color:#8be9fd">const</span><span> args </span><span class="token" style="color:#f8f8f2">=</span><span> </span><span class="token" style="color:#f8f8f2">[</span><span class="token spread" style="color:#f8f8f2">...</span><span>arguments</span><span class="token" style="color:#f8f8f2">]</span><span class="token" style="color:#f8f8f2">.</span><span class="token method property-access" style="color:#f1fa8c">slice</span><span class="token" style="color:#f8f8f2">(</span><span class="token" style="color:#bd93f9">1</span><span class="token" style="color:#f8f8f2">)</span><span class="token" style="color:#f8f8f2">;</span><span>
</span><span>  </span><span class="token" style="color:#8be9fd">const</span><span> result </span><span class="token" style="color:#f8f8f2">=</span><span> content</span><span class="token" style="color:#f8f8f2">.</span><span class="token method property-access" style="color:#f1fa8c">fn</span><span class="token" style="color:#f8f8f2">(</span><span>args</span><span class="token" style="color:#f8f8f2">)</span><span class="token" style="color:#f8f8f2">;</span><span>
</span><span>  </span><span class="token" style="color:#8be9fd">delete</span><span> content</span><span class="token" style="color:#f8f8f2">.</span><span class="token property-access">fn</span><span class="token" style="color:#f8f8f2">;</span><span>
</span><span>  </span><span class="token control-flow" style="color:#8be9fd">return</span><span> result</span><span class="token" style="color:#f8f8f2">;</span><span>
</span><span></span><span class="token" style="color:#f8f8f2">}</span><span>
</span>
<span></span><span class="token" style="color:#6272a4">// apply</span><span>
</span><span></span><span class="token" style="color:#f1fa8c">Function</span><span class="token" style="color:#f8f8f2">.</span><span class="token property-access">prototype</span><span class="token" style="color:#f8f8f2">.</span><span class="token method-variable function-variable method property-access" style="color:#f1fa8c">myApply</span><span> </span><span class="token" style="color:#f8f8f2">=</span><span> </span><span class="token" style="color:#f8f8f2">(</span><span class="token parameter">content</span><span class="token" style="color:#f8f8f2">)</span><span> </span><span class="token arrow" style="color:#f8f8f2">=&gt;</span><span> </span><span class="token" style="color:#f8f8f2">{</span><span>
</span><span>  content </span><span class="token" style="color:#f8f8f2">=</span><span> content </span><span class="token" style="color:#f8f8f2">||</span><span> </span><span class="token dom" style="color:#f8f8f2">window</span><span class="token" style="color:#f8f8f2">;</span><span>
</span><span>  content</span><span class="token" style="color:#f8f8f2">.</span><span class="token property-access">fn</span><span> </span><span class="token" style="color:#f8f8f2">=</span><span> </span><span class="token" style="color:#8be9fd">this</span><span class="token" style="color:#f8f8f2">;</span><span>
</span><span>  </span><span class="token" style="color:#8be9fd">let</span><span> result
</span><span>  </span><span class="token control-flow" style="color:#8be9fd">if</span><span> </span><span class="token" style="color:#f8f8f2">(</span><span>arguments</span><span class="token" style="color:#f8f8f2">[</span><span class="token" style="color:#bd93f9">1</span><span class="token" style="color:#f8f8f2">]</span><span> </span><span class="token" style="color:#f8f8f2">&amp;&amp;</span><span> </span><span class="token known-class-name" style="color:#f1fa8c">Array</span><span class="token" style="color:#f8f8f2">.</span><span class="token method property-access" style="color:#f1fa8c">isArray</span><span class="token" style="color:#f8f8f2">(</span><span>arguments</span><span class="token" style="color:#f8f8f2">[</span><span class="token" style="color:#bd93f9">1</span><span class="token" style="color:#f8f8f2">]</span><span class="token" style="color:#f8f8f2">)</span><span class="token" style="color:#f8f8f2">)</span><span> </span><span class="token" style="color:#f8f8f2">{</span><span>
</span><span>    </span><span class="token control-flow" style="color:#8be9fd">if</span><span> </span><span class="token" style="color:#f8f8f2">(</span><span>arguments</span><span class="token" style="color:#f8f8f2">[</span><span class="token" style="color:#bd93f9">1</span><span class="token" style="color:#f8f8f2">]</span><span class="token" style="color:#f8f8f2">.</span><span class="token property-access">length</span><span> </span><span class="token" style="color:#f8f8f2">===</span><span> </span><span class="token" style="color:#bd93f9">1</span><span class="token" style="color:#f8f8f2">)</span><span> </span><span class="token" style="color:#f8f8f2">{</span><span>
</span><span>      result </span><span class="token" style="color:#f8f8f2">=</span><span> content</span><span class="token" style="color:#f8f8f2">.</span><span class="token method property-access" style="color:#f1fa8c">fn</span><span class="token" style="color:#f8f8f2">(</span><span class="token spread" style="color:#f8f8f2">...</span><span>arguments</span><span class="token" style="color:#f8f8f2">[</span><span class="token" style="color:#bd93f9">1</span><span class="token" style="color:#f8f8f2">]</span><span class="token" style="color:#f8f8f2">)</span><span>
</span><span>    </span><span class="token" style="color:#f8f8f2">}</span><span> </span><span class="token control-flow" style="color:#8be9fd">else</span><span> </span><span class="token" style="color:#f8f8f2">{</span><span>
</span><span>      result </span><span class="token" style="color:#f8f8f2">=</span><span> content</span><span class="token" style="color:#f8f8f2">.</span><span class="token method property-access" style="color:#f1fa8c">fn</span><span class="token" style="color:#f8f8f2">(</span><span class="token" style="color:#f8f8f2">)</span><span>
</span><span>    </span><span class="token" style="color:#f8f8f2">}</span><span>
</span><span>  </span><span class="token" style="color:#f8f8f2">}</span><span>
</span><span>  </span><span class="token" style="color:#8be9fd">delete</span><span> content</span><span class="token" style="color:#f8f8f2">.</span><span class="token property-access">fn</span><span>
</span><span>  </span><span class="token control-flow" style="color:#8be9fd">return</span><span> result
</span><span></span><span class="token" style="color:#f8f8f2">}</span><span>
</span>
<span></span><span class="token" style="color:#6272a4">// bind</span><span>
</span><span></span><span class="token" style="color:#f1fa8c">Function</span><span class="token" style="color:#f8f8f2">.</span><span class="token property-access">prototype</span><span class="token" style="color:#f8f8f2">.</span><span class="token method-variable function-variable method property-access" style="color:#f1fa8c">myBind</span><span> </span><span class="token" style="color:#f8f8f2">=</span><span> </span><span class="token" style="color:#f8f8f2">(</span><span class="token parameter">content</span><span class="token" style="color:#f8f8f2">)</span><span> </span><span class="token arrow" style="color:#f8f8f2">=&gt;</span><span> </span><span class="token" style="color:#f8f8f2">{</span><span>
</span><span>  content </span><span class="token" style="color:#f8f8f2">=</span><span> content </span><span class="token" style="color:#f8f8f2">||</span><span> </span><span class="token dom" style="color:#f8f8f2">window</span><span class="token" style="color:#f8f8f2">;</span><span>
</span><span>  content</span><span class="token" style="color:#f8f8f2">.</span><span class="token property-access">fn</span><span> </span><span class="token" style="color:#f8f8f2">=</span><span> </span><span class="token" style="color:#8be9fd">this</span><span class="token" style="color:#f8f8f2">;</span><span>
</span><span>  </span><span class="token" style="color:#8be9fd">const</span><span> args </span><span class="token" style="color:#f8f8f2">=</span><span> </span><span class="token" style="color:#f8f8f2">[</span><span class="token spread" style="color:#f8f8f2">...</span><span>arguments</span><span class="token" style="color:#f8f8f2">]</span><span class="token" style="color:#f8f8f2">.</span><span class="token method property-access" style="color:#f1fa8c">slice</span><span class="token" style="color:#f8f8f2">(</span><span class="token" style="color:#bd93f9">1</span><span class="token" style="color:#f8f8f2">)</span><span class="token" style="color:#f8f8f2">;</span><span>
</span><span>  </span><span class="token control-flow" style="color:#8be9fd">return</span><span> </span><span class="token" style="color:#f8f8f2">(</span><span class="token" style="color:#f8f8f2">)</span><span> </span><span class="token arrow" style="color:#f8f8f2">=&gt;</span><span> </span><span class="token" style="color:#f8f8f2">{</span><span>
</span><span>    content</span><span class="token" style="color:#f8f8f2">.</span><span class="token method property-access" style="color:#f1fa8c">fn</span><span class="token" style="color:#f8f8f2">(</span><span>args</span><span class="token" style="color:#f8f8f2">)</span><span>
</span><span>  </span><span class="token" style="color:#f8f8f2">}</span><span>
</span><span></span><span class="token" style="color:#f8f8f2">}</span></code></pre><ol start="2"><li><p>æ‰‹å†™é˜²æŠ–èŠ‚æµ</p><p>é˜²æŠ–</p><pre style="color:#f8f8f2;background:#282a36;text-shadow:0 1px rgba(0, 0, 0, 0.3);font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto;border-radius:0.3em"><code class="language-javascript" style="color:#f8f8f2;background:none;text-shadow:0 1px rgba(0, 0, 0, 0.3);font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span> </span><span class="token" style="color:#8be9fd">const</span><span> </span><span class="token function-variable" style="color:#f1fa8c">debounce</span><span> </span><span class="token" style="color:#f8f8f2">=</span><span> </span><span class="token" style="color:#f8f8f2">(</span><span class="token parameter">fn</span><span class="token parameter" style="color:#f8f8f2">,</span><span class="token parameter"> delay</span><span class="token" style="color:#f8f8f2">)</span><span> </span><span class="token arrow" style="color:#f8f8f2">=&gt;</span><span> </span><span class="token" style="color:#f8f8f2">{</span><span>
</span><span>   </span><span class="token" style="color:#8be9fd">let</span><span> timeout </span><span class="token" style="color:#f8f8f2">=</span><span> </span><span class="token null nil" style="color:#8be9fd">null</span><span class="token" style="color:#f8f8f2">;</span><span>
</span><span>   </span><span class="token control-flow" style="color:#8be9fd">return</span><span> </span><span class="token" style="color:#f8f8f2">(</span><span class="token" style="color:#f8f8f2">)</span><span> </span><span class="token arrow" style="color:#f8f8f2">=&gt;</span><span> </span><span class="token" style="color:#f8f8f2">{</span><span>
</span><span>     </span><span class="token control-flow" style="color:#8be9fd">if</span><span> </span><span class="token" style="color:#f8f8f2">(</span><span>timeout</span><span class="token" style="color:#f8f8f2">)</span><span> </span><span class="token" style="color:#f8f8f2">{</span><span>
</span><span>       </span><span class="token" style="color:#f1fa8c">clearTimeout</span><span class="token" style="color:#f8f8f2">(</span><span>timeout</span><span class="token" style="color:#f8f8f2">)</span><span class="token" style="color:#f8f8f2">;</span><span>
</span><span>     </span><span class="token" style="color:#f8f8f2">}</span><span>
</span><span>     timeout </span><span class="token" style="color:#f8f8f2">=</span><span> </span><span class="token" style="color:#f1fa8c">setTimeout</span><span class="token" style="color:#f8f8f2">(</span><span class="token" style="color:#f8f8f2">(</span><span class="token" style="color:#f8f8f2">)</span><span> </span><span class="token arrow" style="color:#f8f8f2">=&gt;</span><span> </span><span class="token" style="color:#f8f8f2">{</span><span>
</span><span>       fn</span><span class="token" style="color:#f8f8f2">.</span><span class="token method property-access" style="color:#f1fa8c">call</span><span class="token" style="color:#f8f8f2">(</span><span class="token" style="color:#8be9fd">this</span><span class="token" style="color:#f8f8f2">,</span><span> arguments</span><span class="token" style="color:#f8f8f2">)</span><span>
</span><span>     </span><span class="token" style="color:#f8f8f2">}</span><span class="token" style="color:#f8f8f2">,</span><span> delay</span><span class="token" style="color:#f8f8f2">)</span><span>
</span><span>   </span><span class="token" style="color:#f8f8f2">}</span><span>
</span><span> </span><span class="token" style="color:#f8f8f2">}</span></code></pre><p>èŠ‚æµ</p><pre style="color:#f8f8f2;background:#282a36;text-shadow:0 1px rgba(0, 0, 0, 0.3);font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto;border-radius:0.3em"><code class="language-javascript" style="color:#f8f8f2;background:none;text-shadow:0 1px rgba(0, 0, 0, 0.3);font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span> </span><span class="token" style="color:#8be9fd">const</span><span> </span><span class="token function-variable" style="color:#f1fa8c">throttle</span><span> </span><span class="token" style="color:#f8f8f2">=</span><span> </span><span class="token" style="color:#f8f8f2">(</span><span class="token parameter">fn</span><span class="token parameter" style="color:#f8f8f2">,</span><span class="token parameter"> delay</span><span class="token" style="color:#f8f8f2">)</span><span> </span><span class="token arrow" style="color:#f8f8f2">=&gt;</span><span> </span><span class="token" style="color:#f8f8f2">{</span><span>
</span><span>   </span><span class="token" style="color:#8be9fd">let</span><span> canRun </span><span class="token" style="color:#f8f8f2">=</span><span> </span><span class="token" style="color:#bd93f9">true</span><span class="token" style="color:#f8f8f2">;</span><span>
</span><span>   </span><span class="token control-flow" style="color:#8be9fd">if</span><span> </span><span class="token" style="color:#f8f8f2">(</span><span class="token" style="color:#f8f8f2">!</span><span>canRun</span><span class="token" style="color:#f8f8f2">)</span><span> </span><span class="token" style="color:#f8f8f2">{</span><span>
</span><span>     </span><span class="token control-flow" style="color:#8be9fd">return</span><span>
</span><span>   </span><span class="token" style="color:#f8f8f2">}</span><span>
</span><span>   canRun </span><span class="token" style="color:#f8f8f2">=</span><span> </span><span class="token" style="color:#bd93f9">false</span><span class="token" style="color:#f8f8f2">;</span><span>
</span><span>   </span><span class="token" style="color:#f1fa8c">setTimeout</span><span class="token" style="color:#f8f8f2">(</span><span class="token" style="color:#f8f8f2">(</span><span class="token" style="color:#f8f8f2">)</span><span> </span><span class="token arrow" style="color:#f8f8f2">=&gt;</span><span> </span><span class="token" style="color:#f8f8f2">{</span><span>
</span><span>     fn</span><span class="token" style="color:#f8f8f2">.</span><span class="token method property-access" style="color:#f1fa8c">call</span><span class="token" style="color:#f8f8f2">(</span><span class="token" style="color:#8be9fd">this</span><span class="token" style="color:#f8f8f2">.</span><span> </span><span class="token property-access">arguments</span><span class="token" style="color:#f8f8f2">)</span><span class="token" style="color:#f8f8f2">;</span><span>
</span><span>     canRun </span><span class="token" style="color:#f8f8f2">=</span><span> </span><span class="token" style="color:#bd93f9">true</span><span class="token" style="color:#f8f8f2">;</span><span>
</span><span>   </span><span class="token" style="color:#f8f8f2">}</span><span class="token" style="color:#f8f8f2">,</span><span> delay</span><span class="token" style="color:#f8f8f2">)</span><span class="token" style="color:#f8f8f2">;</span><span>
</span><span> </span><span class="token" style="color:#f8f8f2">}</span></code></pre></li><li><p>æ‰‹å†™æ•°ç»„flat</p></li><li><p>å†™ä¸€ä¸ª mySetInterVal(fn, a, b),æ¯æ¬¡é—´éš” a,a+b,a+2b çš„æ—¶é—´ï¼Œç„¶åå†™ä¸€ä¸ª myClearï¼Œåœæ­¢ä¸Šé¢çš„ mySetInterVal</p></li></ol><pre style="color:#f8f8f2;background:#282a36;text-shadow:0 1px rgba(0, 0, 0, 0.3);font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto;border-radius:0.3em"><code class="language-javascript" style="color:#f8f8f2;background:none;text-shadow:0 1px rgba(0, 0, 0, 0.3);font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span class="token" style="color:#8be9fd">function</span><span> </span><span class="token" style="color:#f1fa8c">mySetInterVal</span><span class="token" style="color:#f8f8f2">(</span><span class="token parameter">fn</span><span class="token parameter" style="color:#f8f8f2">,</span><span class="token parameter"> a</span><span class="token parameter" style="color:#f8f8f2">,</span><span class="token parameter"> b</span><span class="token" style="color:#f8f8f2">)</span><span> </span><span class="token" style="color:#f8f8f2">{</span><span>
</span><span>  </span><span class="token" style="color:#8be9fd">this</span><span class="token" style="color:#f8f8f2">.</span><span class="token property-access">a</span><span> </span><span class="token" style="color:#f8f8f2">=</span><span> a</span><span class="token" style="color:#f8f8f2">;</span><span>
</span><span>  </span><span class="token" style="color:#8be9fd">this</span><span class="token" style="color:#f8f8f2">.</span><span class="token property-access">b</span><span> </span><span class="token" style="color:#f8f8f2">=</span><span> b</span><span class="token" style="color:#f8f8f2">;</span><span>
</span><span>  </span><span class="token" style="color:#8be9fd">this</span><span class="token" style="color:#f8f8f2">.</span><span class="token property-access">time</span><span> </span><span class="token" style="color:#f8f8f2">=</span><span> </span><span class="token" style="color:#bd93f9">0</span><span class="token" style="color:#f8f8f2">;</span><span>
</span><span>  </span><span class="token" style="color:#8be9fd">this</span><span class="token" style="color:#f8f8f2">.</span><span class="token property-access">handle</span><span> </span><span class="token" style="color:#f8f8f2">=</span><span> </span><span class="token" style="color:#f8f8f2">-</span><span class="token" style="color:#bd93f9">1</span><span class="token" style="color:#f8f8f2">;</span><span>
</span><span>  </span><span class="token" style="color:#8be9fd">this</span><span class="token" style="color:#f8f8f2">.</span><span class="token method-variable function-variable method property-access" style="color:#f1fa8c">start</span><span> </span><span class="token" style="color:#f8f8f2">=</span><span> </span><span class="token" style="color:#f8f8f2">(</span><span class="token" style="color:#f8f8f2">)</span><span> </span><span class="token arrow" style="color:#f8f8f2">=&gt;</span><span> </span><span class="token" style="color:#f8f8f2">{</span><span>
</span><span>    </span><span class="token" style="color:#8be9fd">this</span><span class="token" style="color:#f8f8f2">.</span><span class="token property-access">handle</span><span> </span><span class="token" style="color:#f8f8f2">=</span><span> </span><span class="token" style="color:#f1fa8c">setTimeout</span><span class="token" style="color:#f8f8f2">(</span><span class="token" style="color:#f8f8f2">(</span><span class="token" style="color:#f8f8f2">)</span><span> </span><span class="token arrow" style="color:#f8f8f2">=&gt;</span><span> </span><span class="token" style="color:#f8f8f2">{</span><span>
</span><span>      </span><span class="token" style="color:#f1fa8c">fn</span><span class="token" style="color:#f8f8f2">(</span><span class="token" style="color:#f8f8f2">)</span><span class="token" style="color:#f8f8f2">;</span><span>
</span><span>      </span><span class="token" style="color:#8be9fd">this</span><span class="token" style="color:#f8f8f2">.</span><span class="token property-access">time</span><span class="token" style="color:#f8f8f2">++</span><span class="token" style="color:#f8f8f2">;</span><span>
</span><span>      </span><span class="token" style="color:#8be9fd">this</span><span class="token" style="color:#f8f8f2">.</span><span class="token method property-access" style="color:#f1fa8c">start</span><span class="token" style="color:#f8f8f2">(</span><span class="token" style="color:#f8f8f2">)</span><span class="token" style="color:#f8f8f2">;</span><span>
</span><span>    </span><span class="token" style="color:#f8f8f2">}</span><span class="token" style="color:#f8f8f2">,</span><span> </span><span class="token" style="color:#8be9fd">this</span><span class="token" style="color:#f8f8f2">.</span><span class="token property-access">a</span><span> </span><span class="token" style="color:#f8f8f2">+</span><span> </span><span class="token" style="color:#8be9fd">this</span><span class="token" style="color:#f8f8f2">.</span><span class="token property-access">time</span><span> </span><span class="token" style="color:#f8f8f2">*</span><span> </span><span class="token" style="color:#8be9fd">this</span><span class="token" style="color:#f8f8f2">.</span><span class="token property-access">b</span><span class="token" style="color:#f8f8f2">)</span><span class="token" style="color:#f8f8f2">;</span><span>
</span><span>  </span><span class="token" style="color:#f8f8f2">}</span><span>
</span>
<span>  </span><span class="token" style="color:#8be9fd">this</span><span class="token" style="color:#f8f8f2">.</span><span class="token method-variable function-variable method property-access" style="color:#f1fa8c">stop</span><span> </span><span class="token" style="color:#f8f8f2">=</span><span> </span><span class="token" style="color:#f8f8f2">(</span><span class="token" style="color:#f8f8f2">)</span><span> </span><span class="token arrow" style="color:#f8f8f2">=&gt;</span><span> </span><span class="token" style="color:#f8f8f2">{</span><span>
</span><span>    </span><span class="token" style="color:#f1fa8c">clearTimeout</span><span class="token" style="color:#f8f8f2">(</span><span class="token" style="color:#8be9fd">this</span><span class="token" style="color:#f8f8f2">.</span><span class="token property-access">handle</span><span class="token" style="color:#f8f8f2">)</span><span class="token" style="color:#f8f8f2">;</span><span>
</span><span>    </span><span class="token" style="color:#8be9fd">this</span><span class="token" style="color:#f8f8f2">.</span><span class="token property-access">time</span><span> </span><span class="token" style="color:#f8f8f2">=</span><span> </span><span class="token" style="color:#bd93f9">0</span><span class="token" style="color:#f8f8f2">;</span><span>
</span><span>  </span><span class="token" style="color:#f8f8f2">}</span><span>
</span><span></span><span class="token" style="color:#f8f8f2">}</span><span>
</span>
<span></span><span class="token" style="color:#8be9fd">var</span><span> a </span><span class="token" style="color:#f8f8f2">=</span><span> </span><span class="token" style="color:#8be9fd">new</span><span> </span><span class="token" style="color:#f1fa8c">mySetInterVal</span><span class="token" style="color:#f8f8f2">(</span><span class="token" style="color:#f8f8f2">(</span><span class="token" style="color:#f8f8f2">)</span><span> </span><span class="token arrow" style="color:#f8f8f2">=&gt;</span><span> </span><span class="token" style="color:#f8f8f2">{</span><span class="token console" style="color:#f1fa8c">console</span><span class="token" style="color:#f8f8f2">.</span><span class="token method property-access" style="color:#f1fa8c">log</span><span class="token" style="color:#f8f8f2">(</span><span class="token" style="color:#50fa7b">&#x27;123&#x27;</span><span class="token" style="color:#f8f8f2">)</span><span class="token" style="color:#f8f8f2">}</span><span class="token" style="color:#f8f8f2">,</span><span class="token" style="color:#bd93f9">1000</span><span class="token" style="color:#f8f8f2">,</span><span> </span><span class="token" style="color:#bd93f9">2000</span><span> </span><span class="token" style="color:#f8f8f2">)</span><span class="token" style="color:#f8f8f2">;</span><span>
</span><span>a</span><span class="token" style="color:#f8f8f2">.</span><span class="token method property-access" style="color:#f1fa8c">start</span><span class="token" style="color:#f8f8f2">(</span><span class="token" style="color:#f8f8f2">)</span><span class="token" style="color:#f8f8f2">;</span><span>
</span><span>a</span><span class="token" style="color:#f8f8f2">.</span><span class="token method property-access" style="color:#f1fa8c">stop</span><span class="token" style="color:#f8f8f2">(</span><span class="token" style="color:#f8f8f2">)</span><span class="token" style="color:#f8f8f2">;</span></code></pre><ol start="5"><li>æ–æ³¢é‚£å¥‘æ•°åˆ—</li></ol><pre style="color:#f8f8f2;background:#282a36;text-shadow:0 1px rgba(0, 0, 0, 0.3);font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto;border-radius:0.3em"><code class="language-javascript" style="color:#f8f8f2;background:none;text-shadow:0 1px rgba(0, 0, 0, 0.3);font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span class="token" style="color:#8be9fd">const</span><span> </span><span class="token function-variable maybe-class-name" style="color:#f1fa8c">Fibonacci</span><span> </span><span class="token" style="color:#f8f8f2">=</span><span> </span><span class="token" style="color:#f8f8f2">(</span><span class="token parameter">n</span><span class="token" style="color:#f8f8f2">)</span><span> </span><span class="token arrow" style="color:#f8f8f2">=&gt;</span><span> </span><span class="token" style="color:#f8f8f2">{</span><span>
</span><span>  </span><span class="token control-flow" style="color:#8be9fd">if</span><span> </span><span class="token" style="color:#f8f8f2">(</span><span>n </span><span class="token" style="color:#f8f8f2">&lt;</span><span> </span><span class="token" style="color:#bd93f9">0</span><span class="token" style="color:#f8f8f2">)</span><span> </span><span class="token control-flow" style="color:#8be9fd">throw</span><span> </span><span class="token" style="color:#8be9fd">new</span><span> </span><span class="token" style="color:#f1fa8c">Error</span><span class="token" style="color:#f8f8f2">(</span><span class="token" style="color:#50fa7b">&#x27;è¾“å…¥çš„æ•°å­—ä¸èƒ½å°äº0&#x27;</span><span class="token" style="color:#f8f8f2">)</span><span class="token" style="color:#f8f8f2">;</span><span>
</span><span>  </span><span class="token control-flow" style="color:#8be9fd">if</span><span> </span><span class="token" style="color:#f8f8f2">(</span><span>n </span><span class="token" style="color:#f8f8f2">&lt;</span><span> </span><span class="token" style="color:#bd93f9">2</span><span class="token" style="color:#f8f8f2">)</span><span> </span><span class="token control-flow" style="color:#8be9fd">return</span><span> n</span><span class="token" style="color:#f8f8f2">;</span><span>
</span><span>  </span><span class="token control-flow" style="color:#8be9fd">return</span><span> </span><span class="token maybe-class-name" style="color:#f1fa8c">Fibonacci</span><span class="token" style="color:#f8f8f2">(</span><span>n </span><span class="token" style="color:#f8f8f2">-</span><span> </span><span class="token" style="color:#bd93f9">1</span><span class="token" style="color:#f8f8f2">)</span><span> </span><span class="token" style="color:#f8f8f2">+</span><span> </span><span class="token maybe-class-name" style="color:#f1fa8c">Fibonacci</span><span class="token" style="color:#f8f8f2">(</span><span>n </span><span class="token" style="color:#f8f8f2">-</span><span> </span><span class="token" style="color:#bd93f9">2</span><span class="token" style="color:#f8f8f2">)</span><span>
</span><span></span><span class="token" style="color:#f8f8f2">}</span></code></pre><ol start="6"><li><p>å­—ç¬¦ä¸²å‡ºç°çš„ä¸é‡å¤æœ€é•¿é•¿åº¦</p></li><li><p>å®ç° add(1)(2)(3)</p></li></ol><pre style="color:#f8f8f2;background:#282a36;text-shadow:0 1px rgba(0, 0, 0, 0.3);font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto;border-radius:0.3em"><code class="language-javascript" style="color:#f8f8f2;background:none;text-shadow:0 1px rgba(0, 0, 0, 0.3);font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span class="token" style="color:#8be9fd">const</span><span> </span><span class="token function-variable" style="color:#f1fa8c">add</span><span> </span><span class="token" style="color:#f8f8f2">=</span><span> </span><span class="token" style="color:#f8f8f2">(</span><span class="token parameter">a</span><span class="token" style="color:#f8f8f2">)</span><span> </span><span class="token arrow" style="color:#f8f8f2">=&gt;</span><span> </span><span class="token" style="color:#f8f8f2">(</span><span class="token parameter">b</span><span class="token" style="color:#f8f8f2">)</span><span> </span><span class="token arrow" style="color:#f8f8f2">=&gt;</span><span> </span><span class="token" style="color:#f8f8f2">(</span><span class="token parameter">c</span><span class="token" style="color:#f8f8f2">)</span><span> </span><span class="token arrow" style="color:#f8f8f2">=&gt;</span><span> a </span><span class="token" style="color:#f8f8f2">+</span><span> b </span><span class="token" style="color:#f8f8f2">+</span><span> c</span><span class="token" style="color:#f8f8f2">;</span></code></pre></div><hr class="mt-4"/><footer><div class="flex items-center mt-8 mb-16"><picture class="flex-shrink-0 mb-0 mr-3 rounded-full w-14 h-14 select-none cursor-pointer hvr-float-shadow"><source type="image/webp" data-srcset="/_next/static/images/profile-8ed88833980dc158e6d9ec3b1bb7c0a8.png.webp"/><source type="image/png" data-srcset="/_next/static/images/profile-44443f720aaa2ff4c2b67336ff9f586b.png"/><img class="lazyload blur flex-shrink-0 mb-0 mr-3 rounded-full w-14 h-14 select-none cursor-pointer hvr-float-shadow" alt="Profile" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAJCAYAAAALpr0TAAAAAklEQVR4AewaftIAAAFBSURBVAXBSS8DYQCA4fcz33RqWpUuU8tEkKjtUqIhJELiRCJxcfRf/AknP8OFiwMXF40DSVO0iRhLVbR0mX08jzg63Ikc28NzA1QR8vBcJ6Eq9AYUDMNAxlOsrBSRH40WIoLJbIL1qTzS63JvfRKJECd0MM0h9IREmZ4YOyaAw7UCG6UlNpfneaw8UbNa4Ie4tk9uSEO6nouCoO9FZEZNWu8WcUViZpLsH+wyMjnBX7eDzCuQ0zVsAtpvb1RrL9Stb3RNkO//MSwl6mAcWRrNMLO1jZ5UuSiXITXO6vISp+eXbNs+olal02kj/YUidiyJ5wsK63u8N74xSxmmyrecnF2TNtJoUkUa2RxO95ew3+al1yXm9tCCiLnCLPqrRbP5QSRC5GLsi0DVkekUj5UKjZ8+TSdA6ikWigYDqs/VzR3/TEV/Airrby8AAAAASUVORK5CYII="/></picture><p class="text-base leading-7">Written by <b class="font-semibold">xudd</b> <!-- -->who wants to become richï¼ï¼ï¼<!-- --> <a href="https://twitter.com/https://twitter.com/WhyYouJames">Follow him on twitter</a></p></div></footer></article><nav class="flex flex-wrap justify-between mb-10"><a class="text-lg font-bold" href="/post/framework">â† <!-- -->é¢è¯•é¢˜é›†åˆï¼ˆæ¡†æ¶ç¯‡ï¼‰</a><a class="text-lg font-bold" href="/post/js">é¢è¯•é¢˜é›†åˆï¼ˆJSç¯‡ï¼‰<!-- --> â†’</a></nav></main><footer class="text-lg font-light mt-3">Â© <!-- -->2021<!-- --> <!-- -->Built with<!-- --> <a href="https://nextjs.org/">Next.js</a>ğŸ”¥, Deployed on<!-- --> <a href="https://pages.github.com/">GitHub Pages</a></footer></div></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"frontmatter":{"title":"é¢è¯•é¢˜é›†åˆï¼ˆæ‰‹æ’•ä»£ç ç¯‡ï¼‰","date":"July 2, 2021","description":null},"post":{"content":"\n  \n1. æ‰‹å†™ bindã€callã€apply\n\n``` javascript\n// call\nFunction.prototype.myCall = (content) =\u003e {\n  content = content || window;\n  content.fn = this;\n  const args = [...arguments].slice(1);\n  const result = content.fn(args);\n  delete content.fn;\n  return result;\n}\n\n// apply\nFunction.prototype.myApply = (content) =\u003e {\n  content = content || window;\n  content.fn = this;\n  let result\n  if (arguments[1] \u0026\u0026 Array.isArray(arguments[1])) {\n    if (arguments[1].length === 1) {\n      result = content.fn(...arguments[1])\n    } else {\n      result = content.fn()\n    }\n  }\n  delete content.fn\n  return result\n}\n\n// bind\nFunction.prototype.myBind = (content) =\u003e {\n  content = content || window;\n  content.fn = this;\n  const args = [...arguments].slice(1);\n  return () =\u003e {\n    content.fn(args)\n  }\n}\n```\n\n2. æ‰‹å†™é˜²æŠ–èŠ‚æµ\n   \n   é˜²æŠ–\n   ``` javascript\n    const debounce = (fn, delay) =\u003e {\n      let timeout = null;\n      return () =\u003e {\n        if (timeout) {\n          clearTimeout(timeout);\n        }\n        timeout = setTimeout(() =\u003e {\n          fn.call(this, arguments)\n        }, delay)\n      }\n    }\n   ```\n   èŠ‚æµ\n   ``` javascript\n    const throttle = (fn, delay) =\u003e {\n      let canRun = true;\n      if (!canRun) {\n        return\n      }\n      canRun = false;\n      setTimeout(() =\u003e {\n        fn.call(this. arguments);\n        canRun = true;\n      }, delay);\n    }\n   ```\n\n3. æ‰‹å†™æ•°ç»„flat\n\n4. å†™ä¸€ä¸ª mySetInterVal(fn, a, b),æ¯æ¬¡é—´éš” a,a+b,a+2b çš„æ—¶é—´ï¼Œç„¶åå†™ä¸€ä¸ª myClearï¼Œåœæ­¢ä¸Šé¢çš„ mySetInterVal\n\n``` javascript\nfunction mySetInterVal(fn, a, b) {\n  this.a = a;\n  this.b = b;\n  this.time = 0;\n  this.handle = -1;\n  this.start = () =\u003e {\n    this.handle = setTimeout(() =\u003e {\n      fn();\n      this.time++;\n      this.start();\n    }, this.a + this.time * this.b);\n  }\n\n  this.stop = () =\u003e {\n    clearTimeout(this.handle);\n    this.time = 0;\n  }\n}\n\nvar a = new mySetInterVal(() =\u003e {console.log('123')},1000, 2000 );\na.start();\na.stop();\n```\n\n5. æ–æ³¢é‚£å¥‘æ•°åˆ—\n   \n``` javascript\nconst Fibonacci = (n) =\u003e {\n  if (n \u003c 0) throw new Error('è¾“å…¥çš„æ•°å­—ä¸èƒ½å°äº0');\n  if (n \u003c 2) return n;\n  return Fibonacci(n - 1) + Fibonacci(n - 2)\n}\n```\n\n6. å­—ç¬¦ä¸²å‡ºç°çš„ä¸é‡å¤æœ€é•¿é•¿åº¦\n   \n7. å®ç° add(1)(2)(3)\n   \n``` javascript\nconst add = (a) =\u003e (b) =\u003e (c) =\u003e a + b + c;\n```","excerpt":""},"previousPost":{"slug":"framework","frontmatter":{"title":"é¢è¯•é¢˜é›†åˆï¼ˆæ¡†æ¶ç¯‡ï¼‰","date":"July 1, 2021","description":null},"excerpt":"","content":"\n1. ä»€ä¹ˆæ—¶å€™ä½¿ç”¨çŠ¶æ€ç®¡ç†å™¨ï¼ˆReactï¼‰\n\n- stateå¹¶ä¸æ€»æ˜¯ä»¥å•å‘çš„æ–¹å¼çº¿æ€§æµåŠ¨\n- å­˜åœ¨ç»„ä»¶éœ€è¦æ›´æ–°å…¨å±€çŠ¶æ€\n- å­˜åœ¨ç»„ä»¶éœ€è¦æ›´æ–°å¦ä¸€ä¸ªç»„ä»¶çš„çŠ¶æ€\n- æŸä¸ªçŠ¶æ€éœ€è¦åœ¨å…¨å±€ä½¿ç”¨æˆ–å…±äº«ï¼ˆä¾‹å¦‚è§’è‰²æƒé™ç­‰ä¿¡æ¯ï¼‰\n\n2. redux-sagaå’Œredux-thunkæœ‰ä»€ä¹ˆæœ¬è´¨çš„åŒºåˆ«\n\n**redux-thunk** ä¸­ **dispatch** å¯ä»¥æ¥å—ä¸€ä¸ªå‡½æ•°ä½œä¸ºå‚æ•°ï¼Œè€Œ **redux-saga** å…¶å®å’ŒåŸå§‹çš„ **redux** ä¿æŒä¸€è‡´ï¼Œ**dispatch** çš„åªæ˜¯ä¸€ä¸ªå¯¹è±¡(plain object),å¼‚æ­¥æ˜¯é€šè¿‡sagaæ–‡ä»¶ä¸­çš„ **generator** å‡½æ•°æ¥å¤„ç†çš„\n\n3. React é¡¹ç›®ä¸­æœ‰å“ªäº›ç»†èŠ‚å¯ä»¥ä¼˜åŒ–ï¼Ÿå®é™…å¼€å‘ä¸­éƒ½åšè¿‡å“ªäº›æ€§èƒ½ä¼˜åŒ–\n   \n- ä¼˜åŒ–èµ„æºåŠ è½½ï¼ˆå‡å°‘httpè¯·æ±‚ï¼Œé‡‡ç”¨CDNé™æ€èµ„æºï¼Œå°å›¾ç‰‡base64ï¼‰\n- é¦–å±è€ƒè™‘SSR\n- å›¾ç‰‡ä½¿ç”¨æ‡’åŠ è½½\n- ç›¸å…³èµ„æºçš„é¢„åŠ è½½\n- å…³äºå¯è§†åŒ–çš„æ˜¾ç¤ºå¯ä»¥åŠ å…¥éª¨æ¶\n- åˆ†chunkå®ç°åŠ¨æ€åŠ è½½ç»„ä»¶\n- Service workeråšç¼“å­˜\n- å¼€å‘ä¸­éå†è¦ç»™ç»„ä»¶åŠ key\n- csså‹¿åµŒå¥—å¤šå±‚\n- ä¸å¿…è¦çš„domæ ‡ç­¾ç”¨Fragments\n- è€ƒè™‘reduxçš„å¿…è¦æ€§\n  \n4. react æœ€æ–°ç‰ˆæœ¬è§£å†³äº†ä»€ä¹ˆé—®é¢˜ åŠ äº†å“ªäº›ä¸œè¥¿\n5. React äº‹ä»¶ç»‘å®šåŸç†\n   \n   Reactå¹¶ä¸æ˜¯å°†clickäº‹ä»¶ç»‘åœ¨è¯¥divçš„çœŸå®DOMä¸Šï¼Œè€Œæ˜¯åœ¨documentå¤„ç›‘å¬æ‰€æœ‰æ”¯æŒçš„äº‹ä»¶ï¼Œå½“äº‹ä»¶å‘ç”Ÿå¹¶å†’æ³¡è‡³documentå¤„æ—¶ï¼ŒReactå°†äº‹ä»¶å†…å®¹å°è£…å¹¶äº¤ç”±çœŸæ­£çš„å¤„ç†å‡½æ•°è¿è¡Œã€‚è¿™æ ·çš„æ–¹å¼ä¸ä»…å‡å°‘äº†å†…å­˜æ¶ˆè€—ï¼Œè¿˜èƒ½åœ¨ç»„ä»¶æŒ‚è½½é”€æ¯æ—¶ç»Ÿä¸€è®¢é˜…å’Œç§»é™¤äº‹ä»¶ã€‚\nå¦å¤–å†’æ³¡åˆ° document ä¸Šçš„äº‹ä»¶ä¹Ÿä¸æ˜¯åŸç”Ÿæµè§ˆå™¨äº‹ä»¶ï¼Œè€Œæ˜¯ React è‡ªå·±å®ç°çš„åˆæˆäº‹ä»¶ï¼ˆSyntheticEventï¼‰ã€‚å› æ­¤æˆ‘ä»¬å¦‚æœä¸æƒ³è¦äº‹ä»¶å†’æ³¡çš„è¯ï¼Œè°ƒç”¨ event.stopPropagation æ˜¯æ— æ•ˆçš„ï¼Œè€Œåº”è¯¥è°ƒç”¨ event.preventDefaultã€‚\n\n6. webpack åšè¿‡å“ªäº›ä¼˜åŒ–ï¼Œå¼€å‘æ•ˆç‡æ–¹é¢ã€æ‰“åŒ…ç­–ç•¥æ–¹é¢ç­‰ç­‰\n   \n   [æŸ¥çœ‹ç­”æ¡ˆ](https://github.com/lgwebdream/FE-Interview/issues/25)\n\n7. è¯´ä¸€ä¸‹ react-fiber\n   [æŸ¥çœ‹ç­”æ¡ˆ](https://github.com/lgwebdream/FE-Interview/issues/33)"},"nextPost":{"slug":"js","frontmatter":{"title":"é¢è¯•é¢˜é›†åˆï¼ˆJSç¯‡ï¼‰","date":"July 2, 2021","description":null},"excerpt":"","content":"\n1. infinityä»£è¡¨ä»€ä¹ˆæ•°æ®\n\n  åœ¨JSä¸­Infinityç”¨äºè¡¨ç¤ºæ— ç©·å¤§çš„æ•°å€¼ï¼Œä¸”ä¸æ˜¯å¸¸é‡ï¼Œå³æ— æ³•æ˜ç¡®è¡¨ç¤ºå®ƒåˆ°åº•æœ‰å¤šå¤§ã€‚å¯ä»¥é€šè¿‡isFinite(val)åˆ¤æ–­å½“å‰æ•°å­—æ˜¯å¦æ˜¯æ— ç©·å¤§ï¼Œå‡½æ•°è¿”å›trueè¡¨ç¤ºä¸æ˜¯æ— ç©·å¤§ï¼Œè¿”å›falseè¡¨ç¤ºæ˜¯æ— ç©·å¤§ã€‚\n\n\n2. å¦‚ä½•è®¡ç®—åŠ¨ç”»çš„å¸§ç‡ï¼ˆFPSï¼‰\n\n- å¯ä»¥å€ŸåŠ©requestAnimationFrame APIï¼ŒrequestAnimationFrame ä½¿ç”¨ä¸€ä¸ªå›è°ƒå‡½æ•°ä½œä¸ºå‚æ•°ã€‚è¿™ä¸ªå›è°ƒå‡½æ•°ä¼šåœ¨æµè§ˆå™¨é‡ç»˜ä¹‹å‰è°ƒç”¨ã€‚\n\n- requestAnimationFrameçš„å›è°ƒå‡½æ•°æ‰§è¡Œæ¬¡æ•°é€šå¸¸ä¸æµè§ˆå™¨å±å¹•åˆ·æ–°æ¬¡æ•°ç›¸åŒ¹é…ï¼Œè€Œåˆ©ç”¨è¿™ä¸ªAPIå®ç°åŠ¨ç”»çš„åŸç†å°±æ˜¯å›è°ƒå‡½æ•°å†…å†æ¬¡è°ƒç”¨requestAnimationFrameï¼Œæ‰€ä»¥é¡µé¢ä¸æ–­é‡ç»˜æ—¶ï¼Œç„¶åæ£€æµ‹1ç§’å†…requestAnimationFrameè°ƒç”¨çš„æ¬¡æ•°ï¼Œå°±æ˜¯å½“å‰çš„FPS\n\n\n3. è¯·è¯´è¯´new String(\"A\")å’ŒString(\"A\")åˆ†åˆ«è¿”å›çš„ç»“æœï¼Œè¯·è§£é‡Šä¸ºä»€ä¹ˆ\n\n  new String(\"A\") :\n  è¿”å›ç±»å‹ï¼šå¼•ç”¨ç±»å‹ï¼Œå †å†…å­˜å­˜å‚¨\n  è¿”å›å€¼ï¼šå­—ç¬¦ä¸²å¯¹è±¡\n\n  String(\"Aâ€) ï¼š\n  è¿”å›ç±»å‹ï¼šåŸºæœ¬ç±»å‹ï¼Œæ ˆå†…å­˜å­˜å‚¨\n  è¿”å›å€¼ï¼šå­—ç¬¦ä¸²å€¼\n\n4. è¯·é€šè¿‡reduceå‡½æ•°å®ç°ä¸€ç»´æ•°ç»„çš„æ±‚å’Œ\n\n``` javascript\nconst sum = arr =\u003e arr.reduce((a, b) =\u003e a + b)\n```\n\n5. è¯·è¯´è¯´ä¸¥æ ¼æ¨¡å¼ä¸‹çš„thisæŒ‡å‘\n\n- åœ¨ä¸¥æ ¼æ¨¡å¼ä¸‹ï¼Œåœ¨å…¨å±€ä½œç”¨åŸŸä¸­ï¼ŒthisæŒ‡å‘windowå¯¹è±¡\n- åœ¨ä¸¥æ ¼æ¨¡å¼ä¸‹ï¼Œå‡½æ•°ä¸­çš„thisç­‰äºundefined\n- åœ¨ä¸¥æ ¼æ¨¡å¼ä¸‹ï¼Œå¯¹è±¡çš„å‡½æ•°ä¸­çš„thisæŒ‡å‘è°ƒç”¨å‡½æ•°çš„å¯¹è±¡å®ä¾‹\n- åœ¨ä¸¥æ ¼æ¨¡å¼ä¸‹ï¼Œæ„é€ å‡½æ•°ä¸­çš„thisæŒ‡å‘æ„é€ å‡½æ•°åˆ›å»ºçš„å¯¹è±¡å®ä¾‹ã€‚\n- åœ¨ä¸¥æ ¼æ¨¡å¼ä¸‹ï¼Œåœ¨äº‹ä»¶å¤„ç†å‡½æ•°ä¸­ï¼ŒthisæŒ‡å‘è§¦å‘äº‹ä»¶çš„ç›®æ ‡å¯¹è±¡ã€‚\n\n6. å›¾ç‰‡æ‡’åŠ è½½åŸç†\n   \n  å›¾ç‰‡æ‡’åŠ è½½çš„åŸç†ä¸»è¦æ˜¯åˆ¤æ–­å½“å‰å›¾ç‰‡æ˜¯å¦åˆ°äº†å¯è§†åŒºåŸŸè¿™ä¸€æ ¸å¿ƒé€»è¾‘å®ç°çš„\n\n- æ‹¿åˆ°æ‰€æœ‰çš„å›¾ç‰‡ dom ã€‚\n- éå†æ¯ä¸ªå›¾ç‰‡åˆ¤æ–­å½“å‰å›¾ç‰‡æ˜¯å¦åˆ°äº†å¯è§†åŒºèŒƒå›´å†…ã€‚\n- å¦‚æœåˆ°äº†å°±è®¾ç½®å›¾ç‰‡çš„ src å±æ€§ã€‚\n- ç»‘å®š window çš„ scroll äº‹ä»¶ï¼Œå¯¹å…¶è¿›è¡Œäº‹ä»¶ç›‘å¬ï¼ˆæ­é…èŠ‚æµï¼‰ã€‚\n\n7. æ‡’åŠ è½½å’Œé¢„åŠ è½½\n\n  ä¸¤è€…éƒ½æ˜¯æé«˜é¡µé¢æ€§èƒ½æœ‰æ•ˆçš„åŠæ³•ï¼Œä¸¤è€…ä¸»è¦åŒºåˆ«æ˜¯ä¸€ä¸ªæ˜¯æå‰åŠ è½½ï¼Œä¸€ä¸ªæ˜¯è¿Ÿç¼“ç”šè‡³ä¸åŠ è½½ã€‚æ‡’åŠ è½½å¯¹æœåŠ¡å™¨å‰ç«¯æœ‰ä¸€å®šçš„ç¼“è§£å‹åŠ›ä½œç”¨ï¼Œé¢„åŠ è½½åˆ™ä¼šå¢åŠ æœåŠ¡å™¨å‰ç«¯å‹åŠ›ã€‚\n\n8. å¦‚ä½•åŒºåˆ†è¿”å›å†…å®¹æ˜¯æ–‡ä»¶æµè¿˜æ˜¯jsonæ•°æ®\n\n``` javascript\nawait (await fetch(url)).blob();\n// Blob {size: 100, type: \"application/json\"}\n// Blob {size: 73226, type: \"image/jpeg\"}\n```\n\n9. å†™ä¸€ä¸ªæ–¹æ³•åˆ¤æ–­jsçš„æ–¹æ³•æ˜¯å†…ç½®çš„è¿˜æ˜¯è‡ªå®šä¹‰çš„\n\ntoStringä¸€ä¸‹\n``` javascript\nfunction isNative (f) {\n    return typeof f === 'function' \u0026\u0026 /native code/.test(f.toString())\n}\n```\n\n10. å¾®ä»»åŠ¡ä¸å®ä»»åŠ¡\n\n- JavaScriptæ˜¯å•çº¿ç¨‹çš„è¯­è¨€\n- Event Loopæ˜¯javascriptçš„æ‰§è¡Œæœºåˆ¶\n\n![interview-js-event-loop](interview-js-event-loop.jpeg)\n\n- åŒæ­¥å’Œå¼‚æ­¥ä»»åŠ¡åˆ†åˆ«è¿›å…¥ä¸åŒçš„æ‰§è¡Œ\"åœºæ‰€\"ï¼ŒåŒæ­¥çš„è¿›å…¥ä¸»çº¿ç¨‹ï¼Œå¼‚æ­¥çš„è¿›å…¥Event Tableå¹¶æ³¨å†Œå‡½æ•°\n- å½“æŒ‡å®šçš„äº‹æƒ…å®Œæˆæ—¶ï¼ŒEvent Tableä¼šå°†è¿™ä¸ªå‡½æ•°ç§»å…¥Event Queueã€‚\n- ä¸»çº¿ç¨‹å†…çš„ä»»åŠ¡æ‰§è¡Œå®Œæ¯•ä¸ºç©ºï¼Œä¼šå»Event Queueè¯»å–å¯¹åº”çš„å‡½æ•°ï¼Œè¿›å…¥ä¸»çº¿ç¨‹æ‰§è¡Œã€‚\n- ä¸Šè¿°è¿‡ç¨‹ä¼šä¸æ–­é‡å¤ï¼Œä¹Ÿå°±æ˜¯å¸¸è¯´çš„Event Loop(äº‹ä»¶å¾ªç¯)ã€‚\n\n  jså¼‚æ­¥æœ‰ä¸€ä¸ªæœºåˆ¶ï¼Œå°±æ˜¯é‡åˆ°å®ä»»åŠ¡ï¼Œå…ˆæ‰§è¡Œå®ä»»åŠ¡ï¼Œå°†å®ä»»åŠ¡æ”¾å…¥eventqueueï¼Œç„¶ååœ¨æ‰§è¡Œå¾®ä»»åŠ¡ï¼Œå°†å¾®ä»»åŠ¡æ”¾å…¥eventqueueæœ€éªšçš„æ˜¯ï¼Œè¿™ä¸¤ä¸ªqueueä¸æ˜¯ä¸€ä¸ªqueueã€‚å½“ä½ å¾€å¤–æ‹¿çš„æ—¶å€™å…ˆä»å¾®ä»»åŠ¡é‡Œæ‹¿è¿™ä¸ªå›æ‰å‡½æ•°ï¼Œç„¶åå†ä»å®ä»»åŠ¡çš„queueä¸Šæ‹¿å®ä»»åŠ¡çš„å›æ‰å‡½æ•°ï¼Œä¹Ÿå°±æ˜¯è¯´â€˜åŒä¸€å±‚â€™æ—¢æœ‰å¾®ä»»åŠ¡ä¹Ÿæœ‰å®ä»»åŠ¡çš„æ—¶å€™ï¼Œå…ˆæ‰§è¡Œå¾®ä»»åŠ¡\n\n``` javascript\nconsole.log('1');\n\nsetTimeout(function() {\n    console.log('2');\n    process.nextTick(function() {\n        console.log('3');\n    })\n    new Promise(function(resolve) {\n        console.log('4');\n        resolve();\n    }).then(function() {\n        console.log('5')\n    })\n})\nprocess.nextTick(function() {\n    console.log('6');\n})\nnew Promise(function(resolve) {\n    console.log('7');\n    resolve();\n}).then(function() {\n    console.log('8')\n})\n\nsetTimeout(function() {\n    console.log('9');\n    process.nextTick(function() {\n        console.log('10');\n    })\n    new Promise(function(resolve) {\n        console.log('11');\n        resolve();\n    }).then(function() {\n        console.log('12')\n    })\n})\n```\n\n11. å‡½æ•°çš„æ–¹æ³• call()ã€apply()ã€bind()çš„åŒºåˆ«\n\n  æ”¹å˜å‡½æ•°æ‰§è¡Œä¸Šä¸‹æ–‡ï¼Œä¹Ÿå°±æ˜¯æ”¹å˜thisçš„æŒ‡å‘\n\n- callå’Œapplyæ”¹å˜äº†å‡½æ•°çš„thisä¸Šä¸‹æ–‡åä¾¿æ‰§è¡Œè¯¥å‡½æ•°,è€Œbindåˆ™æ˜¯è¿”å›æ”¹å˜äº†ä¸Šä¸‹æ–‡åçš„ä¸€ä¸ªå‡½æ•°ã€‚\n- callå’Œapplyçš„ç¬¬ä¸€ä¸ªå‚æ•°éƒ½æ˜¯è¦æ”¹å˜ä¸Šä¸‹æ–‡çš„å¯¹è±¡ï¼Œè€Œcallä»ç¬¬äºŒä¸ªå‚æ•°å¼€å§‹ä»¥å‚æ•°åˆ—è¡¨çš„å½¢å¼å±•ç°ï¼Œapplyåˆ™æ˜¯æŠŠé™¤äº†æ”¹å˜ä¸Šä¸‹æ–‡å¯¹è±¡çš„å‚æ•°æ”¾åœ¨ä¸€ä¸ªæ•°ç»„é‡Œé¢ä½œä¸ºå®ƒçš„ç¬¬äºŒä¸ªå‚æ•°ã€‚\n\n\n12. å‰ç«¯æ€§èƒ½ä¼˜åŒ–\n- å‡å°‘ HTTP è¯·æ±‚\n- ä½¿ç”¨ HTTP2\n- ä½¿ç”¨æœåŠ¡ç«¯æ¸²æŸ“\n  \n  å®¢æˆ·ç«¯æ¸²æŸ“: è·å– HTML æ–‡ä»¶ï¼Œæ ¹æ®éœ€è¦ä¸‹è½½ JavaScript æ–‡ä»¶ï¼Œè¿è¡Œæ–‡ä»¶ï¼Œç”Ÿæˆ DOMï¼Œå†æ¸²æŸ“ã€‚\n  æœåŠ¡ç«¯æ¸²æŸ“ï¼šæœåŠ¡ç«¯è¿”å› HTML æ–‡ä»¶ï¼Œå®¢æˆ·ç«¯åªéœ€è§£æ HTMLã€‚\n- é™æ€èµ„æºä½¿ç”¨ CDN\n- å°† CSS æ”¾åœ¨æ–‡ä»¶å¤´éƒ¨ï¼ŒJavaScript æ–‡ä»¶æ”¾åœ¨åº•éƒ¨\n- ä½¿ç”¨å­—ä½“å›¾æ ‡ iconfont ä»£æ›¿å›¾ç‰‡å›¾æ ‡\n- å–„ç”¨ç¼“å­˜ï¼Œä¸é‡å¤åŠ è½½ç›¸åŒçš„èµ„æº\n- å‹ç¼©æ–‡ä»¶ï¼ˆjsï¼Œcssï¼Œå›¾ç‰‡ï¼‰\n- å›¾ç‰‡ä¼˜åŒ–ï¼ˆæ‡’åŠ è½½ï¼Œbase64ï¼‰\n- åˆ†chunkï¼Œå¤§çš„åº“è€ƒè™‘ç”¨CDNï¼ˆreactï¼Œrouterç­‰ï¼‰\n- ä½¿ç”¨äº‹ä»¶å§”æ‰˜\n- if-else å¯¹æ¯” switch\n  \n  å½“åˆ¤æ–­æ¡ä»¶æ•°é‡è¶Šæ¥è¶Šå¤šæ—¶ï¼Œè¶Šå€¾å‘äºä½¿ç”¨ switch è€Œä¸æ˜¯ if-elseã€‚\n- ä½¿ç”¨ Web Workers\n- é™ä½ CSS é€‰æ‹©å™¨çš„å¤æ‚æ€§ï¼ˆå‹¿åµŒå¥—å¤šå±‚ï¼‰\n\n13. ä»€ä¹ˆæ˜¯é˜²æŠ–å’ŒèŠ‚æµï¼Œåº”ç”¨åœºæ™¯æ˜¯å•¥\n    \n    éƒ½æ˜¯ç”¨äºé™åˆ¶å‡½æ•°è¢«é¢‘ç¹è°ƒç”¨\n\n    **é˜²æŠ–ï¼šä»»åŠ¡é¢‘ç¹è§¦å‘çš„æƒ…å†µä¸‹ï¼Œåªæœ‰ä»»åŠ¡è§¦å‘çš„é—´éš”è¶…è¿‡æŒ‡å®šé—´éš”çš„æ—¶å€™ï¼Œä»»åŠ¡æ‰ä¼šæ‰§è¡Œã€‚**\n\n    åœºæ™¯ï¼šæœ‰ä¸ªè¾“å…¥æ¡†ï¼Œè¾“å…¥ä¹‹åä¼šè°ƒç”¨æ¥å£ï¼Œè·å–è”æƒ³è¯ã€‚ä½†æ˜¯ï¼Œå› ä¸ºé¢‘ç¹è°ƒç”¨æ¥å£ä¸å¤ªå¥½ï¼Œæ‰€ä»¥æˆ‘ä»¬åœ¨ä»£ç ä¸­ä½¿ç”¨é˜²æŠ–åŠŸèƒ½ï¼Œåªæœ‰åœ¨ç”¨æˆ·è¾“å…¥å®Œæ¯•çš„ä¸€æ®µæ—¶é—´åï¼Œæ‰ä¼šè°ƒç”¨æ¥å£ï¼Œå‡ºç°è”æƒ³è¯ã€‚\n\n    **èŠ‚æµï¼šä»»åŠ¡é¢‘ç¹è§¦å‘çš„æƒ…å†µä¸‹ï¼ŒæŒ‡å®šæ—¶é—´é—´éš”å†…åªä¼šæ‰§è¡Œä¸€æ¬¡ä»»åŠ¡ã€‚**\n\n    åœºæ™¯ï¼šæ‡’åŠ è½½è¦ç›‘å¬è®¡ç®—æ»šåŠ¨æ¡çš„ä½ç½®ï¼Œä½¿ç”¨èŠ‚æµæŒ‰ä¸€å®šæ—¶é—´çš„é¢‘ç‡è·å–ï¼›åŒåä¸€æŠ¢å•†å“\n\n14. å®ç°é“¾å¼è°ƒç”¨\n    \né“¾å¼è°ƒç”¨çš„æ ¸å¿ƒå°±åœ¨äºè°ƒç”¨å®Œçš„æ–¹æ³•å°†è‡ªèº«å®ä¾‹è¿”å›\n\n``` javascript\nfunction Class1() {\n    console.log('åˆå§‹åŒ–')\n}\nClass1.prototype.method = function(param) {\n    console.log(param)\n    return this\n}\nlet cl = new Class1()\n//ç”±äºnew åœ¨å®ä¾‹åŒ–çš„æ—¶å€™thisä¼šæŒ‡å‘åˆ›å»ºçš„å¯¹è±¡ï¼Œ æ‰€ä»¥this.methodè¿™ä¸ªæ–¹æ³•ä¼šåœ¨åŸå‹é“¾ä¸­æ‰¾åˆ°ã€‚\ncl.method('ç¬¬ä¸€æ¬¡è°ƒç”¨').method('ç¬¬äºŒæ¬¡é“¾å¼è°ƒç”¨').method('ç¬¬ä¸‰æ¬¡é“¾å¼è°ƒç”¨')\n```\n\n15. æ‰‹å†™Promise\n    \n16. å®ç° Promise.all"}},"__N_SSG":true},"page":"/post/[slug]","query":{"slug":"write"},"buildId":"I2T86ywYBvI3XCWaLQsmx","nextExport":false,"isFallback":false,"gsp":true}</script><script nomodule="" src="/_next/static/chunks/polyfills-8f31809deb7932dd0187.js"></script><script src="/_next/static/chunks/main-c6f966696d7d46f48c33.js" async=""></script><script src="/_next/static/chunks/webpack-50bee04d1dc61f8adf5b.js" async=""></script><script src="/_next/static/chunks/framework.10b3d8f36ae5d485c3da.js" async=""></script><script src="/_next/static/chunks/commons.18cd929bdef6e2f96561.js" async=""></script><script src="/_next/static/chunks/pages/_app-7c6d80ab417193f95407.js" async=""></script><script src="/_next/static/chunks/1173eff4538ab0eae4f3f506dea9a7965770ad37.102498c830e6881bc94f.js" async=""></script><script src="/_next/static/chunks/pages/post/%5Bslug%5D-fbf63f1d8d975d156516.js" async=""></script><script src="/_next/static/I2T86ywYBvI3XCWaLQsmx/_buildManifest.js" async=""></script><script src="/_next/static/I2T86ywYBvI3XCWaLQsmx/_ssgManifest.js" async=""></script></body></html>